var Pw=Object.defineProperty;var f0=t=>{throw TypeError(t)};var Sw=(t,e,n)=>e in t?Pw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ms=(t,e,n)=>Sw(t,typeof e!="symbol"?e+"":e,n),xl=(t,e,n)=>e.has(t)||f0("Cannot "+n);var Pt=(t,e,n)=>(xl(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?f0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),We=(t,e,n,i)=>(xl(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Oo=(t,e,n)=>(xl(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Um=!1;var Wm=Array.isArray,Ew=Array.prototype.indexOf,kw=Array.from,lc=Object.defineProperty,Dr=Object.getOwnPropertyDescriptor,Ym=Object.getOwnPropertyDescriptors,Aw=Object.prototype,Lw=Array.prototype,yh=Object.getPrototypeOf,l0=Object.isExtensible;function Cw(t){return typeof t=="function"}const Ro=()=>{};function Nw(t){return t()}function cc(t){for(var e=0;e<t.length;e++)t[e]()}function zw(){var t,e,n=new Promise((i,o)=>{t=i,e=o});return{promise:n,resolve:t,reject:e}}const Fe=2,bh=4,Qu=8,po=16,Kn=32,_o=64,Gm=128,De=256,nu=512,Vt=1024,Ze=2048,bi=4096,di=8192,ar=16384,tf=32768,ef=65536,c0=1<<17,Iw=1<<18,wh=1<<19,xh=1<<20,hc=1<<21,Mh=1<<22,Zi=1<<23,Zr=Symbol("$state"),Ow=Symbol("legacy props"),Rw=Symbol(""),Th=new class extends Error{constructor(){super(...arguments);ms(this,"name","StaleReactionError");ms(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function $w(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Vm(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bw(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Dw(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zw(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Fw(t){throw new Error("https://svelte.dev/e/effect_orphan")}function qw(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hw(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Uw(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ww(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yw(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Gw=2,Vw=4,jw=8,Xw=4,Kw=1,Jw=2,te=Symbol(),Qw="http://www.w3.org/1999/xhtml";function jm(t){return t===this.v}function Xm(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function tx(t,e){return t!==e}function Km(t){return!Xm(t,this.v)}let mo=!1,ex=!1;function nx(){mo=!0}let Nt=null;function iu(t){Nt=t}function ru(t){return Jm().get(t)}function h0(t,e){return Jm().set(t,e),e}function Ra(t,e=!1,n){Nt={p:Nt,c:null,e:null,s:t,x:null,l:mo&&!e?{s:null,u:null,$:[]}:null}}function $a(t){var e=Nt,n=e.e;if(n!==null){e.e=null;for(var i of n)dg(i)}return Nt=e.p,{}}function go(){return!mo||Nt!==null&&Nt.l===null}function Jm(t){return Nt===null&&Vm(),Nt.c??(Nt.c=new Map(ix(Nt)||void 0))}function ix(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}const rx=new WeakMap;function ox(t){var e=wt;if(e===null)return bt.f|=Zi,t;if((e.f&tf)===0){if((e.f&Gm)===0)throw!e.parent&&t instanceof Error&&Qm(t),t;e.b.error(t)}else Ph(t,e)}function Ph(t,e){for(;e!==null;){if((e.f&Gm)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&Qm(t),t}function Qm(t){const e=rx.get(t);e&&(lc(t,"message",{value:e.message}),lc(t,"stack",{value:e.stack}))}let ou=[];function ax(){var t=ou;ou=[],cc(t)}function tg(t){ou.length===0&&queueMicrotask(ax),ou.push(t)}function sx(){for(var t=wt.b;t!==null&&!t.has_pending_snippet();)t=t.parent;return t===null&&$w(),t}function Sh(t){var e=Fe|Ze,n=bt!==null&&(bt.f&Fe)!==0?bt:null;return wt===null||n!==null&&(n.f&De)!==0?e|=De:wt.f|=wh,{ctx:Nt,deps:null,effects:null,equals:jm,f:e,fn:t,reactions:null,rv:0,v:te,wv:0,parent:n??wt,ac:null}}function ux(t,e){let n=wt;n===null&&Bw();var i=n.b,o=void 0,a=Ah(te),u=null,f=!bt;return wx(()=>{try{var l=t()}catch(g){l=Promise.reject(g)}var c=()=>l;o=(u==null?void 0:u.then(c,c))??Promise.resolve(l),u=o;var d=Ie,_=i.pending;f&&(i.update_pending_count(1),_||d.increment());const p=(g,y=void 0)=>{u=null,_||d.activate(),y?y!==Th&&(a.f|=Zi,_c(a,y)):((a.f&Zi)!==0&&(a.f^=Zi),_c(a,g)),f&&(i.update_pending_count(-1),_||d.decrement()),rg()};if(o.then(p,g=>p(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(l=>{function c(d){function _(){d===o?l(a):c(o)}d.then(_,_)}c(o)})}function eg(t){const e=Sh(t);return e.equals=Km,e}function ng(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Vi(e[n])}}function fx(t){for(var e=t.parent;e!==null;){if((e.f&Fe)===0)return e;e=e.parent}return null}function Eh(t){var e,n=wt;pi(fx(t));try{ng(t),e=Tg(t)}finally{pi(n)}return e}function ig(t){var e=Eh(t);if(t.equals(e)||(t.v=e,t.wv=xg()),!sr)if(ai!==null)ai.set(t,t.v);else{var n=(ui||(t.f&De)!==0)&&t.deps!==null?bi:Vt;ee(t,n)}}function lx(t,e,n){const i=go()?Sh:eg;if(e.length===0){n(t.map(i));return}var o=Ie,a=wt,u=cx(),f=sx();Promise.all(e.map(l=>ux(l))).then(l=>{o==null||o.activate(),u();try{n([...t.map(i),...l])}catch(c){(a.f&ar)===0&&Ph(c,a)}o==null||o.deactivate(),rg()}).catch(l=>{f.error(l)})}function cx(){var t=wt,e=bt,n=Nt;return function(){pi(t),Mn(e),iu(n)}}function rg(){pi(null),Mn(null),iu(null)}const gs=new Set;let Ie=null,ai=null,d0=new Set,Yo=[],kh=null,dc=!1;var za,Vr,jr,ri,Ia,Oa,Bi,Xr,oi,Fn,Di,Xn,og,ag,pc;const np=class np{constructor(){Ne(this,Xn);Ne(this,za,new Map);Ne(this,Vr,new Map);Ne(this,jr,new Set);Ne(this,ri,0);Ne(this,Ia,null);Ne(this,Oa,!1);Ne(this,Bi,[]);Ne(this,Xr,[]);Ne(this,oi,[]);Ne(this,Fn,[]);Ne(this,Di,[]);ms(this,"skipped_effects",new Set)}capture(e,n){Pt(this,Vr).has(e)||Pt(this,Vr).set(e,n),Pt(this,za).set(e,e.v)}activate(){Ie=this}deactivate(){Ie=null;for(const e of d0)if(d0.delete(e),e(),Ie!==null)break}neuter(){We(this,Oa,!0)}flush(){Yo.length>0?this.flush_effects():Oo(this,Xn,pc).call(this),Ie===this&&(Pt(this,ri)===0&&gs.delete(this),this.deactivate())}flush_effects(){var e=Fr;dc=!0;try{var n=0;for(m0(!0);Yo.length>0;){if(n++>1e3){var i,o;hx()}Oo(this,Xn,og).call(this,Yo),Fi.clear()}}finally{dc=!1,m0(e),kh=null}}increment(){We(this,ri,Pt(this,ri)+1)}decrement(){if(We(this,ri,Pt(this,ri)-1),Pt(this,ri)===0){for(const e of Pt(this,oi))ee(e,Ze),ci(e);for(const e of Pt(this,Fn))ee(e,Ze),ci(e);for(const e of Pt(this,Di))ee(e,Ze),ci(e);We(this,oi,[]),We(this,Fn,[]),this.flush()}else this.deactivate()}add_callback(e){Pt(this,jr).add(e)}settled(){return(Pt(this,Ia)??We(this,Ia,zw())).promise}static ensure(e=!0){if(Ie===null){const n=Ie=new np;gs.add(Ie),e&&queueMicrotask(()=>{Ie===n&&n.flush()})}return Ie}};za=new WeakMap,Vr=new WeakMap,jr=new WeakMap,ri=new WeakMap,Ia=new WeakMap,Oa=new WeakMap,Bi=new WeakMap,Xr=new WeakMap,oi=new WeakMap,Fn=new WeakMap,Di=new WeakMap,Xn=new WeakSet,og=function(e){var a;Yo=[];var n=null;if(gs.size>1){n=new Map,ai=new Map;for(const[u,f]of Pt(this,za))n.set(u,{v:u.v,wv:u.wv}),u.v=f;for(const u of gs)if(u!==this)for(const[f,l]of Pt(u,Vr))n.has(f)||(n.set(f,{v:f.v,wv:f.wv}),f.v=l)}for(const u of e)Oo(this,Xn,ag).call(this,u);if(Pt(this,Bi).length===0&&Pt(this,ri)===0){var i=Pt(this,oi),o=Pt(this,Fn);We(this,oi,[]),We(this,Fn,[]),We(this,Di,[]),Oo(this,Xn,pc).call(this),p0(i),p0(o),(a=Pt(this,Ia))==null||a.resolve()}else{for(const u of Pt(this,oi))ee(u,Vt);for(const u of Pt(this,Fn))ee(u,Vt);for(const u of Pt(this,Di))ee(u,Vt)}if(n){for(const[u,{v:f,wv:l}]of n)u.wv<=l&&(u.v=f);ai=null}for(const u of Pt(this,Bi))qr(u);for(const u of Pt(this,Xr))qr(u);We(this,Bi,[]),We(this,Xr,[])},ag=function(e){var d;e.f^=Vt;for(var n=e.first;n!==null;){var i=n.f,o=(i&(Kn|_o))!==0,a=o&&(i&Vt)!==0,u=a||(i&di)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){if(o)n.f^=Vt;else if((i&bh)!==0)Pt(this,Fn).push(n);else if(Ba(n))if((i&Mh)!==0){var f=(d=n.b)!=null&&d.pending?Pt(this,Xr):Pt(this,Bi);f.push(n)}else(n.f&po)!==0&&Pt(this,Di).push(n),qr(n);var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},pc=function(){if(!Pt(this,Oa))for(const e of Pt(this,jr))e();Pt(this,jr).clear()};let au=np;function hx(){try{qw()}catch(t){Ph(t,kh)}}function p0(t){var e=t.length;if(e!==0){for(var n=0;n<e;n++){var i=t[n];if((i.f&(ar|di))===0&&Ba(i)){var o=uu;if(qr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?yg(i):i.fn=null),uu>o&&(i.f&xh)!==0)break}}for(;n<e;n+=1)ci(t[n])}}function ci(t){for(var e=kh=t;e.parent!==null;){e=e.parent;var n=e.f;if(dc&&e===wt&&(n&po)!==0)return;if((n&(_o|Kn))!==0){if((n&Vt)===0)return;e.f^=Vt}}Yo.push(e)}const Fi=new Map;function Ah(t,e){var n={f:0,v:t,reactions:null,equals:jm,rv:0,wv:0};return n}function ei(t,e){const n=Ah(t);return Px(n),n}function Lh(t,e=!1,n=!0){var o;const i=Ah(t);return e||(i.equals=Km),mo&&n&&Nt!==null&&Nt.l!==null&&((o=Nt.l).s??(o.s=[])).push(i),i}function $e(t,e,n=!1){bt!==null&&(!gn||(bt.f&c0)!==0)&&go()&&(bt.f&(Fe|po|Mh|c0))!==0&&!(xe!=null&&xe.includes(t))&&Yw();let i=n?Rr(e):e;return _c(t,i)}function _c(t,e){if(!t.equals(e)){var n=t.v;sr?Fi.set(t,e):Fi.set(t,n),t.v=e,au.ensure().capture(t,n),(t.f&Fe)!==0&&((t.f&Ze)!==0&&Eh(t),ee(t,(t.f&De)===0?Vt:bi)),t.wv=xg(),sg(t,Ze),go()&&wt!==null&&(wt.f&Vt)!==0&&(wt.f&(Kn|_o))===0&&(Ve===null?Sx([t]):Ve.push(t))}return e}function Ml(t){$e(t,t.v+1)}function sg(t,e){var n=t.reactions;if(n!==null)for(var i=go(),o=n.length,a=0;a<o;a++){var u=n[a],f=u.f;(f&Ze)===0&&(!i&&u===wt||(ee(u,e),(f&(Vt|De))!==0&&((f&Fe)!==0?sg(u,bi):ci(u))))}}function Rr(t){if(typeof t!="object"||t===null||Zr in t)return t;const e=yh(t);if(e!==Aw&&e!==Lw)return t;var n=new Map,i=Wm(t),o=ei(0),a=qi,u=f=>{if(qi===a)return f();var l=bt,c=qi;Mn(null),v0(a);var d=f();return Mn(l),v0(c),d};return i&&n.set("length",ei(t.length)),new Proxy(t,{defineProperty(f,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Uw();var d=n.get(l);return d===void 0?d=u(()=>{var _=ei(c.value);return n.set(l,_),_}):$e(d,c.value,!0),!0},deleteProperty(f,l){var c=n.get(l);if(c===void 0){if(l in f){const d=u(()=>ei(te));n.set(l,d),Ml(o)}}else $e(c,te),Ml(o);return!0},get(f,l,c){var g;if(l===Zr)return t;var d=n.get(l),_=l in f;if(d===void 0&&(!_||(g=Dr(f,l))!=null&&g.writable)&&(d=u(()=>{var y=Rr(_?f[l]:te),v=ei(y);return v}),n.set(l,d)),d!==void 0){var p=Yt(d);return p===te?void 0:p}return Reflect.get(f,l,c)},getOwnPropertyDescriptor(f,l){var c=Reflect.getOwnPropertyDescriptor(f,l);if(c&&"value"in c){var d=n.get(l);d&&(c.value=Yt(d))}else if(c===void 0){var _=n.get(l),p=_==null?void 0:_.v;if(_!==void 0&&p!==te)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return c},has(f,l){var p;if(l===Zr)return!0;var c=n.get(l),d=c!==void 0&&c.v!==te||Reflect.has(f,l);if(c!==void 0||wt!==null&&(!d||(p=Dr(f,l))!=null&&p.writable)){c===void 0&&(c=u(()=>{var g=d?Rr(f[l]):te,y=ei(g);return y}),n.set(l,c));var _=Yt(c);if(_===te)return!1}return d},set(f,l,c,d){var T;var _=n.get(l),p=l in f;if(i&&l==="length")for(var g=c;g<_.v;g+=1){var y=n.get(g+"");y!==void 0?$e(y,te):g in f&&(y=u(()=>ei(te)),n.set(g+"",y))}if(_===void 0)(!p||(T=Dr(f,l))!=null&&T.writable)&&(_=u(()=>ei(void 0)),$e(_,Rr(c)),n.set(l,_));else{p=_.v!==te;var v=u(()=>Rr(c));$e(_,v)}var b=Reflect.getOwnPropertyDescriptor(f,l);if(b!=null&&b.set&&b.set.call(d,c),!p){if(i&&typeof l=="string"){var x=n.get("length"),P=Number(l);Number.isInteger(P)&&P>=x.v&&$e(x,P+1)}Ml(o)}return!0},ownKeys(f){Yt(o);var l=Reflect.ownKeys(f).filter(_=>{var p=n.get(_);return p===void 0||p.v!==te});for(var[c,d]of n)d.v!==te&&!(c in f)&&l.push(c);return l},setPrototypeOf(){Ww()}})}var _0,ug,fg,lg;function dx(){if(_0===void 0){_0=window,ug=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;fg=Dr(e,"firstChild").get,lg=Dr(e,"nextSibling").get,l0(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),l0(n)&&(n.__t=void 0)}}function Ch(t=""){return document.createTextNode(t)}function si(t){return fg.call(t)}function Nh(t){return lg.call(t)}function Lt(t,e){return si(t)}function zh(t,e){{var n=si(t);return n instanceof Comment&&n.data===""?Nh(n):n}}function Mt(t,e=1,n=!1){let i=t;for(;e--;)i=Nh(i);return i}function cg(){return!1}function hg(t){wt===null&&bt===null&&Fw(),bt!==null&&(bt.f&De)!==0&&wt===null&&Zw(),sr&&Dw()}function px(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function kn(t,e,n,i=!0){var o=wt;o!==null&&(o.f&di)!==0&&(t|=di);var a={ctx:Nt,deps:null,nodes_start:null,nodes_end:null,f:t|Ze,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{qr(a),a.f|=tf}catch(l){throw Vi(a),l}else e!==null&&ci(a);var u=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&wh)===0;if(!u&&i&&(o!==null&&px(a,o),bt!==null&&(bt.f&Fe)!==0)){var f=bt;(f.effects??(f.effects=[])).push(a)}return a}function _x(t){const e=kn(Qu,null,!1);return ee(e,Vt),e.teardown=t,e}function mc(t){hg();var e=wt.f,n=!bt&&(e&Kn)!==0&&(e&tf)===0;if(n){var i=Nt;(i.e??(i.e=[])).push(t)}else return dg(t)}function dg(t){return kn(bh|xh,t,!1)}function mx(t){return hg(),kn(Qu|xh,t,!0)}function gx(t){au.ensure();const e=kn(_o,t,!0);return(n={})=>new Promise(i=>{n.outro?Ih(e,()=>{Vi(e),i(void 0)}):(Vi(e),i(void 0))})}function vx(t){return kn(bh,t,!1)}function yx(t,e){var n=Nt,i={effect:null,ran:!1,deps:t};n.l.$.push(i),i.effect=pg(()=>{t(),!i.ran&&(i.ran=!0,nf(e))})}function bx(){var t=Nt;pg(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&Vt)!==0&&ee(n,bi),Ba(n)&&qr(n),e.ran=!1}})}function wx(t){return kn(Mh|wh,t,!0)}function pg(t,e=0){return kn(Qu|e,t,!0)}function Gi(t,e=[],n=[]){lx(e,n,i=>{kn(Qu,()=>t(...i.map(Yt)),!0)})}function _g(t,e=0){var n=kn(po|e,t,!0);return n}function su(t,e=!0){return kn(Kn,t,!0,e)}function mg(t){var e=t.teardown;if(e!==null){const n=sr,i=bt;g0(!0),Mn(null);try{e.call(null)}finally{g0(n),Mn(i)}}}function gg(t,e=!1){var o;var n=t.first;for(t.first=t.last=null;n!==null;){(o=n.ac)==null||o.abort(Th);var i=n.next;(n.f&_o)!==0?n.parent=null:Vi(n,e),n=i}}function xx(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Kn)===0&&Vi(e),e=n}}function Vi(t,e=!0){var n=!1;(e||(t.f&Iw)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(vg(t.nodes_start,t.nodes_end),n=!0),gg(t,e&&!n),fu(t,0),ee(t,ar);var i=t.transitions;if(i!==null)for(const a of i)a.stop();mg(t);var o=t.parent;o!==null&&o.first!==null&&yg(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function vg(t,e){for(;t!==null;){var n=t===e?null:Nh(t);t.remove(),t=n}}function yg(t){var e=t.parent,n=t.prev,i=t.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=n))}function Ih(t,e){var n=[];bg(t,n,!0),Mx(n,()=>{Vi(t),e&&e()})}function Mx(t,e){var n=t.length;if(n>0){var i=()=>--n||e();for(var o of t)o.out(i)}else e()}function bg(t,e,n){if((t.f&di)===0){if(t.f^=di,t.transitions!==null)for(const u of t.transitions)(u.is_global||n)&&e.push(u);for(var i=t.first;i!==null;){var o=i.next,a=(i.f&ef)!==0||(i.f&Kn)!==0;bg(i,e,a?n:!1),i=o}}}function Tx(t){wg(t,!0)}function wg(t,e){if((t.f&di)!==0){t.f^=di,(t.f&Vt)===0&&(ee(t,Ze),ci(t));for(var n=t.first;n!==null;){var i=n.next,o=(n.f&ef)!==0||(n.f&Kn)!==0;wg(n,o?e:!1),n=i}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Fr=!1;function m0(t){Fr=t}let sr=!1;function g0(t){sr=t}let bt=null,gn=!1;function Mn(t){bt=t}let wt=null;function pi(t){wt=t}let xe=null;function Px(t){bt!==null&&(xe===null?xe=[t]:xe.push(t))}let me=null,ze=0,Ve=null;function Sx(t){Ve=t}let uu=1,pa=0,qi=pa;function v0(t){qi=t}let ui=!1;function xg(){return++uu}function Ba(t){var _;var e=t.f;if((e&Ze)!==0)return!0;if((e&bi)!==0){var n=t.deps,i=(e&De)!==0;if(n!==null){var o,a,u=(e&nu)!==0,f=i&&wt!==null&&!ui,l=n.length;if((u||f)&&(wt===null||(wt.f&ar)===0)){var c=t,d=c.parent;for(o=0;o<l;o++)a=n[o],(u||!((_=a==null?void 0:a.reactions)!=null&&_.includes(c)))&&(a.reactions??(a.reactions=[])).push(c);u&&(c.f^=nu),f&&d!==null&&(d.f&De)===0&&(c.f^=De)}for(o=0;o<l;o++)if(a=n[o],Ba(a)&&ig(a),a.wv>t.wv)return!0}(!i||wt!==null&&!ui)&&ee(t,Vt)}return!1}function Mg(t,e,n=!0){var i=t.reactions;if(i!==null&&!(xe!=null&&xe.includes(t)))for(var o=0;o<i.length;o++){var a=i[o];(a.f&Fe)!==0?Mg(a,e,!1):e===a&&(n?ee(a,Ze):(a.f&Vt)!==0&&ee(a,bi),ci(a))}}function Tg(t){var y;var e=me,n=ze,i=Ve,o=bt,a=ui,u=xe,f=Nt,l=gn,c=qi,d=t.f;me=null,ze=0,Ve=null,ui=(d&De)!==0&&(gn||!Fr||bt===null),bt=(d&(Kn|_o))===0?t:null,xe=null,iu(t.ctx),gn=!1,qi=++pa,t.ac!==null&&(t.ac.abort(Th),t.ac=null);try{t.f|=hc;var _=(0,t.fn)(),p=t.deps;if(me!==null){var g;if(fu(t,ze),p!==null&&ze>0)for(p.length=ze+me.length,g=0;g<me.length;g++)p[ze+g]=me[g];else t.deps=p=me;if(!ui||(d&Fe)!==0&&t.reactions!==null)for(g=ze;g<p.length;g++)((y=p[g]).reactions??(y.reactions=[])).push(t)}else p!==null&&ze<p.length&&(fu(t,ze),p.length=ze);if(go()&&Ve!==null&&!gn&&p!==null&&(t.f&(Fe|bi|Ze))===0)for(g=0;g<Ve.length;g++)Mg(Ve[g],t);return o!==null&&o!==t&&(pa++,Ve!==null&&(i===null?i=Ve:i.push(...Ve))),(t.f&Zi)!==0&&(t.f^=Zi),_}catch(v){return ox(v)}finally{t.f^=hc,me=e,ze=n,Ve=i,bt=o,ui=a,xe=u,iu(f),gn=l,qi=c}}function Ex(t,e){let n=e.reactions;if(n!==null){var i=Ew.call(n,t);if(i!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[i]=n[o],n.pop())}}n===null&&(e.f&Fe)!==0&&(me===null||!me.includes(e))&&(ee(e,bi),(e.f&(De|nu))===0&&(e.f^=nu),ng(e),fu(e,0))}function fu(t,e){var n=t.deps;if(n!==null)for(var i=e;i<n.length;i++)Ex(t,n[i])}function qr(t){var e=t.f;if((e&ar)===0){ee(t,Vt);var n=wt,i=Fr;wt=t,Fr=!0;try{(e&po)!==0?xx(t):gg(t),mg(t);var o=Tg(t);t.teardown=typeof o=="function"?o:null,t.wv=uu;var a;Um&&ex&&(t.f&Ze)!==0&&t.deps}finally{Fr=i,wt=n}}}function Yt(t){var e=t.f,n=(e&Fe)!==0;if(bt!==null&&!gn){var i=wt!==null&&(wt.f&ar)!==0;if(!i&&!(xe!=null&&xe.includes(t))){var o=bt.deps;if((bt.f&hc)!==0)t.rv<pa&&(t.rv=pa,me===null&&o!==null&&o[ze]===t?ze++:me===null?me=[t]:(!ui||!me.includes(t))&&me.push(t));else{(bt.deps??(bt.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[bt]:a.includes(bt)||a.push(bt)}}}else if(n&&t.deps===null&&t.effects===null){var u=t,f=u.parent;f!==null&&(f.f&De)===0&&(u.f^=De)}if(sr){if(Fi.has(t))return Fi.get(t);if(n){u=t;var l=u.v;return((u.f&Vt)!==0||Pg(u))&&(l=Eh(u)),Fi.set(u,l),l}}else if(n){if(u=t,ai!=null&&ai.has(u))return ai.get(u);Ba(u)&&ig(u)}if((t.f&Zi)!==0)throw t.v;return t.v}function Pg(t){if(t.v===te)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Fi.has(e)||(e.f&Fe)!==0&&Pg(e))return!0;return!1}function nf(t){var e=gn;try{return gn=!0,t()}finally{gn=e}}const kx=-7169;function ee(t,e){t.f=t.f&kx|e}function Ax(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Zr in t)gc(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Zr in n&&gc(n)}}}function gc(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{gc(t[i],e)}catch{}const n=yh(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Ym(n);for(let o in i){const a=i[o].get;if(a)try{a.call(t)}catch{}}}}}const Lx=["touchstart","touchmove"];function Cx(t){return Lx.includes(t)}function Oh(t){var e=bt,n=wt;Mn(null),pi(null);try{return t()}finally{Mn(e),pi(n)}}const Nx=new Set,y0=new Set;function zx(t,e,n,i={}){function o(a){if(i.capture||Go.call(e,a),!a.cancelBubble)return Oh(()=>n==null?void 0:n.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?tg(()=>{e.addEventListener(t,o,i)}):e.addEventListener(t,o,i),o}function b0(t,e,n,i,o){var a={capture:i,passive:o},u=zx(t,e,n,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&_x(()=>{e.removeEventListener(t,u,a)})}function Go(t){var P;var e=this,n=e.ownerDocument,i=t.type,o=((P=t.composedPath)==null?void 0:P.call(t))||[],a=o[0]||t.target,u=0,f=t.__root;if(f){var l=o.indexOf(f);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var c=o.indexOf(e);if(c===-1)return;l<=c&&(u=l)}if(a=o[u]||t.target,a!==e){lc(t,"currentTarget",{configurable:!0,get(){return a||n}});var d=bt,_=wt;Mn(null),pi(null);try{for(var p,g=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var v=a["__"+i];if(v!=null&&(!a.disabled||t.target===a))if(Wm(v)){var[b,...x]=v;b.apply(a,[t,...x])}else v.call(a,t)}catch(T){p?g.push(T):p=T}if(t.cancelBubble||y===e||y===null)break;a=y}if(p){for(let T of g)queueMicrotask(()=>{throw T});throw p}}finally{t.__root=e,delete t.currentTarget,Mn(d),pi(_)}}}function Sg(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function vc(t,e){var n=wt;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function tn(t,e){var n=(e&Kw)!==0,i=(e&Jw)!==0,o,a=!t.startsWith("<!>");return()=>{o===void 0&&(o=Sg(a?t:"<!>"+t),n||(o=si(o)));var u=i||ug?document.importNode(o,!0):o.cloneNode(!0);if(n){var f=si(u),l=u.lastChild;vc(f,l)}else vc(u,u);return u}}function Qe(t,e){t!==null&&t.before(e)}let yc=!0;function Hi(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Ix(t,e){return Ox(t,e)}const Mr=new Map;function Ox(t,{target:e,anchor:n,props:i={},events:o,context:a,intro:u=!0}){dx();var f=new Set,l=_=>{for(var p=0;p<_.length;p++){var g=_[p];if(!f.has(g)){f.add(g);var y=Cx(g);e.addEventListener(g,Go,{passive:y});var v=Mr.get(g);v===void 0?(document.addEventListener(g,Go,{passive:y}),Mr.set(g,1)):Mr.set(g,v+1)}}};l(kw(Nx)),y0.add(l);var c=void 0,d=gx(()=>{var _=n??e.appendChild(Ch());return su(()=>{if(a){Ra({});var p=Nt;p.c=a}o&&(i.$$events=o),yc=u,c=t(_,i)||{},yc=!0,a&&$a()}),()=>{var y;for(var p of f){e.removeEventListener(p,Go);var g=Mr.get(p);--g===0?(document.removeEventListener(p,Go),Mr.delete(p)):Mr.set(p,g)}y0.delete(l),_!==n&&((y=_.parentNode)==null||y.removeChild(_))}});return Rx.set(c,d),c}let Rx=new WeakMap;function bc(t,e,n=!1){var i=t,o=null,a=null,u=te,f=n?ef:0,l=!1;const c=(g,y=!0)=>{l=!0,p(y,g)};var d=null;function _(){d!==null&&(d.lastChild.remove(),i.before(d),d=null);var g=u?o:a,y=u?a:o;g&&Tx(g),y&&Ih(y,()=>{u?a=null:o=null})}const p=(g,y)=>{if(u!==(u=g)){var v=cg(),b=i;if(v&&(d=document.createDocumentFragment(),d.append(b=Ch())),u?o??(o=y&&su(()=>y(b))):a??(a=y&&su(()=>y(b))),v){var x=Ie,P=u?o:a,T=u?a:o;P&&x.skipped_effects.delete(P),T&&x.skipped_effects.add(T),x.add_callback(_)}else _()}};_g(()=>{l=!1,e(c),l||p(null,null)},f)}function $x(t,e,n){var i=t,o=te,a,u,f=null,l=go()?tx:Xm;function c(){a&&Ih(a),f!==null&&(f.lastChild.remove(),i.before(f),f=null),a=u}_g(()=>{if(l(o,o=e())){var d=i,_=cg();_&&(f=document.createDocumentFragment(),f.append(d=Ch())),u=su(()=>n(d)),_?Ie.add_callback(c):c()}})}function w0(t,e,n=!1,i=!1,o=!1){var a=t,u="";Gi(()=>{var f=wt;if(u!==(u=e()??"")&&(f.nodes_start!==null&&(vg(f.nodes_start,f.nodes_end),f.nodes_start=f.nodes_end=null),u!=="")){var l=u+"";n?l=`<svg>${l}</svg>`:i&&(l=`<math>${l}</math>`);var c=Sg(l);if((n||i)&&(c=si(c)),vc(si(c),c.lastChild),n||i)for(;si(c);)a.before(si(c));else a.before(c)}})}function Bx(t,e){return t==null?null:String(t)}function x0(t,e,n,i){var o=t.__style;if(o!==e){var a=Bx(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return i}const Dx=Symbol("is custom element"),Zx=Symbol("is html");function Vo(t,e,n,i){var o=Fx(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[Rw]=n),n==null?t.removeAttribute(e):typeof n!="string"&&qx(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Fx(t){return t.__attributes??(t.__attributes={[Dx]:t.nodeName.includes("-"),[Zx]:t.namespaceURI===Qw})}var M0=new Map;function qx(t){var e=M0.get(t.nodeName);if(e)return e;M0.set(t.nodeName,e=[]);for(var n,i=t,o=Element.prototype;o!==i;){n=Ym(i);for(var a in n)n[a].set&&e.push(a);i=yh(i)}return e}const Hx=()=>performance.now(),qn={tick:t=>requestAnimationFrame(t),now:()=>Hx(),tasks:new Set};function Eg(){const t=qn.now();qn.tasks.forEach(e=>{e.c(t)||(qn.tasks.delete(e),e.f())}),qn.tasks.size!==0&&qn.tick(Eg)}function Ux(t){let e;return qn.tasks.size===0&&qn.tick(Eg),{promise:new Promise(n=>{qn.tasks.add(e={c:t,f:n})}),abort(){qn.tasks.delete(e)}}}function vs(t,e){Oh(()=>{t.dispatchEvent(new CustomEvent(e))})}function Wx(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function T0(t){const e={},n=t.split(";");for(const i of n){const[o,a]=i.split(":");if(!o||a===void 0)break;const u=Wx(o.trim());e[u]=a.trim()}return e}const Yx=t=>t;function Gx(t,e,n,i){var o=(t&Xw)!==0,a="both",u,f=e.inert,l=e.style.overflow,c,d;function _(){return Oh(()=>u??(u=n()(e,(i==null?void 0:i())??{},{direction:a})))}var p={is_global:o,in(){e.inert=f,vs(e,"introstart"),c=wc(e,_(),d,1,()=>{vs(e,"introend"),c==null||c.abort(),c=u=void 0,e.style.overflow=l})},out(b){e.inert=!0,vs(e,"outrostart"),d=wc(e,_(),c,0,()=>{vs(e,"outroend"),b==null||b()})},stop:()=>{c==null||c.abort(),d==null||d.abort()}},g=wt;if((g.transitions??(g.transitions=[])).push(p),yc){var y=o;if(!y){for(var v=g.parent;v&&(v.f&ef)!==0;)for(;(v=v.parent)&&(v.f&po)===0;);y=!v||(v.f&tf)!==0}y&&vx(()=>{nf(()=>p.in())})}}function wc(t,e,n,i,o){var a=i===1;if(Cw(e)){var u,f=!1;return tg(()=>{if(!f){var b=e({direction:a?"in":"out"});u=wc(t,b,n,i,o)}}),{abort:()=>{f=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return o(),{abort:Ro,deactivate:Ro,reset:Ro,t:()=>i};const{delay:l=0,css:c,tick:d,easing:_=Yx}=e;var p=[];if(a&&n===void 0&&(d&&d(0,1),c)){var g=T0(c(0,1));p.push(g,g)}var y=()=>1-i,v=t.animate(p,{duration:l,fill:"forwards"});return v.onfinish=()=>{v.cancel();var b=(n==null?void 0:n.t())??1-i;n==null||n.abort();var x=i-b,P=e.duration*Math.abs(x),T=[];if(P>0){var M=!1;if(c)for(var k=Math.ceil(P/16.666666666666668),A=0;A<=k;A+=1){var O=b+x*_(A/k),B=T0(c(O,1-O));T.push(B),M||(M=B.overflow==="hidden")}M&&(t.style.overflow="hidden"),y=()=>{var R=v.currentTime;return b+x*_(R/P)},d&&Ux(()=>{if(v.playState!=="running")return!1;var R=y();return d(R,1-R),!0})}v=t.animate(T,{duration:P,fill:"forwards"}),v.onfinish=()=>{y=()=>i,d==null||d(i,1-i),o()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Ro)},deactivate:()=>{o=Ro},reset:()=>{i===0&&(d==null||d(1,0))},t:()=>y()}}function Rh(t=!1){const e=Nt,n=e.l.u;if(!n)return;let i=()=>Ax(e.s);if(t){let o=0,a={};const u=Sh(()=>{let f=!1;const l=e.s;for(const c in l)l[c]!==a[c]&&(a[c]=l[c],f=!0);return f&&o++,o});i=()=>Yt(u)}n.b.length&&mx(()=>{P0(e,i),cc(n.b)}),mc(()=>{const o=nf(()=>n.m.map(Nw));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&mc(()=>{P0(e,i),cc(n.a)})}function P0(t,e){if(t.l.s)for(const n of t.l.s)Yt(n);e()}let ys=!1;function Vx(t){var e=ys;try{return ys=!1,[t(),ys]}finally{ys=e}}function bs(t,e,n,i){var P;var o=!mo||(n&Gw)!==0,a=(n&jw)!==0,u=i,f=!0,l=()=>(f&&(f=!1,u=i),u),c;{var d=Zr in t||Ow in t;c=((P=Dr(t,e))==null?void 0:P.set)??(d&&e in t?T=>t[e]=T:void 0)}var _,p=!1;[_,p]=Vx(()=>t[e]),_===void 0&&i!==void 0&&(_=l(),c&&(o&&Hw(),c(_)));var g;if(o?g=()=>{var T=t[e];return T===void 0?l():(f=!0,T)}:g=()=>{var T=t[e];return T!==void 0&&(u=void 0),T===void 0?u:T},o&&(n&Vw)===0)return g;if(c){var y=t.$$legacy;return function(T,M){return arguments.length>0?((!o||!M||y||p)&&c(M?g():T),T):g()}}var v=!1,b=eg(()=>(v=!1,g()));Yt(b);var x=wt;return function(T,M){if(arguments.length>0){const k=M?Yt(b):o&&a?Rr(T):T;return $e(b,k),v=!0,u!==void 0&&(u=k),T}return sr&&v||(x.f&ar)!==0?b.v:Yt(b)}}function kg(t){Nt===null&&Vm(),mo&&Nt.l!==null?jx(Nt).m.push(t):mc(()=>{const e=nf(t);if(typeof e=="function")return e})}function jx(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Xx="5";var Hm;typeof window<"u"&&((Hm=window.__svelte??(window.__svelte={})).v??(Hm.v=new Set)).add(Xx);nx();function Kx(t,e=document){return typeof t=="string"?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}function Jx(t){const e=document.createElement("div");e.className=`scrollama__debug-step ${t}`,e.style.position="fixed",e.style.left="0",e.style.width="100%",e.style.zIndex="9999",e.style.borderTop="2px solid black",e.style.borderBottom="2px solid black";const n=document.createElement("p");return n.style.position="absolute",n.style.left="0",n.style.height="1px",n.style.width="100%",n.style.borderTop="1px dashed black",e.appendChild(n),document.body.appendChild(e),e}function Qx({id:t,step:e,marginTop:n}){const{index:i,height:o}=e,a=`scrollama__debug-step--${t}-${i}`;let u=document.querySelector(`.${a}`);u||(u=Jx(a)),u.style.top=`${n*-1}px`,u.style.height=`${o}px`,u.querySelector("p").style.top=`${o/2}px`}function t3(){const t="abcdefghijklmnopqrstuvwxyz",e=Date.now(),n=[];for(let i=0;i<6;i+=1){const o=t[Math.floor(Math.random()*t.length)];n.push(o)}return`${n.join("")}${e}`}function ws(t){console.error(`scrollama error: ${t}`)}function $o(t){return+t.getAttribute("data-scrollama-index")}function e3(t,e){const n=Math.ceil(t/e),i=[],o=1/n;for(let a=0;a<n+1;a+=1)i.push(a*o);return i}function Tl(t){if(typeof t=="string"&&t.indexOf("px")>0){const e=+t.replace("px","");return isNaN(e)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:e}}else if(typeof t=="number"||!isNaN(+t))return t>1&&err("offset value is greater than 1. Fallback to 1."),t<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,t),1)};return null}function n3(t){t.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}function i3(t){const{top:e}=t.getBoundingClientRect(),n=window.pageYOffset,i=document.body.clientTop||0;return e+n-i}let Ir,Hs,Bn;function Ag(t){const e=t?t.scrollTop:window.pageYOffset;Ir!==e&&(Ir=e,Ir>Hs?Bn="down":Ir<Hs&&(Bn="up"),Hs=Ir)}function r3(t){Ir=0,Hs=0,document.addEventListener("scroll",()=>Ag(t))}function o3(){let t={},e=t3(),n=[],i,o,a,u=0,f=!1,l=!1,c=!1,d=!1,_=[];function p(){t={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},_=[]}function g(E){E&&!f&&W(),!E&&f&&k(),f=E}function y(E,I){const C=$o(E),Z=n[C];I!==void 0&&(Z.progress=I);const q={element:E,index:C,progress:I,direction:Bn};Z.state==="enter"&&t.stepProgress(q)}function v(E,I=!0){const C=$o(E),Z=n[C],q={element:E,index:C,direction:Bn};Z.direction=Bn,Z.state="enter",_[C]||t.stepEnter(q),d&&(_[C]=!0)}function b(E,I=!0){const C=$o(E),Z=n[C];if(!Z.state)return!1;const q={element:E,index:C,direction:Bn};l&&(Bn==="down"&&Z.progress<1?y(E,1):Bn==="up"&&Z.progress>0&&y(E,0)),Z.direction=Bn,Z.state="exit",t.stepExit(q)}function x([E]){const I=$o(E.target),C=n[I],Z=E.target.offsetHeight;Z!==C.height&&(C.height=Z,M(C),B(C),A(C))}function P([E]){Ag(o);const{isIntersecting:I,target:C}=E;I?v(C):b(C)}function T([E]){const I=$o(E.target),C=n[I],{isIntersecting:Z,intersectionRatio:q,target:Y}=E;Z&&C.state==="enter"&&y(Y,q)}function M({observers:E}){Object.keys(E).map(I=>{E[I].disconnect()})}function k(){n.forEach(M)}function A(E){const I=new ResizeObserver(x);I.observe(E.node),E.observers.resize=I}function O(){n.forEach(A)}function B(E){const I=window.innerHeight,C=E.offset||i,Z=C.format==="pixels"?1:I,q=C.value*Z,Y=E.height/2-q,U=E.height/2-(I-q),K={rootMargin:`${Y}px 0px ${U}px 0px`,threshold:.5,root:a},tt=new IntersectionObserver(P,K);tt.observe(E.node),E.observers.step=tt,c&&Qx({id:e,step:E,marginTop:Y})}function R(){n.forEach(B)}function $(E){const I=window.innerHeight,C=E.offset||i,Z=C.format==="pixels"?1:I,q=C.value*Z,Y=-q+E.height,U=q-I,V=`${Y}px 0px ${U}px 0px`,X=e3(E.height,u),nt={rootMargin:V,threshold:X},K=new IntersectionObserver(T,nt);K.observe(E.node),E.observers.progress=K}function z(){n.forEach($)}function W(){k(),O(),R(),l&&z()}const D={};return D.setup=({step:E,parent:I,offset:C=.5,threshold:Z=4,progress:q=!1,once:Y=!1,debug:U=!1,container:V=void 0,root:X=null})=>(r3(V),n=Kx(E,I).map((nt,K)=>({index:K,direction:void 0,height:nt.offsetHeight,node:nt,observers:{},offset:Tl(nt.dataset.offset),top:i3(nt),progress:0,state:void 0})),n.length?(l=q,d=Y,c=U,u=Math.max(1,+Z),i=Tl(C),o=V,a=X,p(),n3(n),g(!0),D):(ws("no step elements"),D)),D.enable=()=>(g(!0),D),D.disable=()=>(g(!1),D),D.destroy=()=>(g(!1),p(),D),D.resize=()=>(W(),D),D.offset=E=>E==null?i.value:(i=Tl(E),W(),D),D.onStepEnter=E=>(typeof E=="function"?t.stepEnter=E:ws("onStepEnter requires a function"),D),D.onStepExit=E=>(typeof E=="function"?t.stepExit=E:ws("onStepExit requires a function"),D),D.onStepProgress=E=>(typeof E=="function"?t.stepProgress=E:ws("onStepProgress requires a function"),D),D}function Zt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lg(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rf(t){let e,n,i;t.length!==2?(e=Zt,n=(f,l)=>Zt(t(f),l),i=(f,l)=>t(f)-l):(e=t===Zt||t===Lg?t:a3,n=t,i=t);function o(f,l,c=0,d=f.length){if(c<d){if(e(l,l)!==0)return d;do{const _=c+d>>>1;n(f[_],l)<0?c=_+1:d=_}while(c<d)}return c}function a(f,l,c=0,d=f.length){if(c<d){if(e(l,l)!==0)return d;do{const _=c+d>>>1;n(f[_],l)<=0?c=_+1:d=_}while(c<d)}return c}function u(f,l,c=0,d=f.length){const _=o(f,l,c,d-1);return _>c&&i(f[_-1],l)>-i(f[_],l)?_-1:_}return{left:o,center:u,right:a}}function a3(){return 0}function lu(t){return t===null?NaN:+t}function*s3(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const Cg=rf(Zt),_i=Cg.right,u3=Cg.left,f3=rf(lu).center;function l3(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const i=$h(e),o=t.slice();return i(t,o,0,n,1),i(o,t,0,n,1),i(t,o,0,n,1),t}const Ng=zg($h),c3=zg(h3);function zg(t){return function(e,n,i=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((i=+i)>=0))throw new RangeError("invalid ry");let{data:o,width:a,height:u}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((u=Math.floor(u!==void 0?u:o.length/a))>=0))throw new RangeError("invalid height");if(!a||!u||!n&&!i)return e;const f=n&&t(n),l=i&&t(i),c=o.slice();return f&&l?(Tr(f,c,o,a,u),Tr(f,o,c,a,u),Tr(f,c,o,a,u),Pr(l,o,c,a,u),Pr(l,c,o,a,u),Pr(l,o,c,a,u)):f?(Tr(f,o,c,a,u),Tr(f,c,o,a,u),Tr(f,o,c,a,u)):l&&(Pr(l,o,c,a,u),Pr(l,c,o,a,u),Pr(l,o,c,a,u)),e}}function Tr(t,e,n,i,o){for(let a=0,u=i*o;a<u;)t(e,n,a,a+=i,1)}function Pr(t,e,n,i,o){for(let a=0,u=i*o;a<i;++a)t(e,n,a,a+u,i)}function h3(t){const e=$h(t);return(n,i,o,a,u)=>{o<<=2,a<<=2,u<<=2,e(n,i,o+0,a+0,u),e(n,i,o+1,a+1,u),e(n,i,o+2,a+2,u),e(n,i,o+3,a+3,u)}}function $h(t){const e=Math.floor(t);if(e===t)return d3(t);const n=t-e,i=2*t+1;return(o,a,u,f,l)=>{if(!((f-=l)>=u))return;let c=e*a[u];const d=l*e,_=d+l;for(let p=u,g=u+d;p<g;p+=l)c+=a[Math.min(f,p)];for(let p=u,g=f;p<=g;p+=l)c+=a[Math.min(f,p+d)],o[p]=(c+n*(a[Math.max(u,p-_)]+a[Math.min(f,p+_)]))/i,c-=a[Math.max(u,p-d)]}}function d3(t){const e=2*t+1;return(n,i,o,a,u)=>{if(!((a-=u)>=o))return;let f=t*i[o];const l=u*t;for(let c=o,d=o+l;c<d;c+=u)f+=i[Math.min(a,c)];for(let c=o,d=a;c<=d;c+=u)f+=i[Math.min(a,c+l)],n[c]=f/e,f-=i[Math.max(o,c-l)]}}function of(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&++n}return n}function p3(t){return t.length|0}function _3(t){return!(t>0)}function m3(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function g3(t){return e=>t(...e)}function v3(...t){const e=typeof t[t.length-1]=="function"&&g3(t.pop());t=t.map(m3);const n=t.map(p3),i=t.length-1,o=new Array(i+1).fill(0),a=[];if(i<0||n.some(_3))return a;for(;;){a.push(o.map((f,l)=>t[l][f]));let u=i;for(;++o[u]===n[u];){if(u===0)return e?a.map(e):a;o[u--]=0}}}function y3(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,i++,t)||0)}function Ig(t,e){let n=0,i,o=0,a=0;if(e===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++n,a+=i*(u-o));else{let u=-1;for(let f of t)(f=e(f,++u,t))!=null&&(f=+f)>=f&&(i=f-o,o+=i/++n,a+=i*(f-o))}if(n>1)return a/(n-1)}function Og(t,e){const n=Ig(t,e);return n&&Math.sqrt(n)}function ua(t,e){let n,i;if(e===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class Xt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],u=e+a,f=Math.abs(e)<Math.abs(a)?e-(u-a):a-(u-e);f&&(n[i++]=f),e=u}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,u=0;if(n>0){for(u=e[--n];n>0&&(i=u,o=e[--n],u=i+o,a=o-(u-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=u+o,o==i-u&&(u=i))}return u}}function b3(t,e){const n=new Xt;if(e===void 0)for(let i of t)(i=+i)&&n.add(i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&n.add(o)}return+n}function w3(t,e){const n=new Xt;let i=-1;return Float64Array.from(t,e===void 0?o=>n.add(+o||0):o=>n.add(+e(o,++i,t)||0))}class _a extends Map{constructor(e,n=Bg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(xc(this,e))}has(e){return super.has(xc(this,e))}set(e,n){return super.set(Rg(this,e),n)}delete(e){return super.delete($g(this,e))}}class ji extends Set{constructor(e,n=Bg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(xc(this,e))}add(e){return super.add(Rg(this,e))}delete(e){return super.delete($g(this,e))}}function xc({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Rg({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function $g({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Bg(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kr(t){return t}function Dg(t,...e){return vo(t,Kr,Kr,e)}function Zg(t,...e){return vo(t,Array.from,Kr,e)}function Fg(t,e){for(let n=1,i=e.length;n<i;++n)t=t.flatMap(o=>o.pop().map(([a,u])=>[...o,a,u]));return t}function x3(t,...e){return Fg(Zg(t,...e),e)}function M3(t,e,...n){return Fg(Hg(t,e,...n),n)}function qg(t,e,...n){return vo(t,Kr,e,n)}function Hg(t,e,...n){return vo(t,Array.from,e,n)}function T3(t,...e){return vo(t,Kr,Ug,e)}function P3(t,...e){return vo(t,Array.from,Ug,e)}function Ug(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function vo(t,e,n,i){return function o(a,u){if(u>=i.length)return n(a);const f=new _a,l=i[u++];let c=-1;for(const d of a){const _=l(d,++c,a),p=f.get(_);p?p.push(d):f.set(_,[d])}for(const[d,_]of f)f.set(d,o(_,u));return e(f)}(t,0)}function Wg(t,e){return Array.from(e,n=>t[n])}function Mc(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(o,a)=>a);return e.length>1?(e=e.map(o=>t.map(o)),i.sort((o,a)=>{for(const u of e){const f=Jr(u[o],u[a]);if(f)return f}})):(n=t.map(n),i.sort((o,a)=>Jr(n[o],n[a]))),Wg(t,i)}return t.sort(Bh(n))}function Bh(t=Zt){if(t===Zt)return Jr;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function Jr(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function S3(t,e,n){return(e.length!==2?Mc(qg(t,e,n),([i,o],[a,u])=>Zt(o,u)||Zt(i,a)):Mc(Dg(t,n),([i,o],[a,u])=>e(o,u)||Zt(i,a))).map(([i])=>i)}var E3=Array.prototype,k3=E3.slice;function Pl(t){return()=>t}const A3=Math.sqrt(50),L3=Math.sqrt(10),C3=Math.sqrt(2);function cu(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),u=a>=A3?10:a>=L3?5:a>=C3?2:1;let f,l,c;return o<0?(c=Math.pow(10,-o)/u,f=Math.round(t*c),l=Math.round(e*c),f/c<t&&++f,l/c>e&&--l,c=-c):(c=Math.pow(10,o)*u,f=Math.round(t/c),l=Math.round(e/c),f*c<t&&++f,l*c>e&&--l),l<f&&.5<=n&&n<2?cu(t,e,n*2):[f,l,c]}function Xi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,a,u]=i?cu(e,t,n):cu(t,e,n);if(!(a>=o))return[];const f=a-o+1,l=new Array(f);if(i)if(u<0)for(let c=0;c<f;++c)l[c]=(a-c)/-u;else for(let c=0;c<f;++c)l[c]=(a-c)*u;else if(u<0)for(let c=0;c<f;++c)l[c]=(o+c)/-u;else for(let c=0;c<f;++c)l[c]=(o+c)*u;return l}function Ki(t,e,n){return e=+e,t=+t,n=+n,cu(t,e,n)[2]}function hu(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?Ki(e,t,n):Ki(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function Dh(t,e,n){let i;for(;;){const o=Ki(t,e,n);if(o===i||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}function Zh(t){return Math.max(1,Math.ceil(Math.log(of(t))/Math.LN2)+1)}function S0(){var t=Kr,e=ua,n=Zh;function i(o){Array.isArray(o)||(o=Array.from(o));var a,u=o.length,f,l,c=new Array(u);for(a=0;a<u;++a)c[a]=t(o[a],a,o);var d=e(c),_=d[0],p=d[1],g=n(c,_,p);if(!Array.isArray(g)){const T=p,M=+g;if(e===ua&&([_,p]=Dh(_,p,M)),g=Xi(_,p,M),g[0]<=_&&(l=Ki(_,p,M)),g[g.length-1]>=p)if(T>=p&&e===ua){const k=Ki(_,p,M);isFinite(k)&&(k>0?p=(Math.floor(p/k)+1)*k:k<0&&(p=(Math.ceil(p*-k)+1)/-k))}else g.pop()}for(var y=g.length,v=0,b=y;g[v]<=_;)++v;for(;g[b-1]>p;)--b;(v||b<y)&&(g=g.slice(v,b),y=b-v);var x=new Array(y+1),P;for(a=0;a<=y;++a)P=x[a]=[],P.x0=a>0?g[a-1]:_,P.x1=a<y?g[a]:p;if(isFinite(l)){if(l>0)for(a=0;a<u;++a)(f=c[a])!=null&&_<=f&&f<=p&&x[Math.min(y,Math.floor((f-_)/l))].push(o[a]);else if(l<0){for(a=0;a<u;++a)if((f=c[a])!=null&&_<=f&&f<=p){const T=Math.floor((_-f)*l);x[Math.min(y,T+(g[T]<=f))].push(o[a])}}}else for(a=0;a<u;++a)(f=c[a])!=null&&_<=f&&f<=p&&x[_i(g,f,0,y)].push(o[a]);return x}return i.value=function(o){return arguments.length?(t=typeof o=="function"?o:Pl(o),i):t},i.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Pl([o[0],o[1]]),i):e},i.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Pl(Array.isArray(o)?k3.call(o):o),i):n},i}function ma(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Fh(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);return i}function du(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function qh(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);return i}function af(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?Jr:Bh(o);i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,d=Math.log(l),_=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*_*(l-_)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*_/l+p)),y=Math.min(i,Math.floor(e+(l-c)*_/l+p));af(t,e,g,y,o)}const a=t[e];let u=n,f=i;for(Bo(t,n,e),o(t[i],a)>0&&Bo(t,n,i);u<f;){for(Bo(t,u,f),++u,--f;o(t[u],a)<0;)++u;for(;o(t[f],a)>0;)--f}o(t[n],a)===0?Bo(t,n,f):(++f,Bo(t,f,i)),f<=e&&(n=f+1),e<=f&&(i=f-1)}return t}function Bo(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Yg(t,e=Zt){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?Zt(u,o)>0:Zt(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)>0:e(o,o)===0)&&(n=o,i=!0);return n}function ga(t,e,n){if(t=Float64Array.from(s3(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return du(t);if(e>=1)return ma(t);var i,o=(i-1)*e,a=Math.floor(o),u=ma(af(t,a).subarray(0,a+1)),f=du(t.subarray(a+1));return u+(f-u)*(o-a)}}function Gg(t,e,n=lu){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t),f=+n(t[a+1],a+1,t);return u+(f-u)*(o-a)}}function Vg(t,e,n=lu){if(!isNaN(e=+e)){if(i=Float64Array.from(t,(f,l)=>lu(n(t[l],l,t))),e<=0)return qh(i);if(e>=1)return Fh(i);var i,o=Uint32Array.from(t,(f,l)=>l),a=i.length-1,u=Math.floor(a*e);return af(o,u,0,a,(f,l)=>Jr(i[f],i[l])),u=Yg(o.subarray(0,u+1),f=>i[f]),u>=0?u:-1}}function N3(t,e,n){const i=of(t),o=ga(t,.75)-ga(t,.25);return i&&o?Math.ceil((n-e)/(2*o*Math.pow(i,-1/3))):1}function z3(t,e,n){const i=of(t),o=Og(t);return i&&o?Math.ceil((n-e)*Math.cbrt(i)/(3.49*o)):1}function I3(t,e){let n=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function O3(t,e){return ga(t,.5,e)}function R3(t,e){return Vg(t,.5,e)}function*$3(t){for(const e of t)yield*e}function Hh(t){return Array.from($3(t))}function B3(t,e){const n=new _a;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let u of t)(u=e(u,++a,t))!=null&&u>=u&&n.set(u,(n.get(u)||0)+1)}let i,o=0;for(const[a,u]of n)u>o&&(o=u,i=a);return i}function D3(t,e=Z3){const n=[];let i,o=!1;for(const a of t)o&&n.push(e(i,a)),i=a,o=!0;return n}function Z3(t,e){return[t,e]}function fi(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(o);++i<o;)a[i]=t+i*n;return a}function F3(t,e=Zt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const i=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=Zt);const o=(f,l)=>e(n[f],n[l]);let a,u;return t=Uint32Array.from(n,(f,l)=>l),t.sort(e===Zt?(f,l)=>Jr(n[f],n[l]):Bh(o)),t.forEach((f,l)=>{const c=o(f,a===void 0?f:a);c>=0?((a===void 0||c>0)&&(a=f,u=l),i[f]=u):i[f]=NaN}),i}function q3(t,e=Zt){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?Zt(u,o)<0:Zt(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)<0:e(o,o)===0)&&(n=o,i=!0);return n}function jg(t,e=Zt){if(e.length===1)return qh(t,e);let n,i=-1,o=-1;for(const a of t)++o,(i<0?e(a,a)===0:e(a,n)<0)&&(n=a,i=o);return i}function H3(t,e=Zt){if(e.length===1)return Fh(t,e);let n,i=-1,o=-1;for(const a of t)++o,(i<0?e(a,a)===0:e(a,n)>0)&&(n=a,i=o);return i}function U3(t,e){const n=jg(t,e);return n<0?void 0:n}const W3=Xg(Math.random);function Xg(t){return function(n,i=0,o=n.length){let a=o-(i=+i);for(;a;){const u=t()*a--|0,f=n[a+i];n[a+i]=n[u+i],n[u+i]=f}return n}}function Y3(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&(n+=o)}return n}function Kg(t){if(!(a=t.length))return[];for(var e=-1,n=du(t,G3),i=new Array(n);++e<n;)for(var o=-1,a,u=i[e]=new Array(a);++o<a;)u[o]=t[o][e];return i}function G3(t){return t.length}function V3(){return Kg(arguments)}function j3(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const i of t)if(!e(i,++n,t))return!1;return!0}function X3(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const i of t)if(e(i,++n,t))return!0;return!1}function K3(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let i=-1;for(const o of t)e(o,++i,t)&&n.push(o);return n}function J3(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,i)=>e(n,i,t))}function Q3(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const i=t[Symbol.iterator]();let o,a,u=-1;if(arguments.length<3){if({done:o,value:n}=i.next(),o)return;++u}for(;{done:o,value:a}=i.next(),!o;)n=e(n,a,++u,t);return n}function t6(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function e6(t,...e){t=new ji(t);for(const n of e)for(const i of n)t.delete(i);return t}function n6(t,e){const n=e[Symbol.iterator](),i=new ji;for(const o of t){if(i.has(o))return!1;let a,u;for(;({value:a,done:u}=n.next())&&!u;){if(Object.is(o,a))return!1;i.add(a)}}return!0}function i6(t,...e){t=new ji(t),e=e.map(r6);t:for(const n of t)for(const i of e)if(!i.has(n)){t.delete(n);continue t}return t}function r6(t){return t instanceof ji?t:new ji(t)}function Jg(t,e){const n=t[Symbol.iterator](),i=new Set;for(const o of e){const a=E0(o);if(i.has(a))continue;let u,f;for(;{value:u,done:f}=n.next();){if(f)return!1;const l=E0(u);if(i.add(l),Object.is(a,l))break}}return!0}function E0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function o6(t,e){return Jg(e,t)}function a6(...t){const e=new ji;for(const n of t)for(const i of n)e.add(i);return e}function s6(t){return t}var Us=1,Ws=2,Tc=3,jo=4,k0=1e-6;function u6(t){return"translate("+t+",0)"}function f6(t){return"translate(0,"+t+")"}function l6(t){return e=>+t(e)}function c6(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function h6(){return!this.__axis}function sf(t,e){var n=[],i=null,o=null,a=6,u=6,f=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Us||t===jo?-1:1,d=t===jo||t===Ws?"x":"y",_=t===Us||t===Tc?u6:f6;function p(g){var y=i??(e.ticks?e.ticks.apply(e,n):e.domain()),v=o??(e.tickFormat?e.tickFormat.apply(e,n):s6),b=Math.max(a,0)+f,x=e.range(),P=+x[0]+l,T=+x[x.length-1]+l,M=(e.bandwidth?c6:l6)(e.copy(),l),k=g.selection?g.selection():g,A=k.selectAll(".domain").data([null]),O=k.selectAll(".tick").data(y,e).order(),B=O.exit(),R=O.enter().append("g").attr("class","tick"),$=O.select("line"),z=O.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(R),$=$.merge(R.append("line").attr("stroke","currentColor").attr(d+"2",c*a)),z=z.merge(R.append("text").attr("fill","currentColor").attr(d,c*b).attr("dy",t===Us?"0em":t===Tc?"0.71em":"0.32em")),g!==k&&(A=A.transition(g),O=O.transition(g),$=$.transition(g),z=z.transition(g),B=B.transition(g).attr("opacity",k0).attr("transform",function(W){return isFinite(W=M(W))?_(W+l):this.getAttribute("transform")}),R.attr("opacity",k0).attr("transform",function(W){var D=this.parentNode.__axis;return _((D&&isFinite(D=D(W))?D:M(W))+l)})),B.remove(),A.attr("d",t===jo||t===Ws?u?"M"+c*u+","+P+"H"+l+"V"+T+"H"+c*u:"M"+l+","+P+"V"+T:u?"M"+P+","+c*u+"V"+l+"H"+T+"V"+c*u:"M"+P+","+l+"H"+T),O.attr("opacity",1).attr("transform",function(W){return _(M(W)+l)}),$.attr(d+"2",c*a),z.attr(d,c*b).text(v),k.filter(h6).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ws?"start":t===jo?"end":"middle"),k.each(function(){this.__axis=M})}return p.scale=function(g){return arguments.length?(e=g,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),p):n.slice()},p.tickValues=function(g){return arguments.length?(i=g==null?null:Array.from(g),p):i&&i.slice()},p.tickFormat=function(g){return arguments.length?(o=g,p):o},p.tickSize=function(g){return arguments.length?(a=u=+g,p):a},p.tickSizeInner=function(g){return arguments.length?(a=+g,p):a},p.tickSizeOuter=function(g){return arguments.length?(u=+g,p):u},p.tickPadding=function(g){return arguments.length?(f=+g,p):f},p.offset=function(g){return arguments.length?(l=+g,p):l},p}function d6(t){return sf(Us,t)}function p6(t){return sf(Ws,t)}function _6(t){return sf(Tc,t)}function m6(t){return sf(jo,t)}var g6={value:()=>{}};function ur(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ys(n)}function Ys(t){this._=t}function v6(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ys.prototype=ur.prototype={constructor:Ys,on:function(t,e){var n=this._,i=v6(t+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(t=i[a]).type)&&(o=y6(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=i[a]).type)n[o]=A0(n[o],t.name,e);else if(e==null)for(o in n)n[o]=A0(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ys(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function y6(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function A0(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=g6,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Pc="http://www.w3.org/1999/xhtml";const Sc={svg:"http://www.w3.org/2000/svg",xhtml:Pc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Da(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Sc.hasOwnProperty(e)?{space:Sc[e],local:t}:t}function b6(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Pc&&e.documentElement.namespaceURI===Pc?e.createElement(t):e.createElementNS(n,t)}}function w6(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function uf(t){var e=Da(t);return(e.local?w6:b6)(e)}function x6(){}function ff(t){return t==null?x6:function(){return this.querySelector(t)}}function M6(t){typeof t!="function"&&(t=ff(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=i[o]=new Array(u),l,c,d=0;d<u;++d)(l=a[d])&&(c=t.call(l,l.__data__,d,a))&&("__data__"in l&&(c.__data__=l.__data__),f[d]=c);return new Me(i,this._parents)}function Qg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function T6(){return[]}function Uh(t){return t==null?T6:function(){return this.querySelectorAll(t)}}function P6(t){return function(){return Qg(t.apply(this,arguments))}}function S6(t){typeof t=="function"?t=P6(t):t=Uh(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var u=e[a],f=u.length,l,c=0;c<f;++c)(l=u[c])&&(i.push(t.call(l,l.__data__,c,u)),o.push(l));return new Me(i,o)}function Wh(t){return function(){return this.matches(t)}}function t1(t){return function(e){return e.matches(t)}}var E6=Array.prototype.find;function k6(t){return function(){return E6.call(this.children,t)}}function A6(){return this.firstElementChild}function L6(t){return this.select(t==null?A6:k6(typeof t=="function"?t:t1(t)))}var C6=Array.prototype.filter;function N6(){return Array.from(this.children)}function z6(t){return function(){return C6.call(this.children,t)}}function I6(t){return this.selectAll(t==null?N6:z6(typeof t=="function"?t:t1(t)))}function O6(t){typeof t!="function"&&(t=Wh(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=i[o]=[],l,c=0;c<u;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&f.push(l);return new Me(i,this._parents)}function e1(t){return new Array(t.length)}function R6(){return new Me(this._enter||this._groups.map(e1),this._parents)}function pu(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pu.prototype={constructor:pu,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $6(t){return function(){return t}}function B6(t,e,n,i,o,a){for(var u=0,f,l=e.length,c=a.length;u<c;++u)(f=e[u])?(f.__data__=a[u],i[u]=f):n[u]=new pu(t,a[u]);for(;u<l;++u)(f=e[u])&&(o[u]=f)}function D6(t,e,n,i,o,a,u){var f,l,c=new Map,d=e.length,_=a.length,p=new Array(d),g;for(f=0;f<d;++f)(l=e[f])&&(p[f]=g=u.call(l,l.__data__,f,e)+"",c.has(g)?o[f]=l:c.set(g,l));for(f=0;f<_;++f)g=u.call(t,a[f],f,a)+"",(l=c.get(g))?(i[f]=l,l.__data__=a[f],c.delete(g)):n[f]=new pu(t,a[f]);for(f=0;f<d;++f)(l=e[f])&&c.get(p[f])===l&&(o[f]=l)}function Z6(t){return t.__data__}function F6(t,e){if(!arguments.length)return Array.from(this,Z6);var n=e?D6:B6,i=this._parents,o=this._groups;typeof t!="function"&&(t=$6(t));for(var a=o.length,u=new Array(a),f=new Array(a),l=new Array(a),c=0;c<a;++c){var d=i[c],_=o[c],p=_.length,g=q6(t.call(d,d&&d.__data__,c,i)),y=g.length,v=f[c]=new Array(y),b=u[c]=new Array(y),x=l[c]=new Array(p);n(d,_,v,b,x,g,e);for(var P=0,T=0,M,k;P<y;++P)if(M=v[P]){for(P>=T&&(T=P+1);!(k=b[T])&&++T<y;);M._next=k||null}}return u=new Me(u,i),u._enter=f,u._exit=l,u}function q6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H6(){return new Me(this._exit||this._groups.map(e1),this._parents)}function U6(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function W6(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,u=Math.min(o,a),f=new Array(o),l=0;l<u;++l)for(var c=n[l],d=i[l],_=c.length,p=f[l]=new Array(_),g,y=0;y<_;++y)(g=c[y]||d[y])&&(p[y]=g);for(;l<o;++l)f[l]=n[l];return new Me(f,this._parents)}function Y6(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function G6(t){t||(t=V6);function e(_,p){return _&&p?t(_.__data__,p.__data__):!_-!p}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],f=u.length,l=o[a]=new Array(f),c,d=0;d<f;++d)(c=u[d])&&(l[d]=c);l.sort(e)}return new Me(o,this._parents).order()}function V6(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j6(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function X6(){return Array.from(this)}function K6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function J6(){let t=0;for(const e of this)++t;return t}function Q6(){return!this.node()}function t8(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,u=o.length,f;a<u;++a)(f=o[a])&&t.call(f,f.__data__,a,o);return this}function e8(t){return function(){this.removeAttribute(t)}}function n8(t){return function(){this.removeAttributeNS(t.space,t.local)}}function i8(t,e){return function(){this.setAttribute(t,e)}}function r8(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function a8(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function s8(t,e){var n=Da(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?n8:e8:typeof e=="function"?n.local?a8:o8:n.local?r8:i8)(n,e))}function Yh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function u8(t){return function(){this.style.removeProperty(t)}}function f8(t,e,n){return function(){this.style.setProperty(t,e,n)}}function l8(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function c8(t,e,n){return arguments.length>1?this.each((e==null?u8:typeof e=="function"?l8:f8)(t,e,n??"")):Ji(this.node(),t)}function Ji(t,e){return t.style.getPropertyValue(e)||Yh(t).getComputedStyle(t,null).getPropertyValue(e)}function h8(t){return function(){delete this[t]}}function d8(t,e){return function(){this[t]=e}}function p8(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _8(t,e){return arguments.length>1?this.each((e==null?h8:typeof e=="function"?p8:d8)(t,e)):this.node()[t]}function n1(t){return t.trim().split(/^|\s+/)}function Gh(t){return t.classList||new i1(t)}function i1(t){this._node=t,this._names=n1(t.getAttribute("class")||"")}i1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function r1(t,e){for(var n=Gh(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function o1(t,e){for(var n=Gh(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function m8(t){return function(){r1(this,t)}}function g8(t){return function(){o1(this,t)}}function v8(t,e){return function(){(e.apply(this,arguments)?r1:o1)(this,t)}}function y8(t,e){var n=n1(t+"");if(arguments.length<2){for(var i=Gh(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?v8:e?m8:g8)(n,e))}function b8(){this.textContent=""}function w8(t){return function(){this.textContent=t}}function x8(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function M8(t){return arguments.length?this.each(t==null?b8:(typeof t=="function"?x8:w8)(t)):this.node().textContent}function T8(){this.innerHTML=""}function P8(t){return function(){this.innerHTML=t}}function S8(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function E8(t){return arguments.length?this.each(t==null?T8:(typeof t=="function"?S8:P8)(t)):this.node().innerHTML}function k8(){this.nextSibling&&this.parentNode.appendChild(this)}function A8(){return this.each(k8)}function L8(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C8(){return this.each(L8)}function N8(t){var e=typeof t=="function"?t:uf(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function z8(){return null}function I8(t,e){var n=typeof t=="function"?t:uf(t),i=e==null?z8:typeof e=="function"?e:ff(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function O8(){var t=this.parentNode;t&&t.removeChild(this)}function R8(){return this.each(O8)}function $8(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function B8(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D8(t){return this.select(t?B8:$8)}function Z8(t){return arguments.length?this.property("__data__",t):this.node().__data__}function F8(t){return function(e){t.call(this,e,this.__data__)}}function q8(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function H8(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function U8(t,e,n){return function(){var i=this.__on,o,a=F8(e);if(i){for(var u=0,f=i.length;u<f;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function W8(t,e,n){var i=q8(t+""),o,a=i.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var l=0,c=f.length,d;l<c;++l)for(o=0,d=f[l];o<a;++o)if((u=i[o]).type===d.type&&u.name===d.name)return d.value}return}for(f=e?U8:H8,o=0;o<a;++o)this.each(f(i[o],e,n));return this}function a1(t,e,n){var i=Yh(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Y8(t,e){return function(){return a1(this,t,e)}}function G8(t,e){return function(){return a1(this,t,e.apply(this,arguments))}}function V8(t,e){return this.each((typeof e=="function"?G8:Y8)(t,e))}function*j8(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var Vh=[null];function Me(t,e){this._groups=t,this._parents=e}function fr(){return new Me([[document.documentElement]],Vh)}function X8(){return this}Me.prototype=fr.prototype={constructor:Me,select:M6,selectAll:S6,selectChild:L6,selectChildren:I6,filter:O6,data:F6,enter:R6,exit:H6,join:U6,merge:W6,selection:X8,order:Y6,sort:G6,call:j6,nodes:X6,node:K6,size:J6,empty:Q6,each:t8,attr:s8,style:c8,property:_8,classed:y8,text:M8,html:E8,raise:A8,lower:C8,append:N8,insert:I8,remove:R8,clone:D8,datum:Z8,on:W8,dispatch:V8,[Symbol.iterator]:j8};function de(t){return typeof t=="string"?new Me([[document.querySelector(t)]],[document.documentElement]):new Me([[t]],Vh)}function K8(t){return de(uf(t).call(document.documentElement))}var J8=0;function s1(){return new Ec}function Ec(){this._="@"+(++J8).toString(36)}Ec.prototype=s1.prototype={constructor:Ec,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function u1(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Re(t,e){if(t=u1(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function Q8(t,e){return t.target&&(t=u1(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Re(n,e))}function t5(t){return typeof t=="string"?new Me([document.querySelectorAll(t)],[document.documentElement]):new Me([Qg(t)],Vh)}const e5={passive:!1},va={capture:!0,passive:!1};function Sl(t){t.stopImmediatePropagation()}function Hr(t){t.preventDefault(),t.stopImmediatePropagation()}function lf(t){var e=t.document.documentElement,n=de(t).on("dragstart.drag",Hr,va);"onselectstart"in e?n.on("selectstart.drag",Hr,va):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function cf(t,e){var n=t.document.documentElement,i=de(t).on("dragstart.drag",null);e&&(i.on("click.drag",Hr,va),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xs=t=>()=>t;function kc(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:a,x:u,y:f,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}kc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function n5(t){return!t.ctrlKey&&!t.button}function i5(){return this.parentNode}function r5(t,e){return e??{x:t.x,y:t.y}}function o5(){return navigator.maxTouchPoints||"ontouchstart"in this}function a5(){var t=n5,e=i5,n=r5,i=o5,o={},a=ur("start","drag","end"),u=0,f,l,c,d,_=0;function p(M){M.on("mousedown.drag",g).filter(i).on("touchstart.drag",b).on("touchmove.drag",x,e5).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(M,k){if(!(d||!t.call(this,M,k))){var A=T(this,e.call(this,M,k),M,k,"mouse");A&&(de(M.view).on("mousemove.drag",y,va).on("mouseup.drag",v,va),lf(M.view),Sl(M),c=!1,f=M.clientX,l=M.clientY,A("start",M))}}function y(M){if(Hr(M),!c){var k=M.clientX-f,A=M.clientY-l;c=k*k+A*A>_}o.mouse("drag",M)}function v(M){de(M.view).on("mousemove.drag mouseup.drag",null),cf(M.view,c),Hr(M),o.mouse("end",M)}function b(M,k){if(t.call(this,M,k)){var A=M.changedTouches,O=e.call(this,M,k),B=A.length,R,$;for(R=0;R<B;++R)($=T(this,O,M,k,A[R].identifier,A[R]))&&(Sl(M),$("start",M,A[R]))}}function x(M){var k=M.changedTouches,A=k.length,O,B;for(O=0;O<A;++O)(B=o[k[O].identifier])&&(Hr(M),B("drag",M,k[O]))}function P(M){var k=M.changedTouches,A=k.length,O,B;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<A;++O)(B=o[k[O].identifier])&&(Sl(M),B("end",M,k[O]))}function T(M,k,A,O,B,R){var $=a.copy(),z=Re(R||A,k),W,D,E;if((E=n.call(M,new kc("beforestart",{sourceEvent:A,target:p,identifier:B,active:u,x:z[0],y:z[1],dx:0,dy:0,dispatch:$}),O))!=null)return W=E.x-z[0]||0,D=E.y-z[1]||0,function I(C,Z,q){var Y=z,U;switch(C){case"start":o[B]=I,U=u++;break;case"end":delete o[B],--u;case"drag":z=Re(q||Z,k),U=u;break}$.call(C,M,new kc(C,{sourceEvent:Z,subject:E,target:p,identifier:B,active:U,x:z[0]+W,y:z[1]+D,dx:z[0]-Y[0],dy:z[1]-Y[1],dispatch:$}),O)}}return p.filter=function(M){return arguments.length?(t=typeof M=="function"?M:xs(!!M),p):t},p.container=function(M){return arguments.length?(e=typeof M=="function"?M:xs(M),p):e},p.subject=function(M){return arguments.length?(n=typeof M=="function"?M:xs(M),p):n},p.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:xs(!!M),p):i},p.on=function(){var M=a.on.apply(a,arguments);return M===a?p:M},p.clickDistance=function(M){return arguments.length?(_=(M=+M)*M,p):Math.sqrt(_)},p}function yo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Za(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function wi(){}var Qi=.7,Qr=1/Qi,Ur="\\s*([+-]?\\d+)\\s*",ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s5=/^#([0-9a-f]{3,8})$/,u5=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),f5=new RegExp(`^rgb\\(${xn},${xn},${xn}\\)$`),l5=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${ya}\\)$`),c5=new RegExp(`^rgba\\(${xn},${xn},${xn},${ya}\\)$`),h5=new RegExp(`^hsl\\(${ya},${xn},${xn}\\)$`),d5=new RegExp(`^hsla\\(${ya},${xn},${xn},${ya}\\)$`),L0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yo(wi,mi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C0,formatHex:C0,formatHex8:p5,formatHsl:_5,formatRgb:N0,toString:N0});function C0(){return this.rgb().formatHex()}function p5(){return this.rgb().formatHex8()}function _5(){return f1(this).formatHsl()}function N0(){return this.rgb().formatRgb()}function mi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=s5.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?z0(e):n===3?new ne(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ms(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ms(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=u5.exec(t))?new ne(e[1],e[2],e[3],1):(e=f5.exec(t))?new ne(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=l5.exec(t))?Ms(e[1],e[2],e[3],e[4]):(e=c5.exec(t))?Ms(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=h5.exec(t))?R0(e[1],e[2]/100,e[3]/100,1):(e=d5.exec(t))?R0(e[1],e[2]/100,e[3]/100,e[4]):L0.hasOwnProperty(t)?z0(L0[t]):t==="transparent"?new ne(NaN,NaN,NaN,0):null}function z0(t){return new ne(t>>16&255,t>>8&255,t&255,1)}function Ms(t,e,n,i){return i<=0&&(t=e=n=NaN),new ne(t,e,n,i)}function jh(t){return t instanceof wi||(t=mi(t)),t?(t=t.rgb(),new ne(t.r,t.g,t.b,t.opacity)):new ne}function to(t,e,n,i){return arguments.length===1?jh(t):new ne(t,e,n,i??1)}function ne(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}yo(ne,to,Za(wi,{brighter(t){return t=t==null?Qr:Math.pow(Qr,t),new ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qi:Math.pow(Qi,t),new ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ne(Ui(this.r),Ui(this.g),Ui(this.b),_u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I0,formatHex:I0,formatHex8:m5,formatRgb:O0,toString:O0}));function I0(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}`}function m5(){return`#${Ri(this.r)}${Ri(this.g)}${Ri(this.b)}${Ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function O0(){const t=_u(this.opacity);return`${t===1?"rgb(":"rgba("}${Ui(this.r)}, ${Ui(this.g)}, ${Ui(this.b)}${t===1?")":`, ${t})`}`}function _u(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ui(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ri(t){return t=Ui(t),(t<16?"0":"")+t.toString(16)}function R0(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sn(t,e,n,i)}function f1(t){if(t instanceof sn)return new sn(t.h,t.s,t.l,t.opacity);if(t instanceof wi||(t=mi(t)),!t)return new sn;if(t instanceof sn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,f=a-o,l=(a+o)/2;return f?(e===a?u=(n-i)/f+(n<i)*6:n===a?u=(i-e)/f+2:u=(e-n)/f+4,f/=l<.5?a+o:2-a-o,u*=60):f=l>0&&l<1?0:u,new sn(u,f,l,t.opacity)}function mu(t,e,n,i){return arguments.length===1?f1(t):new sn(t,e,n,i??1)}function sn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}yo(sn,mu,Za(wi,{brighter(t){return t=t==null?Qr:Math.pow(Qr,t),new sn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qi:Math.pow(Qi,t),new sn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ne(El(t>=240?t-240:t+120,o,i),El(t,o,i),El(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new sn($0(this.h),Ts(this.s),Ts(this.l),_u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_u(this.opacity);return`${t===1?"hsl(":"hsla("}${$0(this.h)}, ${Ts(this.s)*100}%, ${Ts(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $0(t){return t=(t||0)%360,t<0?t+360:t}function Ts(t){return Math.max(0,Math.min(1,t||0))}function El(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const l1=Math.PI/180,c1=180/Math.PI,gu=18,h1=.96422,d1=1,p1=.82521,_1=4/29,Wr=6/29,m1=3*Wr*Wr,g5=Wr*Wr*Wr;function g1(t){if(t instanceof ln)return new ln(t.l,t.a,t.b,t.opacity);if(t instanceof bn)return y1(t);t instanceof ne||(t=jh(t));var e=Cl(t.r),n=Cl(t.g),i=Cl(t.b),o=kl((.2225045*e+.7168786*n+.0606169*i)/d1),a,u;return e===n&&n===i?a=u=o:(a=kl((.4360747*e+.3850649*n+.1430804*i)/h1),u=kl((.0139322*e+.0971045*n+.7141733*i)/p1)),new ln(116*o-16,500*(a-o),200*(o-u),t.opacity)}function v5(t,e){return new ln(t,0,0,e??1)}function vu(t,e,n,i){return arguments.length===1?g1(t):new ln(t,e,n,i??1)}function ln(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}yo(ln,vu,Za(wi,{brighter(t){return new ln(this.l+gu*(t??1),this.a,this.b,this.opacity)},darker(t){return new ln(this.l-gu*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=h1*Al(e),t=d1*Al(t),n=p1*Al(n),new ne(Ll(3.1338561*e-1.6168667*t-.4906146*n),Ll(-.9787684*e+1.9161415*t+.033454*n),Ll(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function kl(t){return t>g5?Math.pow(t,1/3):t/m1+_1}function Al(t){return t>Wr?t*t*t:m1*(t-_1)}function Ll(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function v1(t){if(t instanceof bn)return new bn(t.h,t.c,t.l,t.opacity);if(t instanceof ln||(t=g1(t)),t.a===0&&t.b===0)return new bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*c1;return new bn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function y5(t,e,n,i){return arguments.length===1?v1(t):new bn(n,e,t,i??1)}function yu(t,e,n,i){return arguments.length===1?v1(t):new bn(t,e,n,i??1)}function bn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function y1(t){if(isNaN(t.h))return new ln(t.l,0,0,t.opacity);var e=t.h*l1;return new ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yo(bn,yu,Za(wi,{brighter(t){return new bn(this.h,this.c,this.l+gu*(t??1),this.opacity)},darker(t){return new bn(this.h,this.c,this.l-gu*(t??1),this.opacity)},rgb(){return y1(this).rgb()}}));var b1=-.14861,Xh=1.78277,Kh=-.29227,hf=-.90649,ba=1.97294,B0=ba*hf,D0=ba*Xh,Z0=Xh*Kh-hf*b1;function b5(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);t instanceof ne||(t=jh(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(Z0*i+B0*e-D0*n)/(Z0+B0-D0),a=i-o,u=(ba*(n-o)-Kh*a)/hf,f=Math.sqrt(u*u+a*a)/(ba*o*(1-o)),l=f?Math.atan2(u,a)*c1-120:NaN;return new Wi(l<0?l+360:l,f,o,t.opacity)}function cn(t,e,n,i){return arguments.length===1?b5(t):new Wi(t,e,n,i??1)}function Wi(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}yo(Wi,cn,Za(wi,{brighter(t){return t=t==null?Qr:Math.pow(Qr,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qi:Math.pow(Qi,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*l1,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new ne(255*(e+n*(b1*i+Xh*o)),255*(e+n*(Kh*i+hf*o)),255*(e+n*(ba*i)),this.opacity)}}));function w1(t,e,n,i,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*e+(4-6*a+3*u)*n+(1+3*t+3*a-3*u)*i+u*o)/6}function x1(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,f=i<e-1?t[i+2]:2*a-o;return w1((n-i/e)*e,u,o,a,f)}}function M1(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],f=t[(i+2)%e];return w1((n-i/e)*e,o,a,u,f)}}const df=t=>()=>t;function T1(t,e){return function(n){return t+n*e}}function w5(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function pf(t,e){var n=e-t;return n?T1(t,n>180||n<-180?n-360*Math.round(n/360):n):df(isNaN(t)?e:t)}function x5(t){return(t=+t)==1?ie:function(e,n){return n-e?w5(e,n,t):df(isNaN(e)?n:e)}}function ie(t,e){var n=e-t;return n?T1(t,n):df(isNaN(t)?e:t)}const wa=function t(e){var n=x5(e);function i(o,a){var u=n((o=to(o)).r,(a=to(a)).r),f=n(o.g,a.g),l=n(o.b,a.b),c=ie(o.opacity,a.opacity);return function(d){return o.r=u(d),o.g=f(d),o.b=l(d),o.opacity=c(d),o+""}}return i.gamma=t,i}(1);function P1(t){return function(e){var n=e.length,i=new Array(n),o=new Array(n),a=new Array(n),u,f;for(u=0;u<n;++u)f=to(e[u]),i[u]=f.r||0,o[u]=f.g||0,a[u]=f.b||0;return i=t(i),o=t(o),a=t(a),f.opacity=1,function(l){return f.r=i(l),f.g=o(l),f.b=a(l),f+""}}}var S1=P1(x1),M5=P1(M1);function Jh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function E1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function T5(t,e){return(E1(e)?Jh:k1)(t,e)}function k1(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=xi(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(f){for(u=0;u<i;++u)a[u]=o[u](f);return a}}function A1(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function je(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function L1(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=xi(t[o],e[o]):i[o]=e[o];return function(a){for(o in n)i[o]=n[o](a);return i}}var Ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nl=new RegExp(Ac.source,"g");function P5(t){return function(){return t}}function S5(t){return function(e){return t(e)+""}}function Qh(t,e){var n=Ac.lastIndex=Nl.lastIndex=0,i,o,a,u=-1,f=[],l=[];for(t=t+"",e=e+"";(i=Ac.exec(t))&&(o=Nl.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(i=i[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,l.push({i:u,x:je(i,o)})),n=Nl.lastIndex;return n<e.length&&(a=e.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?l[0]?S5(l[0].x):P5(e):(e=l.length,function(c){for(var d=0,_;d<e;++d)f[(_=l[d]).i]=_.x(c);return f.join("")})}function xi(t,e){var n=typeof e,i;return e==null||n==="boolean"?df(e):(n==="number"?je:n==="string"?(i=mi(e))?(e=i,wa):Qh:e instanceof mi?wa:e instanceof Date?A1:E1(e)?Jh:Array.isArray(e)?k1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L1:je)(t,e)}function E5(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function k5(t,e){var n=pf(+t,+e);return function(i){var o=n(i);return o-360*Math.floor(o/360)}}function _f(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var F0=180/Math.PI,Lc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C1(t,e,n,i,o,a){var u,f,l;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,l/=f),t*i<e*n&&(t=-t,e=-e,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*F0,skewX:Math.atan(l)*F0,scaleX:u,scaleY:f}}var Ps;function A5(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Lc:C1(e.a,e.b,e.c,e.d,e.e,e.f)}function L5(t){return t==null||(Ps||(Ps=document.createElementNS("http://www.w3.org/2000/svg","g")),Ps.setAttribute("transform",t),!(t=Ps.transform.baseVal.consolidate()))?Lc:(t=t.matrix,C1(t.a,t.b,t.c,t.d,t.e,t.f))}function N1(t,e,n,i){function o(c){return c.length?c.pop()+" ":""}function a(c,d,_,p,g,y){if(c!==_||d!==p){var v=g.push("translate(",null,e,null,n);y.push({i:v-4,x:je(c,_)},{i:v-2,x:je(d,p)})}else(_||p)&&g.push("translate("+_+e+p+n)}function u(c,d,_,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:_.push(o(_)+"rotate(",null,i)-2,x:je(c,d)})):d&&_.push(o(_)+"rotate("+d+i)}function f(c,d,_,p){c!==d?p.push({i:_.push(o(_)+"skewX(",null,i)-2,x:je(c,d)}):d&&_.push(o(_)+"skewX("+d+i)}function l(c,d,_,p,g,y){if(c!==_||d!==p){var v=g.push(o(g)+"scale(",null,",",null,")");y.push({i:v-4,x:je(c,_)},{i:v-2,x:je(d,p)})}else(_!==1||p!==1)&&g.push(o(g)+"scale("+_+","+p+")")}return function(c,d){var _=[],p=[];return c=t(c),d=t(d),a(c.translateX,c.translateY,d.translateX,d.translateY,_,p),u(c.rotate,d.rotate,_,p),f(c.skewX,d.skewX,_,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,_,p),c=d=null,function(g){for(var y=-1,v=p.length,b;++y<v;)_[(b=p[y]).i]=b.x(g);return _.join("")}}}var z1=N1(A5,"px, ","px)","deg)"),I1=N1(L5,", ",")",")"),C5=1e-12;function q0(t){return((t=Math.exp(t))+1/t)/2}function N5(t){return((t=Math.exp(t))-1/t)/2}function z5(t){return((t=Math.exp(2*t))-1)/(t+1)}const O1=function t(e,n,i){function o(a,u){var f=a[0],l=a[1],c=a[2],d=u[0],_=u[1],p=u[2],g=d-f,y=_-l,v=g*g+y*y,b,x;if(v<C5)x=Math.log(p/c)/e,b=function(O){return[f+O*g,l+O*y,c*Math.exp(e*O*x)]};else{var P=Math.sqrt(v),T=(p*p-c*c+i*v)/(2*c*n*P),M=(p*p-c*c-i*v)/(2*p*n*P),k=Math.log(Math.sqrt(T*T+1)-T),A=Math.log(Math.sqrt(M*M+1)-M);x=(A-k)/e,b=function(O){var B=O*x,R=q0(k),$=c/(n*P)*(R*z5(e*B+k)-N5(k));return[f+$*g,l+$*y,c*R/q0(e*B+k)]}}return b.duration=x*1e3*e/Math.SQRT2,b}return o.rho=function(a){var u=Math.max(.001,+a),f=u*u,l=f*f;return t(u,f,l)},o}(Math.SQRT2,2,4);function R1(t){return function(e,n){var i=t((e=mu(e)).h,(n=mu(n)).h),o=ie(e.s,n.s),a=ie(e.l,n.l),u=ie(e.opacity,n.opacity);return function(f){return e.h=i(f),e.s=o(f),e.l=a(f),e.opacity=u(f),e+""}}}const I5=R1(pf);var O5=R1(ie);function R5(t,e){var n=ie((t=vu(t)).l,(e=vu(e)).l),i=ie(t.a,e.a),o=ie(t.b,e.b),a=ie(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=i(u),t.b=o(u),t.opacity=a(u),t+""}}function $1(t){return function(e,n){var i=t((e=yu(e)).h,(n=yu(n)).h),o=ie(e.c,n.c),a=ie(e.l,n.l),u=ie(e.opacity,n.opacity);return function(f){return e.h=i(f),e.c=o(f),e.l=a(f),e.opacity=u(f),e+""}}}const $5=$1(pf);var B5=$1(ie);function B1(t){return function e(n){n=+n;function i(o,a){var u=t((o=cn(o)).h,(a=cn(a)).h),f=ie(o.s,a.s),l=ie(o.l,a.l),c=ie(o.opacity,a.opacity);return function(d){return o.h=u(d),o.s=f(d),o.l=l(Math.pow(d,n)),o.opacity=c(d),o+""}}return i.gamma=e,i}(1)}const D5=B1(pf);var mf=B1(ie);function D1(t,e){e===void 0&&(e=t,t=xi);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return function(u){var f=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return a[f](u-f)}}function Z5(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var eo=0,Xo=0,Do=0,Z1=1e3,bu,Ko,wu=0,tr=0,gf=0,xa=typeof performance=="object"&&performance.now?performance:Date,F1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fa(){return tr||(F1(F5),tr=xa.now()+gf)}function F5(){tr=0}function Ma(){this._call=this._time=this._next=null}Ma.prototype=vf.prototype={constructor:Ma,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Fa():+n)+(e==null?0:+e),!this._next&&Ko!==this&&(Ko?Ko._next=this:bu=this,Ko=this),this._call=t,this._time=n,Cc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cc())}};function vf(t,e,n){var i=new Ma;return i.restart(t,e,n),i}function q1(){Fa(),++eo;for(var t=bu,e;t;)(e=tr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--eo}function H0(){tr=(wu=xa.now())+gf,eo=Xo=0;try{q1()}finally{eo=0,H5(),tr=0}}function q5(){var t=xa.now(),e=t-wu;e>Z1&&(gf-=e,wu=t)}function H5(){for(var t,e=bu,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:bu=n);Ko=t,Cc(i)}function Cc(t){if(!eo){Xo&&(Xo=clearTimeout(Xo));var e=t-tr;e>24?(t<1/0&&(Xo=setTimeout(H0,t-xa.now()-gf)),Do&&(Do=clearInterval(Do))):(Do||(wu=xa.now(),Do=setInterval(q5,Z1)),eo=1,F1(H0))}}function Nc(t,e,n){var i=new Ma;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}function U5(t,e,n){var i=new Ma,o=e;return e==null?(i.restart(t,e,n),i):(i._restart=i.restart,i.restart=function(a,u,f){u=+u,f=f==null?Fa():+f,i._restart(function l(c){c+=o,i._restart(l,o+=u,f),a(c)},u,f)},i.restart(t,e,n),i)}var W5=ur("start","end","cancel","interrupt"),Y5=[],H1=0,zc=1,Ic=2,Gs=3,U0=4,Oc=5,Vs=6;function yf(t,e,n,i,o,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;G5(t,n,{name:e,index:i,group:o,on:W5,tween:Y5,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:H1})}function td(t,e){var n=hn(t,e);if(n.state>H1)throw new Error("too late; already scheduled");return n}function An(t,e){var n=hn(t,e);if(n.state>Gs)throw new Error("too late; already running");return n}function hn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function G5(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=vf(a,0,n.time);function a(c){n.state=zc,n.timer.restart(u,n.delay,n.time),n.delay<=c&&u(c-n.delay)}function u(c){var d,_,p,g;if(n.state!==zc)return l();for(d in i)if(g=i[d],g.name===n.name){if(g.state===Gs)return Nc(u);g.state===U0?(g.state=Vs,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete i[d]):+d<e&&(g.state=Vs,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete i[d])}if(Nc(function(){n.state===Gs&&(n.state=U0,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=Ic,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ic){for(n.state=Gs,o=new Array(p=n.tween.length),d=0,_=-1;d<p;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(o[++_]=g);o.length=_+1}}function f(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Oc,1),_=-1,p=o.length;++_<p;)o[_].call(t,d);n.state===Oc&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Vs,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function Yi(t,e){var n=t.__transition,i,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){a=!1;continue}o=i.state>Ic&&i.state<Oc,i.state=Vs,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}a&&delete t.__transition}}function V5(t){return this.each(function(){Yi(this,t)})}function j5(t,e){var n,i;return function(){var o=An(this,t),a=o.tween;if(a!==n){i=n=a;for(var u=0,f=i.length;u<f;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function X5(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=An(this,t),u=a.tween;if(u!==i){o=(i=u).slice();for(var f={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=f;break}l===c&&o.push(f)}a.tween=o}}function K5(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=hn(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?j5:X5)(n,t,e))}function ed(t,e,n){var i=t._id;return t.each(function(){var o=An(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return hn(o,i).value[e]}}function U1(t,e){var n;return(typeof e=="number"?je:e instanceof mi?wa:(n=mi(e))?(e=n,wa):Qh)(t,e)}function J5(t){return function(){this.removeAttribute(t)}}function Q5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t4(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===i?a:a=e(i=u,n)}}function e4(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?a:a=e(i=u,n)}}function n4(t,e,n){var i,o,a;return function(){var u,f=n(this),l;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=f+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,f)))}}function i4(t,e,n){var i,o,a;return function(){var u,f=n(this),l;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=f+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,f)))}}function r4(t,e){var n=Da(t),i=n==="transform"?I1:U1;return this.attrTween(t,typeof e=="function"?(n.local?i4:n4)(n,i,ed(this,"attr."+t,e)):e==null?(n.local?Q5:J5)(n):(n.local?e4:t4)(n,i,e))}function o4(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function a4(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function s4(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&a4(t,a)),n}return o._value=e,o}function u4(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&o4(t,a)),n}return o._value=e,o}function f4(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Da(t);return this.tween(n,(i.local?s4:u4)(i,e))}function l4(t,e){return function(){td(this,t).delay=+e.apply(this,arguments)}}function c4(t,e){return e=+e,function(){td(this,t).delay=e}}function h4(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?l4:c4)(e,t)):hn(this.node(),e).delay}function d4(t,e){return function(){An(this,t).duration=+e.apply(this,arguments)}}function p4(t,e){return e=+e,function(){An(this,t).duration=e}}function _4(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?d4:p4)(e,t)):hn(this.node(),e).duration}function m4(t,e){if(typeof e!="function")throw new Error;return function(){An(this,t).ease=e}}function g4(t){var e=this._id;return arguments.length?this.each(m4(e,t)):hn(this.node(),e).ease}function v4(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;An(this,t).ease=n}}function y4(t){if(typeof t!="function")throw new Error;return this.each(v4(this._id,t))}function b4(t){typeof t!="function"&&(t=Wh(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=i[o]=[],l,c=0;c<u;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&f.push(l);return new Tn(i,this._parents,this._name,this._id)}function w4(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),f=0;f<a;++f)for(var l=e[f],c=n[f],d=l.length,_=u[f]=new Array(d),p,g=0;g<d;++g)(p=l[g]||c[g])&&(_[g]=p);for(;f<i;++f)u[f]=e[f];return new Tn(u,this._parents,this._name,this._id)}function x4(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function M4(t,e,n){var i,o,a=x4(e)?td:An;return function(){var u=a(this,t),f=u.on;f!==i&&(o=(i=f).copy()).on(e,n),u.on=o}}function T4(t,e){var n=this._id;return arguments.length<2?hn(this.node(),n).on.on(t):this.each(M4(n,t,e))}function P4(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function S4(){return this.on("end.remove",P4(this._id))}function E4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ff(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var f=i[u],l=f.length,c=a[u]=new Array(l),d,_,p=0;p<l;++p)(d=f[p])&&(_=t.call(d,d.__data__,p,f))&&("__data__"in d&&(_.__data__=d.__data__),c[p]=_,yf(c[p],e,n,p,c,hn(d,n)));return new Tn(a,this._parents,e,n)}function k4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Uh(t));for(var i=this._groups,o=i.length,a=[],u=[],f=0;f<o;++f)for(var l=i[f],c=l.length,d,_=0;_<c;++_)if(d=l[_]){for(var p=t.call(d,d.__data__,_,l),g,y=hn(d,n),v=0,b=p.length;v<b;++v)(g=p[v])&&yf(g,e,n,v,p,y);a.push(p),u.push(d)}return new Tn(a,u,e,n)}var A4=fr.prototype.constructor;function L4(){return new A4(this._groups,this._parents)}function C4(t,e){var n,i,o;return function(){var a=Ji(this,t),u=(this.style.removeProperty(t),Ji(this,t));return a===u?null:a===n&&u===i?o:o=e(n=a,i=u)}}function W1(t){return function(){this.style.removeProperty(t)}}function N4(t,e,n){var i,o=n+"",a;return function(){var u=Ji(this,t);return u===o?null:u===i?a:a=e(i=u,n)}}function z4(t,e,n){var i,o,a;return function(){var u=Ji(this,t),f=n(this),l=f+"";return f==null&&(l=f=(this.style.removeProperty(t),Ji(this,t))),u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,f))}}function I4(t,e){var n,i,o,a="style."+e,u="end."+a,f;return function(){var l=An(this,t),c=l.on,d=l.value[a]==null?f||(f=W1(e)):void 0;(c!==n||o!==d)&&(i=(n=c).copy()).on(u,o=d),l.on=i}}function O4(t,e,n){var i=(t+="")=="transform"?z1:U1;return e==null?this.styleTween(t,C4(t,i)).on("end.style."+t,W1(t)):typeof e=="function"?this.styleTween(t,z4(t,i,ed(this,"style."+t,e))).each(I4(this._id,t)):this.styleTween(t,N4(t,i,e),n).on("end.style."+t,null)}function R4(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function $4(t,e,n){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&R4(t,u,n)),i}return a._value=e,a}function B4(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,$4(t,e,n??""))}function D4(t){return function(){this.textContent=t}}function Z4(t){return function(){var e=t(this);this.textContent=e??""}}function F4(t){return this.tween("text",typeof t=="function"?Z4(ed(this,"text",t)):D4(t==null?"":t+""))}function q4(t){return function(e){this.textContent=t.call(this,e)}}function H4(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&q4(o)),e}return i._value=t,i}function U4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,H4(t))}function W4(){for(var t=this._name,e=this._id,n=G1(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],f=u.length,l,c=0;c<f;++c)if(l=u[c]){var d=hn(l,e);yf(l,t,n,c,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Tn(i,this._parents,t,n)}function Y4(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var f={value:u},l={value:function(){--o===0&&a()}};n.each(function(){var c=An(this,i),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(l)),c.on=e}),o===0&&a()})}var G4=0;function Tn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Y1(t){return fr().transition(t)}function G1(){return++G4}var On=fr.prototype;Tn.prototype=Y1.prototype={constructor:Tn,select:E4,selectAll:k4,selectChild:On.selectChild,selectChildren:On.selectChildren,filter:b4,merge:w4,selection:L4,transition:W4,call:On.call,nodes:On.nodes,node:On.node,size:On.size,empty:On.empty,each:On.each,on:T4,attr:r4,attrTween:f4,style:O4,styleTween:B4,text:F4,textTween:U4,remove:S4,tween:K5,delay:h4,duration:_4,ease:g4,easeVarying:y4,end:Y4,[Symbol.iterator]:On[Symbol.iterator]};const V4=t=>+t;function j4(t){return t*t}function X4(t){return t*(2-t)}function W0(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function K4(t){return t*t*t}function J4(t){return--t*t*t+1}function Rc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var nd=3,Q4=function t(e){e=+e;function n(i){return Math.pow(i,e)}return n.exponent=t,n}(nd),tM=function t(e){e=+e;function n(i){return 1-Math.pow(1-i,e)}return n.exponent=t,n}(nd),Y0=function t(e){e=+e;function n(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return n.exponent=t,n}(nd),V1=Math.PI,j1=V1/2;function eM(t){return+t==1?1:1-Math.cos(t*j1)}function nM(t){return Math.sin(t*j1)}function G0(t){return(1-Math.cos(V1*t))/2}function gi(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function iM(t){return gi(1-+t)}function rM(t){return 1-gi(t)}function V0(t){return((t*=2)<=1?gi(1-t):2-gi(t-1))/2}function oM(t){return 1-Math.sqrt(1-t*t)}function aM(t){return Math.sqrt(1- --t*t)}function j0(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var $c=4/11,sM=6/11,uM=8/11,fM=3/4,lM=9/11,cM=10/11,hM=15/16,dM=21/22,pM=63/64,Ss=1/$c/$c;function _M(t){return 1-Ta(1-t)}function Ta(t){return(t=+t)<$c?Ss*t*t:t<uM?Ss*(t-=sM)*t+fM:t<cM?Ss*(t-=lM)*t+hM:Ss*(t-=dM)*t+pM}function mM(t){return((t*=2)<=1?1-Ta(1-t):Ta(t-1)+1)/2}var id=1.70158,gM=function t(e){e=+e;function n(i){return(i=+i)*i*(e*(i-1)+i)}return n.overshoot=t,n}(id),vM=function t(e){e=+e;function n(i){return--i*i*((i+1)*e+i)+1}return n.overshoot=t,n}(id),X0=function t(e){e=+e;function n(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return n.overshoot=t,n}(id),no=2*Math.PI,rd=1,od=.3,yM=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=no);function o(a){return e*gi(- --a)*Math.sin((i-a)/n)}return o.amplitude=function(a){return t(a,n*no)},o.period=function(a){return t(e,a)},o}(rd,od),K0=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=no);function o(a){return 1-e*gi(a=+a)*Math.sin((a+i)/n)}return o.amplitude=function(a){return t(a,n*no)},o.period=function(a){return t(e,a)},o}(rd,od),bM=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=no);function o(a){return((a=a*2-1)<0?e*gi(-a)*Math.sin((i-a)/n):2-e*gi(a)*Math.sin((i+a)/n))/2}return o.amplitude=function(a){return t(a,n*no)},o.period=function(a){return t(e,a)},o}(rd,od),wM={time:null,delay:0,duration:250,ease:Rc};function xM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function MM(t){var e,n;t instanceof Tn?(e=t._id,t=t._name):(e=G1(),(n=wM).time=Fa(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],f=u.length,l,c=0;c<f;++c)(l=u[c])&&yf(l,t,e,c,u,n||xM(l,e));return new Tn(i,this._parents,t,e)}fr.prototype.interrupt=V5;fr.prototype.transition=MM;var TM=[null];function PM(t,e){var n=t.__transition,i,o;if(n){e=e==null?null:e+"";for(o in n)if((i=n[o]).state>zc&&i.name===e)return new Tn([[t]],TM,e,+o)}return null}const zl=t=>()=>t;function SM(t,{sourceEvent:e,target:n,selection:i,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function EM(t){t.stopImmediatePropagation()}function Il(t){t.preventDefault(),t.stopImmediatePropagation()}var J0={name:"drag"},Ol={name:"space"},Sr={name:"handle"},Er={name:"center"};const{abs:Q0,max:ue,min:fe}=Math;function t_(t){return[+t[0],+t[1]]}function Bc(t){return[t_(t[0]),t_(t[1])]}var js={name:"x",handles:["w","e"].map(Pa),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Xs={name:"y",handles:["n","s"].map(Pa),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},kM={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Pa),input:function(t){return t==null?null:Bc(t)},output:function(t){return t}},Rn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},e_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},n_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},AM={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},LM={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Pa(t){return{type:t}}function CM(t){return!t.ctrlKey&&!t.button}function NM(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function zM(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rl(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function IM(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function OM(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function RM(){return ad(js)}function $M(){return ad(Xs)}function BM(){return ad(kM)}function ad(t){var e=NM,n=CM,i=zM,o=!0,a=ur("start","brush","end"),u=6,f;function l(b){var x=b.property("__brush",v).selectAll(".overlay").data([Pa("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Rn.overlay).merge(x).each(function(){var T=Rl(this).extent;de(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),b.selectAll(".selection").data([Pa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Rn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var P=b.selectAll(".handle").data(t.handles,function(T){return T.type});P.exit().remove(),P.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return Rn[T.type]}),b.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(i).on("touchstart.brush",p).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(b,x,P){b.tween?b.on("start.brush",function(T){d(this,arguments).beforestart().start(T)}).on("interrupt.brush end.brush",function(T){d(this,arguments).end(T)}).tween("brush",function(){var T=this,M=T.__brush,k=d(T,arguments),A=M.selection,O=t.input(typeof x=="function"?x.apply(this,arguments):x,M.extent),B=xi(A,O);function R($){M.selection=$===1&&O===null?null:B($),c.call(T),k.brush()}return A!==null&&O!==null?R:R(1)}):b.each(function(){var T=this,M=arguments,k=T.__brush,A=t.input(typeof x=="function"?x.apply(T,M):x,k.extent),O=d(T,M).beforestart();Yi(T),k.selection=A===null?null:A,c.call(T),O.start(P).brush(P).end(P)})},l.clear=function(b,x){l.move(b,null,x)};function c(){var b=de(this),x=Rl(this).selection;x?(b.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(P){return P.type[P.type.length-1]==="e"?x[1][0]-u/2:x[0][0]-u/2}).attr("y",function(P){return P.type[0]==="s"?x[1][1]-u/2:x[0][1]-u/2}).attr("width",function(P){return P.type==="n"||P.type==="s"?x[1][0]-x[0][0]+u:u}).attr("height",function(P){return P.type==="e"||P.type==="w"?x[1][1]-x[0][1]+u:u})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(b,x,P){var T=b.__brush.emitter;return T&&(!P||!T.clean)?T:new _(b,x,P)}function _(b,x,P){this.that=b,this.args=x,this.state=b.__brush,this.active=0,this.clean=P}_.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,x){return this.starting?(this.starting=!1,this.emit("start",b,x)):this.emit("brush",b),this},brush:function(b,x){return this.emit("brush",b,x),this},end:function(b,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,x)),this},emit:function(b,x,P){var T=de(this.that).datum();a.call(b,this.that,new SM(b,{sourceEvent:x,target:l,selection:t.output(this.state.selection),mode:P,dispatch:a}),T)}};function p(b){if(f&&!b.touches||!n.apply(this,arguments))return;var x=this,P=b.target.__data__.type,T=(o&&b.metaKey?P="overlay":P)==="selection"?J0:o&&b.altKey?Er:Sr,M=t===Xs?null:AM[P],k=t===js?null:LM[P],A=Rl(x),O=A.extent,B=A.selection,R=O[0][0],$,z,W=O[0][1],D,E,I=O[1][0],C,Z,q=O[1][1],Y,U,V=0,X=0,nt,K=M&&k&&o&&b.shiftKey,tt,ot,ht=Array.from(b.touches||[b],st=>{const At=st.identifier;return st=Re(st,x),st.point0=st.slice(),st.identifier=At,st});Yi(x);var kt=d(x,arguments,!0).beforestart();if(P==="overlay"){B&&(nt=!0);const st=[ht[0],ht[1]||ht[0]];A.selection=B=[[$=t===Xs?R:fe(st[0][0],st[1][0]),D=t===js?W:fe(st[0][1],st[1][1])],[C=t===Xs?I:ue(st[0][0],st[1][0]),Y=t===js?q:ue(st[0][1],st[1][1])]],ht.length>1&&It(b)}else $=B[0][0],D=B[0][1],C=B[1][0],Y=B[1][1];z=$,E=D,Z=C,U=Y;var J=de(x).attr("pointer-events","none"),ft=J.selectAll(".overlay").attr("cursor",Rn[P]);if(b.touches)kt.moved=j,kt.ended=Et;else{var dt=de(b.view).on("mousemove.brush",j,!0).on("mouseup.brush",Et,!0);o&&dt.on("keydown.brush",Kt,!0).on("keyup.brush",Jt,!0),lf(b.view)}c.call(x),kt.start(b,T.name);function j(st){for(const At of st.changedTouches||[st])for(const Pi of ht)Pi.identifier===At.identifier&&(Pi.cur=Re(At,x));if(K&&!tt&&!ot&&ht.length===1){const At=ht[0];Q0(At.cur[0]-At[0])>Q0(At.cur[1]-At[1])?ot=!0:tt=!0}for(const At of ht)At.cur&&(At[0]=At.cur[0],At[1]=At.cur[1]);nt=!0,Il(st),It(st)}function It(st){const At=ht[0],Pi=At.point0;var nn;switch(V=At[0]-Pi[0],X=At[1]-Pi[1],T){case Ol:case J0:{M&&(V=ue(R-$,fe(I-C,V)),z=$+V,Z=C+V),k&&(X=ue(W-D,fe(q-Y,X)),E=D+X,U=Y+X);break}case Sr:{ht[1]?(M&&(z=ue(R,fe(I,ht[0][0])),Z=ue(R,fe(I,ht[1][0])),M=1),k&&(E=ue(W,fe(q,ht[0][1])),U=ue(W,fe(q,ht[1][1])),k=1)):(M<0?(V=ue(R-$,fe(I-$,V)),z=$+V,Z=C):M>0&&(V=ue(R-C,fe(I-C,V)),z=$,Z=C+V),k<0?(X=ue(W-D,fe(q-D,X)),E=D+X,U=Y):k>0&&(X=ue(W-Y,fe(q-Y,X)),E=D,U=Y+X));break}case Er:{M&&(z=ue(R,fe(I,$-V*M)),Z=ue(R,fe(I,C+V*M))),k&&(E=ue(W,fe(q,D-X*k)),U=ue(W,fe(q,Y+X*k)));break}}Z<z&&(M*=-1,nn=$,$=C,C=nn,nn=z,z=Z,Z=nn,P in e_&&ft.attr("cursor",Rn[P=e_[P]])),U<E&&(k*=-1,nn=D,D=Y,Y=nn,nn=E,E=U,U=nn,P in n_&&ft.attr("cursor",Rn[P=n_[P]])),A.selection&&(B=A.selection),tt&&(z=B[0][0],Z=B[1][0]),ot&&(E=B[0][1],U=B[1][1]),(B[0][0]!==z||B[0][1]!==E||B[1][0]!==Z||B[1][1]!==U)&&(A.selection=[[z,E],[Z,U]],c.call(x),kt.brush(st,T.name))}function Et(st){if(EM(st),st.touches){if(st.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else cf(st.view,nt),dt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ft.attr("cursor",Rn.overlay),A.selection&&(B=A.selection),IM(B)&&(A.selection=null,c.call(x)),kt.end(st,T.name)}function Kt(st){switch(st.keyCode){case 16:{K=M&&k;break}case 18:{T===Sr&&(M&&(C=Z-V*M,$=z+V*M),k&&(Y=U-X*k,D=E+X*k),T=Er,It(st));break}case 32:{(T===Sr||T===Er)&&(M<0?C=Z-V:M>0&&($=z-V),k<0?Y=U-X:k>0&&(D=E-X),T=Ol,ft.attr("cursor",Rn.selection),It(st));break}default:return}Il(st)}function Jt(st){switch(st.keyCode){case 16:{K&&(tt=ot=K=!1,It(st));break}case 18:{T===Er&&(M<0?C=Z:M>0&&($=z),k<0?Y=U:k>0&&(D=E),T=Sr,It(st));break}case 32:{T===Ol&&(st.altKey?(M&&(C=Z-V*M,$=z+V*M),k&&(Y=U-X*k,D=E+X*k),T=Er):(M<0?C=Z:M>0&&($=z),k<0?Y=U:k>0&&(D=E),T=Sr),ft.attr("cursor",Rn[P]),It(st));break}default:return}Il(st)}}function g(b){d(this,arguments).moved(b)}function y(b){d(this,arguments).ended(b)}function v(){var b=this.__brush||{selection:null};return b.extent=Bc(e.apply(this,arguments)),b.dim=t,b}return l.extent=function(b){return arguments.length?(e=typeof b=="function"?b:zl(Bc(b)),l):e},l.filter=function(b){return arguments.length?(n=typeof b=="function"?b:zl(!!b),l):n},l.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:zl(!!b),l):i},l.handleSize=function(b){return arguments.length?(u=+b,l):u},l.keyModifiers=function(b){return arguments.length?(o=!!b,l):o},l.on=function(){var b=a.on.apply(a,arguments);return b===a?l:b},l}var i_=Math.abs,kr=Math.cos,Ar=Math.sin,X1=Math.PI,Es=X1/2,r_=X1*2,o_=Math.max,$l=1e-12;function Bl(t,e){return Array.from({length:e-t},(n,i)=>t+i)}function DM(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function ZM(){return sd(!1,!1)}function FM(){return sd(!1,!0)}function qM(){return sd(!0,!1)}function sd(t,e){var n=0,i=null,o=null,a=null;function u(f){var l=f.length,c=new Array(l),d=Bl(0,l),_=new Array(l*l),p=new Array(l),g=0,y;f=Float64Array.from({length:l*l},e?(v,b)=>f[b%l][b/l|0]:(v,b)=>f[b/l|0][b%l]);for(let v=0;v<l;++v){let b=0;for(let x=0;x<l;++x)b+=f[v*l+x]+t*f[x*l+v];g+=c[v]=b}g=o_(0,r_-n*l)/g,y=g?n:r_/l;{let v=0;i&&d.sort((b,x)=>i(c[b],c[x]));for(const b of d){const x=v;if(t){const P=Bl(~l+1,l).filter(T=>T<0?f[~T*l+b]:f[b*l+T]);o&&P.sort((T,M)=>o(T<0?-f[~T*l+b]:f[b*l+T],M<0?-f[~M*l+b]:f[b*l+M]));for(const T of P)if(T<0){const M=_[~T*l+b]||(_[~T*l+b]={source:null,target:null});M.target={index:b,startAngle:v,endAngle:v+=f[~T*l+b]*g,value:f[~T*l+b]}}else{const M=_[b*l+T]||(_[b*l+T]={source:null,target:null});M.source={index:b,startAngle:v,endAngle:v+=f[b*l+T]*g,value:f[b*l+T]}}p[b]={index:b,startAngle:x,endAngle:v,value:c[b]}}else{const P=Bl(0,l).filter(T=>f[b*l+T]||f[T*l+b]);o&&P.sort((T,M)=>o(f[b*l+T],f[b*l+M]));for(const T of P){let M;if(b<T?(M=_[b*l+T]||(_[b*l+T]={source:null,target:null}),M.source={index:b,startAngle:v,endAngle:v+=f[b*l+T]*g,value:f[b*l+T]}):(M=_[T*l+b]||(_[T*l+b]={source:null,target:null}),M.target={index:b,startAngle:v,endAngle:v+=f[b*l+T]*g,value:f[b*l+T]},b===T&&(M.source=M.target)),M.source&&M.target&&M.source.value<M.target.value){const k=M.source;M.source=M.target,M.target=k}}p[b]={index:b,startAngle:x,endAngle:v,value:c[b]}}v+=y}}return _=Object.values(_),_.groups=p,a?_.sort(a):_}return u.padAngle=function(f){return arguments.length?(n=o_(0,f),u):n},u.sortGroups=function(f){return arguments.length?(i=f,u):i},u.sortSubgroups=function(f){return arguments.length?(o=f,u):o},u.sortChords=function(f){return arguments.length?(f==null?a=null:(a=DM(f))._=f,u):a&&a._},u}const Dc=Math.PI,Zc=2*Dc,zi=1e-6,HM=Zc-zi;function K1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function UM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return K1;const n=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}let qa=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?K1:UM(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,a,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,i,o,a){if(e=+e,n=+n,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,f=this._y1,l=i-e,c=o-n,d=u-e,_=f-n,p=d*d+_*_;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>zi)if(!(Math.abs(_*l-c*d)>zi)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=i-u,y=o-f,v=l*l+c*c,b=g*g+y*y,x=Math.sqrt(v),P=Math.sqrt(p),T=a*Math.tan((Dc-Math.acos((v+p-b)/(2*x*P)))/2),M=T/P,k=T/x;Math.abs(M-1)>zi&&this._append`L${e+M*d},${n+M*_}`,this._append`A${a},${a},0,0,${+(_*g>d*y)},${this._x1=e+k*l},${this._y1=n+k*c}`}}arc(e,n,i,o,a,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let f=i*Math.cos(o),l=i*Math.sin(o),c=e+f,d=n+l,_=1^u,p=u?o-a:a-o;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>zi||Math.abs(this._y1-d)>zi)&&this._append`L${c},${d}`,i&&(p<0&&(p=p%Zc+Zc),p>HM?this._append`A${i},${i},0,1,${_},${e-f},${n-l}A${i},${i},0,1,${_},${this._x1=c},${this._y1=d}`:p>zi&&this._append`A${i},${i},0,${+(p>=Dc)},${_},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}};function ud(){return new qa}ud.prototype=qa.prototype;function WM(t=3){return new qa(+t)}var YM=Array.prototype.slice;function Ci(t){return function(){return t}}function GM(t){return t.source}function VM(t){return t.target}function a_(t){return t.radius}function jM(t){return t.startAngle}function XM(t){return t.endAngle}function KM(){return 0}function JM(){return 10}function J1(t){var e=GM,n=VM,i=a_,o=a_,a=jM,u=XM,f=KM,l=null;function c(){var d,_=e.apply(this,arguments),p=n.apply(this,arguments),g=f.apply(this,arguments)/2,y=YM.call(arguments),v=+i.apply(this,(y[0]=_,y)),b=a.apply(this,y)-Es,x=u.apply(this,y)-Es,P=+o.apply(this,(y[0]=p,y)),T=a.apply(this,y)-Es,M=u.apply(this,y)-Es;if(l||(l=d=ud()),g>$l&&(i_(x-b)>g*2+$l?x>b?(b+=g,x-=g):(b-=g,x+=g):b=x=(b+x)/2,i_(M-T)>g*2+$l?M>T?(T+=g,M-=g):(T-=g,M+=g):T=M=(T+M)/2),l.moveTo(v*kr(b),v*Ar(b)),l.arc(0,0,v,b,x),b!==T||x!==M)if(t){var k=+t.apply(this,arguments),A=P-k,O=(T+M)/2;l.quadraticCurveTo(0,0,A*kr(T),A*Ar(T)),l.lineTo(P*kr(O),P*Ar(O)),l.lineTo(A*kr(M),A*Ar(M))}else l.quadraticCurveTo(0,0,P*kr(T),P*Ar(T)),l.arc(0,0,P,T,M);if(l.quadraticCurveTo(0,0,v*kr(b),v*Ar(b)),l.closePath(),d)return l=null,d+""||null}return t&&(c.headRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Ci(+d),c):t}),c.radius=function(d){return arguments.length?(i=o=typeof d=="function"?d:Ci(+d),c):i},c.sourceRadius=function(d){return arguments.length?(i=typeof d=="function"?d:Ci(+d),c):i},c.targetRadius=function(d){return arguments.length?(o=typeof d=="function"?d:Ci(+d),c):o},c.startAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Ci(+d),c):a},c.endAngle=function(d){return arguments.length?(u=typeof d=="function"?d:Ci(+d),c):u},c.padAngle=function(d){return arguments.length?(f=typeof d=="function"?d:Ci(+d),c):f},c.source=function(d){return arguments.length?(e=d,c):e},c.target=function(d){return arguments.length?(n=d,c):n},c.context=function(d){return arguments.length?(l=d??null,c):l},c}function QM(){return J1()}function t7(){return J1(JM)}var e7=Array.prototype,Q1=e7.slice;function n7(t,e){return t-e}function i7(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}const ni=t=>()=>t;function r7(t,e){for(var n=-1,i=e.length,o;++n<i;)if(o=o7(t,e[n]))return o;return 0}function o7(t,e){for(var n=e[0],i=e[1],o=-1,a=0,u=t.length,f=u-1;a<u;f=a++){var l=t[a],c=l[0],d=l[1],_=t[f],p=_[0],g=_[1];if(a7(l,_,e))return 0;d>i!=g>i&&n<(p-c)*(i-d)/(g-d)+c&&(o=-o)}return o}function a7(t,e,n){var i;return s7(t,e,n)&&u7(t[i=+(t[0]===e[0])],n[i],e[i])}function s7(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function u7(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function f7(){}var $n=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Fc(){var t=1,e=1,n=Zh,i=l;function o(c){var d=n(c);if(Array.isArray(d))d=d.slice().sort(n7);else{const _=ua(c,l7);for(d=Xi(...Dh(_[0],_[1],d),d);d[d.length-1]>=_[1];)d.pop();for(;d[1]<_[0];)d.shift()}return d.map(_=>a(c,_))}function a(c,d){const _=d==null?NaN:+d;if(isNaN(_))throw new Error(`invalid value: ${d}`);var p=[],g=[];return u(c,_,function(y){i(y,c,_),i7(y)>0?p.push([y]):g.push(y)}),g.forEach(function(y){for(var v=0,b=p.length,x;v<b;++v)if(r7((x=p[v])[0],y)!==-1){x.push(y);return}}),{type:"MultiPolygon",value:d,coordinates:p}}function u(c,d,_){var p=new Array,g=new Array,y,v,b,x,P,T;for(y=v=-1,x=Ni(c[0],d),$n[x<<1].forEach(M);++y<t-1;)b=x,x=Ni(c[y+1],d),$n[b|x<<1].forEach(M);for($n[x<<0].forEach(M);++v<e-1;){for(y=-1,x=Ni(c[v*t+t],d),P=Ni(c[v*t],d),$n[x<<1|P<<2].forEach(M);++y<t-1;)b=x,x=Ni(c[v*t+t+y+1],d),T=P,P=Ni(c[v*t+y+1],d),$n[b|x<<1|P<<2|T<<3].forEach(M);$n[x|P<<3].forEach(M)}for(y=-1,P=c[v*t]>=d,$n[P<<2].forEach(M);++y<t-1;)T=P,P=Ni(c[v*t+y+1],d),$n[P<<2|T<<3].forEach(M);$n[P<<3].forEach(M);function M(k){var A=[k[0][0]+y,k[0][1]+v],O=[k[1][0]+y,k[1][1]+v],B=f(A),R=f(O),$,z;($=g[B])?(z=p[R])?(delete g[$.end],delete p[z.start],$===z?($.ring.push(O),_($.ring)):p[$.start]=g[z.end]={start:$.start,end:z.end,ring:$.ring.concat(z.ring)}):(delete g[$.end],$.ring.push(O),g[$.end=R]=$):($=p[R])?(z=g[B])?(delete p[$.start],delete g[z.end],$===z?($.ring.push(O),_($.ring)):p[z.start]=g[$.end]={start:z.start,end:$.end,ring:z.ring.concat($.ring)}):(delete p[$.start],$.ring.unshift(A),p[$.start=B]=$):p[B]=g[R]={start:B,end:R,ring:[A,O]}}}function f(c){return c[0]*2+c[1]*(t+1)*4}function l(c,d,_){c.forEach(function(p){var g=p[0],y=p[1],v=g|0,b=y|0,x=Dl(d[b*t+v]);g>0&&g<t&&v===g&&(p[0]=s_(g,Dl(d[b*t+v-1]),x,_)),y>0&&y<e&&b===y&&(p[1]=s_(y,Dl(d[(b-1)*t+v]),x,_))})}return o.contour=a,o.size=function(c){if(!arguments.length)return[t,e];var d=Math.floor(c[0]),_=Math.floor(c[1]);if(!(d>=0&&_>=0))throw new Error("invalid size");return t=d,e=_,o},o.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?ni(Q1.call(c)):ni(c),o):n},o.smooth=function(c){return arguments.length?(i=c?l:f7,o):i===l},o}function l7(t){return isFinite(t)?t:NaN}function Ni(t,e){return t==null?!1:+t>=e}function Dl(t){return t==null||isNaN(t=+t)?-1/0:t}function s_(t,e,n,i){const o=i-e,a=n-e,u=isFinite(o)||isFinite(a)?o/a:Math.sign(o)/Math.sign(a);return isNaN(u)?t:t+u-.5}function c7(t){return t[0]}function h7(t){return t[1]}function d7(){return 1}function p7(){var t=c7,e=h7,n=d7,i=960,o=500,a=20,u=2,f=a*3,l=i+f*2>>u,c=o+f*2>>u,d=ni(20);function _(P){var T=new Float32Array(l*c),M=Math.pow(2,-u),k=-1;for(const D of P){var A=(t(D,++k,P)+f)*M,O=(e(D,k,P)+f)*M,B=+n(D,k,P);if(B&&A>=0&&A<l&&O>=0&&O<c){var R=Math.floor(A),$=Math.floor(O),z=A-R-.5,W=O-$-.5;T[R+$*l]+=(1-z)*(1-W)*B,T[R+1+$*l]+=z*(1-W)*B,T[R+1+($+1)*l]+=z*W*B,T[R+($+1)*l]+=(1-z)*W*B}}return Ng({data:T,width:l,height:c},a*M),T}function p(P){var T=_(P),M=d(T),k=Math.pow(2,2*u);return Array.isArray(M)||(M=Xi(Number.MIN_VALUE,ma(T)/k,M)),Fc().size([l,c]).thresholds(M.map(A=>A*k))(T).map((A,O)=>(A.value=+M[O],g(A)))}p.contours=function(P){var T=_(P),M=Fc().size([l,c]),k=Math.pow(2,2*u),A=O=>{O=+O;var B=g(M.contour(T,O*k));return B.value=O,B};return Object.defineProperty(A,"max",{get:()=>ma(T)/k}),A};function g(P){return P.coordinates.forEach(y),P}function y(P){P.forEach(v)}function v(P){P.forEach(b)}function b(P){P[0]=P[0]*Math.pow(2,u)-f,P[1]=P[1]*Math.pow(2,u)-f}function x(){return f=a*3,l=i+f*2>>u,c=o+f*2>>u,p}return p.x=function(P){return arguments.length?(t=typeof P=="function"?P:ni(+P),p):t},p.y=function(P){return arguments.length?(e=typeof P=="function"?P:ni(+P),p):e},p.weight=function(P){return arguments.length?(n=typeof P=="function"?P:ni(+P),p):n},p.size=function(P){if(!arguments.length)return[i,o];var T=+P[0],M=+P[1];if(!(T>=0&&M>=0))throw new Error("invalid size");return i=T,o=M,x()},p.cellSize=function(P){if(!arguments.length)return 1<<u;if(!((P=+P)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(P)/Math.LN2),x()},p.thresholds=function(P){return arguments.length?(d=typeof P=="function"?P:Array.isArray(P)?ni(Q1.call(P)):ni(P),p):d},p.bandwidth=function(P){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((P=+P)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*P*P+1)-1)/2,x()},p}const Gn=11102230246251565e-32,le=134217729,_7=(3+8*Gn)*Gn;function Zl(t,e,n,i,o){let a,u,f,l,c=e[0],d=i[0],_=0,p=0;d>c==d>-c?(a=c,c=e[++_]):(a=d,d=i[++p]);let g=0;if(_<t&&p<n)for(d>c==d>-c?(u=c+a,f=a-(u-c),c=e[++_]):(u=d+a,f=a-(u-d),d=i[++p]),a=u,f!==0&&(o[g++]=f);_<t&&p<n;)d>c==d>-c?(u=a+c,l=u-a,f=a-(u-l)+(c-l),c=e[++_]):(u=a+d,l=u-a,f=a-(u-l)+(d-l),d=i[++p]),a=u,f!==0&&(o[g++]=f);for(;_<t;)u=a+c,l=u-a,f=a-(u-l)+(c-l),c=e[++_],a=u,f!==0&&(o[g++]=f);for(;p<n;)u=a+d,l=u-a,f=a-(u-l)+(d-l),d=i[++p],a=u,f!==0&&(o[g++]=f);return(a!==0||g===0)&&(o[g++]=a),g}function m7(t,e){let n=e[0];for(let i=1;i<t;i++)n+=e[i];return n}function Ha(t){return new Float64Array(t)}const g7=(3+16*Gn)*Gn,v7=(2+12*Gn)*Gn,y7=(9+64*Gn)*Gn*Gn,Lr=Ha(4),u_=Ha(8),f_=Ha(12),l_=Ha(16),_e=Ha(4);function b7(t,e,n,i,o,a,u){let f,l,c,d,_,p,g,y,v,b,x,P,T,M,k,A,O,B;const R=t-o,$=n-o,z=e-a,W=i-a;M=R*W,p=le*R,g=p-(p-R),y=R-g,p=le*W,v=p-(p-W),b=W-v,k=y*b-(M-g*v-y*v-g*b),A=z*$,p=le*z,g=p-(p-z),y=z-g,p=le*$,v=p-(p-$),b=$-v,O=y*b-(A-g*v-y*v-g*b),x=k-O,_=k-x,Lr[0]=k-(x+_)+(_-O),P=M+x,_=P-M,T=M-(P-_)+(x-_),x=T-A,_=T-x,Lr[1]=T-(x+_)+(_-A),B=P+x,_=B-P,Lr[2]=P-(B-_)+(x-_),Lr[3]=B;let D=m7(4,Lr),E=v7*u;if(D>=E||-D>=E||(_=t-R,f=t-(R+_)+(_-o),_=n-$,c=n-($+_)+(_-o),_=e-z,l=e-(z+_)+(_-a),_=i-W,d=i-(W+_)+(_-a),f===0&&l===0&&c===0&&d===0)||(E=y7*u+_7*Math.abs(D),D+=R*d+W*f-(z*c+$*l),D>=E||-D>=E))return D;M=f*W,p=le*f,g=p-(p-f),y=f-g,p=le*W,v=p-(p-W),b=W-v,k=y*b-(M-g*v-y*v-g*b),A=l*$,p=le*l,g=p-(p-l),y=l-g,p=le*$,v=p-(p-$),b=$-v,O=y*b-(A-g*v-y*v-g*b),x=k-O,_=k-x,_e[0]=k-(x+_)+(_-O),P=M+x,_=P-M,T=M-(P-_)+(x-_),x=T-A,_=T-x,_e[1]=T-(x+_)+(_-A),B=P+x,_=B-P,_e[2]=P-(B-_)+(x-_),_e[3]=B;const I=Zl(4,Lr,4,_e,u_);M=R*d,p=le*R,g=p-(p-R),y=R-g,p=le*d,v=p-(p-d),b=d-v,k=y*b-(M-g*v-y*v-g*b),A=z*c,p=le*z,g=p-(p-z),y=z-g,p=le*c,v=p-(p-c),b=c-v,O=y*b-(A-g*v-y*v-g*b),x=k-O,_=k-x,_e[0]=k-(x+_)+(_-O),P=M+x,_=P-M,T=M-(P-_)+(x-_),x=T-A,_=T-x,_e[1]=T-(x+_)+(_-A),B=P+x,_=B-P,_e[2]=P-(B-_)+(x-_),_e[3]=B;const C=Zl(I,u_,4,_e,f_);M=f*d,p=le*f,g=p-(p-f),y=f-g,p=le*d,v=p-(p-d),b=d-v,k=y*b-(M-g*v-y*v-g*b),A=l*c,p=le*l,g=p-(p-l),y=l-g,p=le*c,v=p-(p-c),b=c-v,O=y*b-(A-g*v-y*v-g*b),x=k-O,_=k-x,_e[0]=k-(x+_)+(_-O),P=M+x,_=P-M,T=M-(P-_)+(x-_),x=T-A,_=T-x,_e[1]=T-(x+_)+(_-A),B=P+x,_=B-P,_e[2]=P-(B-_)+(x-_),_e[3]=B;const Z=Zl(C,f_,4,_e,l_);return l_[Z-1]}function ks(t,e,n,i,o,a){const u=(e-a)*(n-o),f=(t-o)*(i-a),l=u-f,c=Math.abs(u+f);return Math.abs(l)>=g7*c?l:-b7(t,e,n,i,o,a,c)}const c_=Math.pow(2,-52),As=new Uint32Array(512);class xu{static from(e,n=P7,i=S7){const o=e.length,a=new Float64Array(o*2);for(let u=0;u<o;u++){const f=e[u];a[2*u]=n(f),a[2*u+1]=i(f)}return new xu(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:i,_hullTri:o,_hullHash:a}=this,u=e.length>>1;let f=1/0,l=1/0,c=-1/0,d=-1/0;for(let R=0;R<u;R++){const $=e[2*R],z=e[2*R+1];$<f&&(f=$),z<l&&(l=z),$>c&&(c=$),z>d&&(d=z),this._ids[R]=R}const _=(f+c)/2,p=(l+d)/2;let g,y,v;for(let R=0,$=1/0;R<u;R++){const z=Fl(_,p,e[2*R],e[2*R+1]);z<$&&(g=R,$=z)}const b=e[2*g],x=e[2*g+1];for(let R=0,$=1/0;R<u;R++){if(R===g)continue;const z=Fl(b,x,e[2*R],e[2*R+1]);z<$&&z>0&&(y=R,$=z)}let P=e[2*y],T=e[2*y+1],M=1/0;for(let R=0;R<u;R++){if(R===g||R===y)continue;const $=M7(b,x,P,T,e[2*R],e[2*R+1]);$<M&&(v=R,M=$)}let k=e[2*v],A=e[2*v+1];if(M===1/0){for(let z=0;z<u;z++)this._dists[z]=e[2*z]-e[0]||e[2*z+1]-e[1];$r(this._ids,this._dists,0,u-1);const R=new Uint32Array(u);let $=0;for(let z=0,W=-1/0;z<u;z++){const D=this._ids[z],E=this._dists[D];E>W&&(R[$++]=D,W=E)}this.hull=R.subarray(0,$),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ks(b,x,P,T,k,A)<0){const R=y,$=P,z=T;y=v,P=k,T=A,v=R,k=$,A=z}const O=T7(b,x,P,T,k,A);this._cx=O.x,this._cy=O.y;for(let R=0;R<u;R++)this._dists[R]=Fl(e[2*R],e[2*R+1],O.x,O.y);$r(this._ids,this._dists,0,u-1),this._hullStart=g;let B=3;i[g]=n[v]=y,i[y]=n[g]=v,i[v]=n[y]=g,o[g]=0,o[y]=1,o[v]=2,a.fill(-1),a[this._hashKey(b,x)]=g,a[this._hashKey(P,T)]=y,a[this._hashKey(k,A)]=v,this.trianglesLen=0,this._addTriangle(g,y,v,-1,-1,-1);for(let R=0,$,z;R<this._ids.length;R++){const W=this._ids[R],D=e[2*W],E=e[2*W+1];if(R>0&&Math.abs(D-$)<=c_&&Math.abs(E-z)<=c_||($=D,z=E,W===g||W===y||W===v))continue;let I=0;for(let U=0,V=this._hashKey(D,E);U<this._hashSize&&(I=a[(V+U)%this._hashSize],!(I!==-1&&I!==i[I]));U++);I=n[I];let C=I,Z;for(;Z=i[C],ks(D,E,e[2*C],e[2*C+1],e[2*Z],e[2*Z+1])>=0;)if(C=Z,C===I){C=-1;break}if(C===-1)continue;let q=this._addTriangle(C,W,i[C],-1,-1,o[C]);o[W]=this._legalize(q+2),o[C]=q,B++;let Y=i[C];for(;Z=i[Y],ks(D,E,e[2*Y],e[2*Y+1],e[2*Z],e[2*Z+1])<0;)q=this._addTriangle(Y,W,Z,o[W],-1,o[Y]),o[W]=this._legalize(q+2),i[Y]=Y,B--,Y=Z;if(C===I)for(;Z=n[C],ks(D,E,e[2*Z],e[2*Z+1],e[2*C],e[2*C+1])<0;)q=this._addTriangle(Z,W,C,-1,o[C],o[Z]),this._legalize(q+2),o[Z]=q,i[C]=C,B--,C=Z;this._hullStart=n[W]=C,i[C]=n[Y]=W,i[W]=Y,a[this._hashKey(D,E)]=W,a[this._hashKey(e[2*C],e[2*C+1])]=C}this.hull=new Uint32Array(B);for(let R=0,$=this._hullStart;R<B;R++)this.hull[R]=$,$=i[$];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(w7(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:i,coords:o}=this;let a=0,u=0;for(;;){const f=i[e],l=e-e%3;if(u=l+(e+2)%3,f===-1){if(a===0)break;e=As[--a];continue}const c=f-f%3,d=l+(e+1)%3,_=c+(f+2)%3,p=n[u],g=n[e],y=n[d],v=n[_];if(x7(o[2*p],o[2*p+1],o[2*g],o[2*g+1],o[2*y],o[2*y+1],o[2*v],o[2*v+1])){n[e]=v,n[f]=p;const x=i[_];if(x===-1){let T=this._hullStart;do{if(this._hullTri[T]===_){this._hullTri[T]=e;break}T=this._hullPrev[T]}while(T!==this._hullStart)}this._link(e,x),this._link(f,i[u]),this._link(u,_);const P=c+(f+1)%3;a<As.length&&(As[a++]=P)}else{if(a===0)break;e=As[--a]}}return u}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,i,o,a,u){const f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=n,this._triangles[f+2]=i,this._link(f,o),this._link(f+1,a),this._link(f+2,u),this.trianglesLen+=3,f}}function w7(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Fl(t,e,n,i){const o=t-n,a=e-i;return o*o+a*a}function x7(t,e,n,i,o,a,u,f){const l=t-u,c=e-f,d=n-u,_=i-f,p=o-u,g=a-f,y=l*l+c*c,v=d*d+_*_,b=p*p+g*g;return l*(_*b-v*g)-c*(d*b-v*p)+y*(d*g-_*p)<0}function M7(t,e,n,i,o,a){const u=n-t,f=i-e,l=o-t,c=a-e,d=u*u+f*f,_=l*l+c*c,p=.5/(u*c-f*l),g=(c*d-f*_)*p,y=(u*_-l*d)*p;return g*g+y*y}function T7(t,e,n,i,o,a){const u=n-t,f=i-e,l=o-t,c=a-e,d=u*u+f*f,_=l*l+c*c,p=.5/(u*c-f*l),g=t+(c*d-f*_)*p,y=e+(u*_-l*d)*p;return{x:g,y}}function $r(t,e,n,i){if(i-n<=20)for(let o=n+1;o<=i;o++){const a=t[o],u=e[a];let f=o-1;for(;f>=n&&e[t[f]]>u;)t[f+1]=t[f--];t[f+1]=a}else{const o=n+i>>1;let a=n+1,u=i;Zo(t,o,a),e[t[n]]>e[t[i]]&&Zo(t,n,i),e[t[a]]>e[t[i]]&&Zo(t,a,i),e[t[n]]>e[t[a]]&&Zo(t,n,a);const f=t[a],l=e[f];for(;;){do a++;while(e[t[a]]<l);do u--;while(e[t[u]]>l);if(u<a)break;Zo(t,a,u)}t[n+1]=t[u],t[u]=f,i-a+1>=u-n?($r(t,e,a,i),$r(t,e,n,u-1)):($r(t,e,n,u-1),$r(t,e,a,i))}}function Zo(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function P7(t){return t[0]}function S7(t){return t[1]}const h_=1e-6;class $i{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,i){e=+e,n=+n,i=+i;const o=e+i,a=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${a}`:(Math.abs(this._x1-o)>h_||Math.abs(this._y1-a)>h_)&&(this._+="L"+o+","+a),i&&(this._+=`A${i},${i},0,1,1,${e-i},${n}A${i},${i},0,1,1,${this._x1=o},${this._y1=a}`)}rect(e,n,i,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+i}v${+o}h${-i}Z`}value(){return this._||null}}class qc{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class tv{constructor(e,[n,i,o,a]=[0,0,960,500]){if(!((o=+o)>=(n=+n))||!((a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=n,this.ymax=a,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:i},vectors:o}=this;let a,u;const f=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let v=0,b=0,x=i.length,P,T;v<x;v+=3,b+=2){const M=i[v]*2,k=i[v+1]*2,A=i[v+2]*2,O=e[M],B=e[M+1],R=e[k],$=e[k+1],z=e[A],W=e[A+1],D=R-O,E=$-B,I=z-O,C=W-B,Z=(D*C-E*I)*2;if(Math.abs(Z)<1e-9){if(a===void 0){a=u=0;for(const Y of n)a+=e[Y*2],u+=e[Y*2+1];a/=n.length,u/=n.length}const q=1e9*Math.sign((a-O)*C-(u-B)*I);P=(O+z)/2-q*C,T=(B+W)/2+q*I}else{const q=1/Z,Y=D*D+E*E,U=I*I+C*C;P=O+(C*Y-E*U)*q,T=B+(D*U-I*Y)*q}f[b]=P,f[b+1]=T}let l=n[n.length-1],c,d=l*4,_,p=e[2*l],g,y=e[2*l+1];o.fill(0);for(let v=0;v<n.length;++v)l=n[v],c=d,_=p,g=y,d=l*4,p=e[2*l],y=e[2*l+1],o[c+2]=o[d]=g-y,o[c+3]=o[d+1]=p-_}render(e){const n=e==null?e=new $i:void 0,{delaunay:{halfedges:i,inedges:o,hull:a},circumcenters:u,vectors:f}=this;if(a.length<=1)return null;for(let d=0,_=i.length;d<_;++d){const p=i[d];if(p<d)continue;const g=Math.floor(d/3)*2,y=Math.floor(p/3)*2,v=u[g],b=u[g+1],x=u[y],P=u[y+1];this._renderSegment(v,b,x,P,e)}let l,c=a[a.length-1];for(let d=0;d<a.length;++d){l=c,c=a[d];const _=Math.floor(o[c]/3)*2,p=u[_],g=u[_+1],y=l*4,v=this._project(p,g,f[y+2],f[y+3]);v&&this._renderSegment(p,g,v[0],v[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new $i:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const i=n==null?n=new $i:void 0,o=this._clip(e);if(o===null||!o.length)return;n.moveTo(o[0],o[1]);let a=o.length;for(;o[0]===o[a-2]&&o[1]===o[a-1]&&a>1;)a-=2;for(let u=2;u<a;u+=2)(o[u]!==o[u-2]||o[u+1]!==o[u-1])&&n.lineTo(o[u],o[u+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,i=e.length/2;n<i;++n){const o=this.cellPolygon(n);o&&(o.index=n,yield o)}}cellPolygon(e){const n=new qc;return this.renderCell(e,n),n.value()}_renderSegment(e,n,i,o,a){let u;const f=this._regioncode(e,n),l=this._regioncode(i,o);f===0&&l===0?(a.moveTo(e,n),a.lineTo(i,o)):(u=this._clipSegment(e,n,i,o,f,l))&&(a.moveTo(u[0],u[1]),a.lineTo(u[2],u[3]))}contains(e,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(e,n,i)===e}*neighbors(e){const n=this._clip(e);if(n)for(const i of this.delaunay.neighbors(e)){const o=this._clip(i);if(o){t:for(let a=0,u=n.length;a<u;a+=2)for(let f=0,l=o.length;f<l;f+=2)if(n[a]===o[f]&&n[a+1]===o[f+1]&&n[(a+2)%u]===o[(f+l-2)%l]&&n[(a+3)%u]===o[(f+l-1)%l]){yield i;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:i,halfedges:o,triangles:a}}=this,u=i[e];if(u===-1)return null;const f=[];let l=u;do{const c=Math.floor(l/3);if(f.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=o[l]}while(l!==u&&l!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:i}=this,o=e*4;return this._simplify(i[o]||i[o+1]?this._clipInfinite(e,n,i[o],i[o+1],i[o+2],i[o+3]):this._clipFinite(e,n))}_clipFinite(e,n){const i=n.length;let o=null,a,u,f=n[i-2],l=n[i-1],c,d=this._regioncode(f,l),_,p=0;for(let g=0;g<i;g+=2)if(a=f,u=l,f=n[g],l=n[g+1],c=d,d=this._regioncode(f,l),c===0&&d===0)_=p,p=0,o?o.push(f,l):o=[f,l];else{let y,v,b,x,P;if(c===0){if((y=this._clipSegment(a,u,f,l,c,d))===null)continue;[v,b,x,P]=y}else{if((y=this._clipSegment(f,l,a,u,d,c))===null)continue;[x,P,v,b]=y,_=p,p=this._edgecode(v,b),_&&p&&this._edge(e,_,p,o,o.length),o?o.push(v,b):o=[v,b]}_=p,p=this._edgecode(x,P),_&&p&&this._edge(e,_,p,o,o.length),o?o.push(x,P):o=[x,P]}if(o)_=p,p=this._edgecode(o[0],o[1]),_&&p&&this._edge(e,_,p,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,n,i,o,a,u){const f=a<u;for(f&&([e,n,i,o,a,u]=[i,o,e,n,u,a]);;){if(a===0&&u===0)return f?[i,o,e,n]:[e,n,i,o];if(a&u)return null;let l,c,d=a||u;d&8?(l=e+(i-e)*(this.ymax-n)/(o-n),c=this.ymax):d&4?(l=e+(i-e)*(this.ymin-n)/(o-n),c=this.ymin):d&2?(c=n+(o-n)*(this.xmax-e)/(i-e),l=this.xmax):(c=n+(o-n)*(this.xmin-e)/(i-e),l=this.xmin),a?(e=l,n=c,a=this._regioncode(e,n)):(i=l,o=c,u=this._regioncode(i,o))}}_clipInfinite(e,n,i,o,a,u){let f=Array.from(n),l;if((l=this._project(f[0],f[1],i,o))&&f.unshift(l[0],l[1]),(l=this._project(f[f.length-2],f[f.length-1],a,u))&&f.push(l[0],l[1]),f=this._clipFinite(e,f))for(let c=0,d=f.length,_,p=this._edgecode(f[d-2],f[d-1]);c<d;c+=2)_=p,p=this._edgecode(f[c],f[c+1]),_&&p&&(c=this._edge(e,_,p,f,c),d=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,n,i,o,a){for(;n!==i;){let u,f;switch(n){case 5:n=4;continue;case 4:n=6,u=this.xmax,f=this.ymin;break;case 6:n=2;continue;case 2:n=10,u=this.xmax,f=this.ymax;break;case 10:n=8;continue;case 8:n=9,u=this.xmin,f=this.ymax;break;case 9:n=1;continue;case 1:n=5,u=this.xmin,f=this.ymin;break}(o[a]!==u||o[a+1]!==f)&&this.contains(e,u,f)&&(o.splice(a,0,u,f),a+=2)}return a}_project(e,n,i,o){let a=1/0,u,f,l;if(o<0){if(n<=this.ymin)return null;(u=(this.ymin-n)/o)<a&&(l=this.ymin,f=e+(a=u)*i)}else if(o>0){if(n>=this.ymax)return null;(u=(this.ymax-n)/o)<a&&(l=this.ymax,f=e+(a=u)*i)}if(i>0){if(e>=this.xmax)return null;(u=(this.xmax-e)/i)<a&&(f=this.xmax,l=n+(a=u)*o)}else if(i<0){if(e<=this.xmin)return null;(u=(this.xmin-e)/i)<a&&(f=this.xmin,l=n+(a=u)*o)}return[f,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const i=(n+2)%e.length,o=(n+4)%e.length;(e[n]===e[i]&&e[i]===e[o]||e[n+1]===e[i+1]&&e[i+1]===e[o+1])&&(e.splice(i,2),n-=2)}e.length||(e=null)}return e}}const E7=2*Math.PI,Cr=Math.pow;function k7(t){return t[0]}function A7(t){return t[1]}function L7(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const o=2*e[i],a=2*e[i+1],u=2*e[i+2];if((n[u]-n[o])*(n[a+1]-n[o+1])-(n[a]-n[o])*(n[u+1]-n[o+1])>1e-10)return!1}return!0}function C7(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class fd{static from(e,n=k7,i=A7,o){return new fd("length"in e?N7(e,n,i,o):Float64Array.from(z7(e,n,i,o)))}constructor(e){this._delaunator=new xu(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&L7(e)){this.collinear=Int32Array.from({length:n.length/2},(p,g)=>g).sort((p,g)=>n[2*p]-n[2*g]||n[2*p+1]-n[2*g+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],d=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],_=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let p=0,g=n.length/2;p<g;++p){const y=C7(n[2*p],n[2*p+1],_);n[2*p]=y[0],n[2*p+1]=y[1]}this._delaunator=new xu(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,u=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let l=0,c=i.length;l<c;++l){const d=a[l%3===2?l-2:l+1];(i[l]===-1||u[d]===-1)&&(u[d]=l)}for(let l=0,c=o.length;l<c;++l)f[o[l]]=l;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],u[o[0]]=1,o.length===2&&(u[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(e){return new tv(this,e)}*neighbors(e){const{inedges:n,hull:i,_hullIndex:o,halfedges:a,triangles:u,collinear:f}=this;if(f){const _=f.indexOf(e);_>0&&(yield f[_-1]),_<f.length-1&&(yield f[_+1]);return}const l=n[e];if(l===-1)return;let c=l,d=-1;do{if(yield d=u[c],c=c%3===2?c-2:c+1,u[c]!==e)return;if(c=a[c],c===-1){const _=i[(o[e]+1)%i.length];_!==d&&(yield _);return}}while(c!==l)}find(e,n,i=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const o=i;let a;for(;(a=this._step(i,e,n))>=0&&a!==i&&a!==o;)i=a;return a}_step(e,n,i){const{inedges:o,hull:a,_hullIndex:u,halfedges:f,triangles:l,points:c}=this;if(o[e]===-1||!c.length)return(e+1)%(c.length>>1);let d=e,_=Cr(n-c[e*2],2)+Cr(i-c[e*2+1],2);const p=o[e];let g=p;do{let y=l[g];const v=Cr(n-c[y*2],2)+Cr(i-c[y*2+1],2);if(v<_&&(_=v,d=y),g=g%3===2?g-2:g+1,l[g]!==e)break;if(g=f[g],g===-1){if(g=a[(u[e]+1)%a.length],g!==y&&Cr(n-c[g*2],2)+Cr(i-c[g*2+1],2)<_)return g;break}}while(g!==p);return d}render(e){const n=e==null?e=new $i:void 0,{points:i,halfedges:o,triangles:a}=this;for(let u=0,f=o.length;u<f;++u){const l=o[u];if(l<u)continue;const c=a[u]*2,d=a[l]*2;e.moveTo(i[c],i[c+1]),e.lineTo(i[d],i[d+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const i=e==null?e=new $i:void 0,{points:o}=this;for(let a=0,u=o.length;a<u;a+=2){const f=o[a],l=o[a+1];e.moveTo(f+n,l),e.arc(f,l,n,0,E7)}return i&&i.value()}renderHull(e){const n=e==null?e=new $i:void 0,{hull:i,points:o}=this,a=i[0]*2,u=i.length;e.moveTo(o[a],o[a+1]);for(let f=1;f<u;++f){const l=2*i[f];e.lineTo(o[l],o[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new qc;return this.renderHull(e),e.value()}renderTriangle(e,n){const i=n==null?n=new $i:void 0,{points:o,triangles:a}=this,u=a[e*=3]*2,f=a[e+1]*2,l=a[e+2]*2;return n.moveTo(o[u],o[u+1]),n.lineTo(o[f],o[f+1]),n.lineTo(o[l],o[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,i=e.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new qc;return this.renderTriangle(e,n),n.value()}}function N7(t,e,n,i){const o=t.length,a=new Float64Array(o*2);for(let u=0;u<o;++u){const f=t[u];a[u*2]=e.call(i,f,u,t),a[u*2+1]=n.call(i,f,u,t)}return a}function*z7(t,e,n,i){let o=0;for(const a of t)yield e.call(i,a,o,t),yield n.call(i,a,o,t),++o}var d_={},ql={},Hl=34,Fo=10,Ul=13;function ev(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function I7(t,e){var n=ev(t);return function(i,o){return e(n(i),o,t)}}function p_(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var o in i)o in e||n.push(e[o]=o)}),n}function Ae(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function O7(t){return t<0?"-"+Ae(-t,6):t>9999?"+"+Ae(t,6):Ae(t,4)}function R7(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":O7(t.getUTCFullYear())+"-"+Ae(t.getUTCMonth()+1,2)+"-"+Ae(t.getUTCDate(),2)+(o?"T"+Ae(e,2)+":"+Ae(n,2)+":"+Ae(i,2)+"."+Ae(o,3)+"Z":i?"T"+Ae(e,2)+":"+Ae(n,2)+":"+Ae(i,2)+"Z":n||e?"T"+Ae(e,2)+":"+Ae(n,2)+"Z":"")}function bf(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(_,p){var g,y,v=o(_,function(b,x){if(g)return g(b,x-1);y=b,g=p?I7(b,p):ev(b)});return v.columns=y||[],v}function o(_,p){var g=[],y=_.length,v=0,b=0,x,P=y<=0,T=!1;_.charCodeAt(y-1)===Fo&&--y,_.charCodeAt(y-1)===Ul&&--y;function M(){if(P)return ql;if(T)return T=!1,d_;var A,O=v,B;if(_.charCodeAt(O)===Hl){for(;v++<y&&_.charCodeAt(v)!==Hl||_.charCodeAt(++v)===Hl;);return(A=v)>=y?P=!0:(B=_.charCodeAt(v++))===Fo?T=!0:B===Ul&&(T=!0,_.charCodeAt(v)===Fo&&++v),_.slice(O+1,A-1).replace(/""/g,'"')}for(;v<y;){if((B=_.charCodeAt(A=v++))===Fo)T=!0;else if(B===Ul)T=!0,_.charCodeAt(v)===Fo&&++v;else if(B!==n)continue;return _.slice(O,A)}return P=!0,_.slice(O,y)}for(;(x=M())!==ql;){for(var k=[];x!==d_&&x!==ql;)k.push(x),x=M();p&&(k=p(k,b++))==null||g.push(k)}return g}function a(_,p){return _.map(function(g){return p.map(function(y){return d(g[y])}).join(t)})}function u(_,p){return p==null&&(p=p_(_)),[p.map(d).join(t)].concat(a(_,p)).join(`
`)}function f(_,p){return p==null&&(p=p_(_)),a(_,p).join(`
`)}function l(_){return _.map(c).join(`
`)}function c(_){return _.map(d).join(t)}function d(_){return _==null?"":_ instanceof Date?R7(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:i,parseRows:o,format:u,formatBody:f,formatRows:l,formatRow:c,formatValue:d}}var lr=bf(","),nv=lr.parse,$7=lr.parseRows,B7=lr.format,D7=lr.formatBody,Z7=lr.formatRows,F7=lr.formatRow,q7=lr.formatValue,cr=bf("	"),iv=cr.parse,H7=cr.parseRows,U7=cr.format,W7=cr.formatBody,Y7=cr.formatRows,G7=cr.formatRow,V7=cr.formatValue;function j7(t){for(var e in t){var n=t[e].trim(),i,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(i=+n))n=i;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))X7&&o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const X7=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function K7(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function J7(t,e){return fetch(t,e).then(K7)}function Q7(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function tT(t,e){return fetch(t,e).then(Q7)}function eT(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function wf(t,e){return fetch(t,e).then(eT)}function rv(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),wf(e,n).then(function(o){return t(o,i)})}}function nT(t,e,n,i){arguments.length===3&&typeof n=="function"&&(i=n,n=void 0);var o=bf(t);return wf(e,n).then(function(a){return o.parse(a,i)})}var iT=rv(nv),rT=rv(iv);function oT(t,e){return new Promise(function(n,i){var o=new Image;for(var a in e)o[a]=e[a];o.onerror=i,o.onload=function(){n(o)},o.src=t})}function aT(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function sT(t,e){return fetch(t,e).then(aT)}function ld(t){return(e,n)=>wf(e,n).then(i=>new DOMParser().parseFromString(i,t))}const uT=ld("application/xml");var fT=ld("text/html"),lT=ld("image/svg+xml");function cT(t,e){var n,i=1;t==null&&(t=0),e==null&&(e=0);function o(){var a,u=n.length,f,l=0,c=0;for(a=0;a<u;++a)f=n[a],l+=f.x,c+=f.y;for(l=(l/u-t)*i,c=(c/u-e)*i,a=0;a<u;++a)f=n[a],f.x-=l,f.y-=c}return o.initialize=function(a){n=a},o.x=function(a){return arguments.length?(t=+a,o):t},o.y=function(a){return arguments.length?(e=+a,o):e},o.strength=function(a){return arguments.length?(i=+a,o):i},o}function hT(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return ov(this.cover(e,n),e,n,t)}function ov(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var o,a=t._root,u={data:i},f=t._x0,l=t._y0,c=t._x1,d=t._y1,_,p,g,y,v,b,x,P;if(!a)return t._root=u,t;for(;a.length;)if((v=e>=(_=(f+c)/2))?f=_:c=_,(b=n>=(p=(l+d)/2))?l=p:d=p,o=a,!(a=a[x=b<<1|v]))return o[x]=u,t;if(g=+t._x.call(null,a.data),y=+t._y.call(null,a.data),e===g&&n===y)return u.next=a,o?o[x]=u:t._root=u,t;do o=o?o[x]=new Array(4):t._root=new Array(4),(v=e>=(_=(f+c)/2))?f=_:c=_,(b=n>=(p=(l+d)/2))?l=p:d=p;while((x=b<<1|v)===(P=(y>=p)<<1|g>=_));return o[P]=a,o[x]=u,t}function dT(t){var e,n,i=t.length,o,a,u=new Array(i),f=new Array(i),l=1/0,c=1/0,d=-1/0,_=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(u[n]=o,f[n]=a,o<l&&(l=o),o>d&&(d=o),a<c&&(c=a),a>_&&(_=a));if(l>d||c>_)return this;for(this.cover(l,c).cover(d,_),n=0;n<i;++n)ov(this,u[n],f[n],t[n]);return this}function pT(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var u=o-n||1,f=this._root,l,c;n>t||t>=o||i>e||e>=a;)switch(c=(e<i)<<1|t<n,l=new Array(4),l[c]=f,f=l,u*=2,c){case 0:o=n+u,a=i+u;break;case 1:n=o-u,a=i+u;break;case 2:o=n+u,i=a-u;break;case 3:n=o-u,i=a-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=i,this._x1=o,this._y1=a,this}function _T(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function mT(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function be(t,e,n,i,o){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=o}function gT(t,e,n){var i,o=this._x0,a=this._y0,u,f,l,c,d=this._x1,_=this._y1,p=[],g=this._root,y,v;for(g&&p.push(new be(g,o,a,d,_)),n==null?n=1/0:(o=t-n,a=e-n,d=t+n,_=e+n,n*=n);y=p.pop();)if(!(!(g=y.node)||(u=y.x0)>d||(f=y.y0)>_||(l=y.x1)<o||(c=y.y1)<a))if(g.length){var b=(u+l)/2,x=(f+c)/2;p.push(new be(g[3],b,x,l,c),new be(g[2],u,x,b,c),new be(g[1],b,f,l,x),new be(g[0],u,f,b,x)),(v=(e>=x)<<1|t>=b)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=y)}else{var P=t-+this._x.call(null,g.data),T=e-+this._y.call(null,g.data),M=P*P+T*T;if(M<n){var k=Math.sqrt(n=M);o=t-k,a=e-k,d=t+k,_=e+k,i=g.data}}return i}function vT(t){if(isNaN(d=+this._x.call(null,t))||isNaN(_=+this._y.call(null,t)))return this;var e,n=this._root,i,o,a,u=this._x0,f=this._y0,l=this._x1,c=this._y1,d,_,p,g,y,v,b,x;if(!n)return this;if(n.length)for(;;){if((y=d>=(p=(u+l)/2))?u=p:l=p,(v=_>=(g=(f+c)/2))?f=g:c=g,e=n,!(n=n[b=v<<1|y]))return this;if(!n.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(i=e,x=b)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):e?(a?e[b]=a:delete e[b],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[x]=n:this._root=n),this):(this._root=a,this)}function yT(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function bT(){return this._root}function wT(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function xT(t){var e=[],n,i=this._root,o,a,u,f,l;for(i&&e.push(new be(i,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(i=n.node,a=n.x0,u=n.y0,f=n.x1,l=n.y1)&&i.length){var c=(a+f)/2,d=(u+l)/2;(o=i[3])&&e.push(new be(o,c,d,f,l)),(o=i[2])&&e.push(new be(o,a,d,c,l)),(o=i[1])&&e.push(new be(o,c,u,f,d)),(o=i[0])&&e.push(new be(o,a,u,c,d))}return this}function MT(t){var e=[],n=[],i;for(this._root&&e.push(new be(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var a,u=i.x0,f=i.y0,l=i.x1,c=i.y1,d=(u+l)/2,_=(f+c)/2;(a=o[0])&&e.push(new be(a,u,f,d,_)),(a=o[1])&&e.push(new be(a,d,f,l,_)),(a=o[2])&&e.push(new be(a,u,_,d,c)),(a=o[3])&&e.push(new be(a,d,_,l,c))}n.push(i)}for(;i=n.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function TT(t){return t[0]}function PT(t){return arguments.length?(this._x=t,this):this._x}function ST(t){return t[1]}function ET(t){return arguments.length?(this._y=t,this):this._y}function xf(t,e,n){var i=new cd(e??TT,n??ST,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function cd(t,e,n,i,o,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function __(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ee=xf.prototype=cd.prototype;Ee.copy=function(){var t=new cd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,i;if(!e)return t;if(!e.length)return t._root=__(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?n.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=__(i));return t};Ee.add=hT;Ee.addAll=dT;Ee.cover=pT;Ee.data=_T;Ee.extent=mT;Ee.find=gT;Ee.remove=vT;Ee.removeAll=yT;Ee.root=bT;Ee.size=wT;Ee.visit=xT;Ee.visitAfter=MT;Ee.x=PT;Ee.y=ET;function jt(t){return function(){return t}}function li(t){return(t()-.5)*1e-6}function kT(t){return t.x+t.vx}function AT(t){return t.y+t.vy}function LT(t){var e,n,i,o=1,a=1;typeof t!="function"&&(t=jt(t==null?1:+t));function u(){for(var c,d=e.length,_,p,g,y,v,b,x=0;x<a;++x)for(_=xf(e,kT,AT).visitAfter(f),c=0;c<d;++c)p=e[c],v=n[p.index],b=v*v,g=p.x+p.vx,y=p.y+p.vy,_.visit(P);function P(T,M,k,A,O){var B=T.data,R=T.r,$=v+R;if(B){if(B.index>p.index){var z=g-B.x-B.vx,W=y-B.y-B.vy,D=z*z+W*W;D<$*$&&(z===0&&(z=li(i),D+=z*z),W===0&&(W=li(i),D+=W*W),D=($-(D=Math.sqrt(D)))/D*o,p.vx+=(z*=D)*($=(R*=R)/(b+R)),p.vy+=(W*=D)*$,B.vx-=z*($=1-$),B.vy-=W*$)}return}return M>g+$||A<g-$||k>y+$||O<y-$}}function f(c){if(c.data)return c.r=n[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(e){var c,d=e.length,_;for(n=new Array(d),c=0;c<d;++c)_=e[c],n[_.index]=+t(_,c,e)}}return u.initialize=function(c,d){e=c,i=d,l()},u.iterations=function(c){return arguments.length?(a=+c,u):a},u.strength=function(c){return arguments.length?(o=+c,u):o},u.radius=function(c){return arguments.length?(t=typeof c=="function"?c:jt(+c),l(),u):t},u}function CT(t){return t.index}function m_(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function NT(t){var e=CT,n=_,i,o=jt(30),a,u,f,l,c,d=1;t==null&&(t=[]);function _(b){return 1/Math.min(f[b.source.index],f[b.target.index])}function p(b){for(var x=0,P=t.length;x<d;++x)for(var T=0,M,k,A,O,B,R,$;T<P;++T)M=t[T],k=M.source,A=M.target,O=A.x+A.vx-k.x-k.vx||li(c),B=A.y+A.vy-k.y-k.vy||li(c),R=Math.sqrt(O*O+B*B),R=(R-a[T])/R*b*i[T],O*=R,B*=R,A.vx-=O*($=l[T]),A.vy-=B*$,k.vx+=O*($=1-$),k.vy+=B*$}function g(){if(u){var b,x=u.length,P=t.length,T=new Map(u.map((k,A)=>[e(k,A,u),k])),M;for(b=0,f=new Array(x);b<P;++b)M=t[b],M.index=b,typeof M.source!="object"&&(M.source=m_(T,M.source)),typeof M.target!="object"&&(M.target=m_(T,M.target)),f[M.source.index]=(f[M.source.index]||0)+1,f[M.target.index]=(f[M.target.index]||0)+1;for(b=0,l=new Array(P);b<P;++b)M=t[b],l[b]=f[M.source.index]/(f[M.source.index]+f[M.target.index]);i=new Array(P),y(),a=new Array(P),v()}}function y(){if(u)for(var b=0,x=t.length;b<x;++b)i[b]=+n(t[b],b,t)}function v(){if(u)for(var b=0,x=t.length;b<x;++b)a[b]=+o(t[b],b,t)}return p.initialize=function(b,x){u=b,c=x,g()},p.links=function(b){return arguments.length?(t=b,g(),p):t},p.id=function(b){return arguments.length?(e=b,p):e},p.iterations=function(b){return arguments.length?(d=+b,p):d},p.strength=function(b){return arguments.length?(n=typeof b=="function"?b:jt(+b),y(),p):n},p.distance=function(b){return arguments.length?(o=typeof b=="function"?b:jt(+b),v(),p):o},p}const zT=1664525,IT=1013904223,g_=4294967296;function OT(){let t=1;return()=>(t=(zT*t+IT)%g_)/g_}function RT(t){return t.x}function $T(t){return t.y}var BT=10,DT=Math.PI*(3-Math.sqrt(5));function ZT(t){var e,n=1,i=.001,o=1-Math.pow(i,1/300),a=0,u=.6,f=new Map,l=vf(_),c=ur("tick","end"),d=OT();t==null&&(t=[]);function _(){p(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function p(v){var b,x=t.length,P;v===void 0&&(v=1);for(var T=0;T<v;++T)for(n+=(a-n)*o,f.forEach(function(M){M(n)}),b=0;b<x;++b)P=t[b],P.fx==null?P.x+=P.vx*=u:(P.x=P.fx,P.vx=0),P.fy==null?P.y+=P.vy*=u:(P.y=P.fy,P.vy=0);return e}function g(){for(var v=0,b=t.length,x;v<b;++v){if(x=t[v],x.index=v,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var P=BT*Math.sqrt(.5+v),T=v*DT;x.x=P*Math.cos(T),x.y=P*Math.sin(T)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function y(v){return v.initialize&&v.initialize(t,d),v}return g(),e={tick:p,restart:function(){return l.restart(_),e},stop:function(){return l.stop(),e},nodes:function(v){return arguments.length?(t=v,g(),f.forEach(y),e):t},alpha:function(v){return arguments.length?(n=+v,e):n},alphaMin:function(v){return arguments.length?(i=+v,e):i},alphaDecay:function(v){return arguments.length?(o=+v,e):+o},alphaTarget:function(v){return arguments.length?(a=+v,e):a},velocityDecay:function(v){return arguments.length?(u=1-v,e):1-u},randomSource:function(v){return arguments.length?(d=v,f.forEach(y),e):d},force:function(v,b){return arguments.length>1?(b==null?f.delete(v):f.set(v,y(b)),e):f.get(v)},find:function(v,b,x){var P=0,T=t.length,M,k,A,O,B;for(x==null?x=1/0:x*=x,P=0;P<T;++P)O=t[P],M=v-O.x,k=b-O.y,A=M*M+k*k,A<x&&(B=O,x=A);return B},on:function(v,b){return arguments.length>1?(c.on(v,b),e):c.on(v)}}}function FT(){var t,e,n,i,o=jt(-30),a,u=1,f=1/0,l=.81;function c(g){var y,v=t.length,b=xf(t,RT,$T).visitAfter(_);for(i=g,y=0;y<v;++y)e=t[y],b.visit(p)}function d(){if(t){var g,y=t.length,v;for(a=new Array(y),g=0;g<y;++g)v=t[g],a[v.index]=+o(v,g,t)}}function _(g){var y=0,v,b,x=0,P,T,M;if(g.length){for(P=T=M=0;M<4;++M)(v=g[M])&&(b=Math.abs(v.value))&&(y+=v.value,x+=b,P+=b*v.x,T+=b*v.y);g.x=P/x,g.y=T/x}else{v=g,v.x=v.data.x,v.y=v.data.y;do y+=a[v.data.index];while(v=v.next)}g.value=y}function p(g,y,v,b){if(!g.value)return!0;var x=g.x-e.x,P=g.y-e.y,T=b-y,M=x*x+P*P;if(T*T/l<M)return M<f&&(x===0&&(x=li(n),M+=x*x),P===0&&(P=li(n),M+=P*P),M<u&&(M=Math.sqrt(u*M)),e.vx+=x*g.value*i/M,e.vy+=P*g.value*i/M),!0;if(g.length||M>=f)return;(g.data!==e||g.next)&&(x===0&&(x=li(n),M+=x*x),P===0&&(P=li(n),M+=P*P),M<u&&(M=Math.sqrt(u*M)));do g.data!==e&&(T=a[g.data.index]*i/M,e.vx+=x*T,e.vy+=P*T);while(g=g.next)}return c.initialize=function(g,y){t=g,n=y,d()},c.strength=function(g){return arguments.length?(o=typeof g=="function"?g:jt(+g),d(),c):o},c.distanceMin=function(g){return arguments.length?(u=g*g,c):Math.sqrt(u)},c.distanceMax=function(g){return arguments.length?(f=g*g,c):Math.sqrt(f)},c.theta=function(g){return arguments.length?(l=g*g,c):Math.sqrt(l)},c}function qT(t,e,n){var i,o=jt(.1),a,u;typeof t!="function"&&(t=jt(+t)),e==null&&(e=0),n==null&&(n=0);function f(c){for(var d=0,_=i.length;d<_;++d){var p=i[d],g=p.x-e||1e-6,y=p.y-n||1e-6,v=Math.sqrt(g*g+y*y),b=(u[d]-v)*a[d]*c/v;p.vx+=g*b,p.vy+=y*b}}function l(){if(i){var c,d=i.length;for(a=new Array(d),u=new Array(d),c=0;c<d;++c)u[c]=+t(i[c],c,i),a[c]=isNaN(u[c])?0:+o(i[c],c,i)}}return f.initialize=function(c){i=c,l()},f.strength=function(c){return arguments.length?(o=typeof c=="function"?c:jt(+c),l(),f):o},f.radius=function(c){return arguments.length?(t=typeof c=="function"?c:jt(+c),l(),f):t},f.x=function(c){return arguments.length?(e=+c,f):e},f.y=function(c){return arguments.length?(n=+c,f):n},f}function HT(t){var e=jt(.1),n,i,o;typeof t!="function"&&(t=jt(t==null?0:+t));function a(f){for(var l=0,c=n.length,d;l<c;++l)d=n[l],d.vx+=(o[l]-d.x)*i[l]*f}function u(){if(n){var f,l=n.length;for(i=new Array(l),o=new Array(l),f=0;f<l;++f)i[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return a.initialize=function(f){n=f,u()},a.strength=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u(),a):e},a.x=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u(),a):t},a}function UT(t){var e=jt(.1),n,i,o;typeof t!="function"&&(t=jt(t==null?0:+t));function a(f){for(var l=0,c=n.length,d;l<c;++l)d=n[l],d.vy+=(o[l]-d.y)*i[l]*f}function u(){if(n){var f,l=n.length;for(i=new Array(l),o=new Array(l),f=0;f<l;++f)i[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return a.initialize=function(f){n=f,u()},a.strength=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u(),a):e},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u(),a):t},a}function WT(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function io(t){return t=Mu(Math.abs(t)),t?t[1]:NaN}function YT(t,e){return function(n,i){for(var o=n.length,a=[],u=0,f=t[0],l=0;o>0&&f>0&&(l+f+1>i&&(f=Math.max(1,i-l)),a.push(n.substring(o-=f,o+f)),!((l+=f+1)>i));)f=t[u=(u+1)%t.length];return a.reverse().join(e)}}function GT(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var VT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ro(t){if(!(e=VT.exec(t)))throw new Error("invalid format: "+t);var e;return new Mf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ro.prototype=Mf.prototype;function Mf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jT(t){t:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var av;function XT(t,e){var n=Mu(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(av=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Mu(t,Math.max(0,e+a-1))[0]}function v_(t,e){var n=Mu(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const y_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:WT,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>v_(t*100,e),r:v_,s:XT,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b_(t){return t}var w_=Array.prototype.map,x_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sv(t){var e=t.grouping===void 0||t.thousands===void 0?b_:YT(w_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?b_:GT(w_.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(_){_=ro(_);var p=_.fill,g=_.align,y=_.sign,v=_.symbol,b=_.zero,x=_.width,P=_.comma,T=_.precision,M=_.trim,k=_.type;k==="n"?(P=!0,k="g"):y_[k]||(T===void 0&&(T=12),M=!0,k="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=v==="$"?i:/[%p]/.test(k)?u:"",B=y_[k],R=/[defgprs%]/.test(k);T=T===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function $(z){var W=A,D=O,E,I,C;if(k==="c")D=B(z)+D,z="";else{z=+z;var Z=z<0||1/z<0;if(z=isNaN(z)?l:B(Math.abs(z),T),M&&(z=jT(z)),Z&&+z==0&&y!=="+"&&(Z=!1),W=(Z?y==="("?y:f:y==="-"||y==="("?"":y)+W,D=(k==="s"?x_[8+av/3]:"")+D+(Z&&y==="("?")":""),R){for(E=-1,I=z.length;++E<I;)if(C=z.charCodeAt(E),48>C||C>57){D=(C===46?o+z.slice(E+1):z.slice(E))+D,z=z.slice(0,E);break}}}P&&!b&&(z=e(z,1/0));var q=W.length+z.length+D.length,Y=q<x?new Array(x-q+1).join(p):"";switch(P&&b&&(z=e(Y+z,Y.length?x-D.length:1/0),Y=""),g){case"<":z=W+z+D+Y;break;case"=":z=W+Y+z+D;break;case"^":z=Y.slice(0,q=Y.length>>1)+W+z+D+Y.slice(q);break;default:z=Y+W+z+D;break}return a(z)}return $.toString=function(){return _+""},$}function d(_,p){var g=c((_=ro(_),_.type="f",_)),y=Math.max(-8,Math.min(8,Math.floor(io(p)/3)))*3,v=Math.pow(10,-y),b=x_[8+y/3];return function(x){return g(v*x)+b}}return{format:c,formatPrefix:d}}var Ls,Tf,hd;uv({thousands:",",grouping:[3],currency:["$",""]});function uv(t){return Ls=sv(t),Tf=Ls.format,hd=Ls.formatPrefix,Ls}function fv(t){return Math.max(0,-io(Math.abs(t)))}function lv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(io(e)/3)))*3-io(Math.abs(t)))}function cv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,io(e)-io(t))+1}var at=1e-6,Sa=1e-12,vt=Math.PI,qt=vt/2,Tu=vt/4,Te=vt*2,Ct=180/vt,ut=vt/180,yt=Math.abs,bo=Math.atan,Pe=Math.atan2,it=Math.cos,Cs=Math.ceil,hv=Math.exp,Hc=Math.hypot,Pu=Math.log,Wl=Math.pow,et=Math.sin,Ke=Math.sign||function(t){return t>0?1:t<0?-1:0},re=Math.sqrt,dd=Math.tan;function dv(t){return t>1?0:t<-1?vt:Math.acos(t)}function Se(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function M_(t){return(t=et(t/2))*t}function Dt(){}function Su(t,e){t&&P_.hasOwnProperty(t.type)&&P_[t.type](t,e)}var T_={Feature:function(t,e){Su(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)Su(n[i].geometry,e)}},P_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Uc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Uc(n[i],e,0)},Polygon:function(t,e){S_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)S_(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)Su(n[i],e)}};function Uc(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function S_(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Uc(t[n],e,1);e.polygonEnd()}function un(t,e){t&&T_.hasOwnProperty(t.type)?T_[t.type](t,e):Su(t,e)}var Eu=new Xt,ku=new Xt,pv,_v,Wc,Yc,Gc,Pn={point:Dt,lineStart:Dt,lineEnd:Dt,polygonStart:function(){Eu=new Xt,Pn.lineStart=KT,Pn.lineEnd=JT},polygonEnd:function(){var t=+Eu;ku.add(t<0?Te+t:t),this.lineStart=this.lineEnd=this.point=Dt},sphere:function(){ku.add(Te)}};function KT(){Pn.point=QT}function JT(){mv(pv,_v)}function QT(t,e){Pn.point=mv,pv=t,_v=e,t*=ut,e*=ut,Wc=t,Yc=it(e=e/2+Tu),Gc=et(e)}function mv(t,e){t*=ut,e*=ut,e=e/2+Tu;var n=t-Wc,i=n>=0?1:-1,o=i*n,a=it(e),u=et(e),f=Gc*u,l=Yc*a+f*it(o),c=f*i*et(o);Eu.add(Pe(c,l)),Wc=t,Yc=a,Gc=u}function t9(t){return ku=new Xt,un(t,Pn),ku*2}function Au(t){return[Pe(t[1],t[0]),Se(t[2])]}function er(t){var e=t[0],n=t[1],i=it(n);return[i*it(e),i*et(e),et(n)]}function Ns(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function oo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Yl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Lu(t){var e=re(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Bt,Ce,Ft,Be,Ii,gv,vv,Yr,fa,ii,Vn,Zn={point:Vc,lineStart:E_,lineEnd:k_,polygonStart:function(){Zn.point=bv,Zn.lineStart=e9,Zn.lineEnd=n9,fa=new Xt,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),Zn.point=Vc,Zn.lineStart=E_,Zn.lineEnd=k_,Eu<0?(Bt=-(Ft=180),Ce=-(Be=90)):fa>at?Be=90:fa<-at&&(Ce=-90),Vn[0]=Bt,Vn[1]=Ft},sphere:function(){Bt=-(Ft=180),Ce=-(Be=90)}};function Vc(t,e){ii.push(Vn=[Bt=t,Ft=t]),e<Ce&&(Ce=e),e>Be&&(Be=e)}function yv(t,e){var n=er([t*ut,e*ut]);if(Yr){var i=oo(Yr,n),o=[i[1],-i[0],0],a=oo(o,i);Lu(a),a=Au(a);var u=t-Ii,f=u>0?1:-1,l=a[0]*Ct*f,c,d=yt(u)>180;d^(f*Ii<l&&l<f*t)?(c=a[1]*Ct,c>Be&&(Be=c)):(l=(l+360)%360-180,d^(f*Ii<l&&l<f*t)?(c=-a[1]*Ct,c<Ce&&(Ce=c)):(e<Ce&&(Ce=e),e>Be&&(Be=e))),d?t<Ii?Oe(Bt,t)>Oe(Bt,Ft)&&(Ft=t):Oe(t,Ft)>Oe(Bt,Ft)&&(Bt=t):Ft>=Bt?(t<Bt&&(Bt=t),t>Ft&&(Ft=t)):t>Ii?Oe(Bt,t)>Oe(Bt,Ft)&&(Ft=t):Oe(t,Ft)>Oe(Bt,Ft)&&(Bt=t)}else ii.push(Vn=[Bt=t,Ft=t]);e<Ce&&(Ce=e),e>Be&&(Be=e),Yr=n,Ii=t}function E_(){Zn.point=yv}function k_(){Vn[0]=Bt,Vn[1]=Ft,Zn.point=Vc,Yr=null}function bv(t,e){if(Yr){var n=t-Ii;fa.add(yt(n)>180?n+(n>0?360:-360):n)}else gv=t,vv=e;Pn.point(t,e),yv(t,e)}function e9(){Pn.lineStart()}function n9(){bv(gv,vv),Pn.lineEnd(),yt(fa)>at&&(Bt=-(Ft=180)),Vn[0]=Bt,Vn[1]=Ft,Yr=null}function Oe(t,e){return(e-=t)<0?e+360:e}function i9(t,e){return t[0]-e[0]}function A_(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function r9(t){var e,n,i,o,a,u,f;if(Be=Ft=-(Bt=Ce=1/0),ii=[],un(t,Zn),n=ii.length){for(ii.sort(i9),e=1,i=ii[0],a=[i];e<n;++e)o=ii[e],A_(i,o[0])||A_(i,o[1])?(Oe(i[0],o[1])>Oe(i[0],i[1])&&(i[1]=o[1]),Oe(o[0],i[1])>Oe(i[0],i[1])&&(i[0]=o[0])):a.push(i=o);for(u=-1/0,n=a.length-1,e=0,i=a[n];e<=n;i=o,++e)o=a[e],(f=Oe(i[1],o[0]))>u&&(u=f,Bt=o[0],Ft=i[1])}return ii=Vn=null,Bt===1/0||Ce===1/0?[[NaN,NaN],[NaN,NaN]]:[[Bt,Ce],[Ft,Be]]}var Jo,Cu,Nu,zu,Iu,Ou,Ru,$u,jc,Xc,Kc,wv,xv,ge,ve,ye,fn={sphere:Dt,point:pd,lineStart:L_,lineEnd:C_,polygonStart:function(){fn.lineStart=s9,fn.lineEnd=u9},polygonEnd:function(){fn.lineStart=L_,fn.lineEnd=C_}};function pd(t,e){t*=ut,e*=ut;var n=it(e);Ua(n*it(t),n*et(t),et(e))}function Ua(t,e,n){++Jo,Nu+=(t-Nu)/Jo,zu+=(e-zu)/Jo,Iu+=(n-Iu)/Jo}function L_(){fn.point=o9}function o9(t,e){t*=ut,e*=ut;var n=it(e);ge=n*it(t),ve=n*et(t),ye=et(e),fn.point=a9,Ua(ge,ve,ye)}function a9(t,e){t*=ut,e*=ut;var n=it(e),i=n*it(t),o=n*et(t),a=et(e),u=Pe(re((u=ve*a-ye*o)*u+(u=ye*i-ge*a)*u+(u=ge*o-ve*i)*u),ge*i+ve*o+ye*a);Cu+=u,Ou+=u*(ge+(ge=i)),Ru+=u*(ve+(ve=o)),$u+=u*(ye+(ye=a)),Ua(ge,ve,ye)}function C_(){fn.point=pd}function s9(){fn.point=f9}function u9(){Mv(wv,xv),fn.point=pd}function f9(t,e){wv=t,xv=e,t*=ut,e*=ut,fn.point=Mv;var n=it(e);ge=n*it(t),ve=n*et(t),ye=et(e),Ua(ge,ve,ye)}function Mv(t,e){t*=ut,e*=ut;var n=it(e),i=n*it(t),o=n*et(t),a=et(e),u=ve*a-ye*o,f=ye*i-ge*a,l=ge*o-ve*i,c=Hc(u,f,l),d=Se(c),_=c&&-d/c;jc.add(_*u),Xc.add(_*f),Kc.add(_*l),Cu+=d,Ou+=d*(ge+(ge=i)),Ru+=d*(ve+(ve=o)),$u+=d*(ye+(ye=a)),Ua(ge,ve,ye)}function l9(t){Jo=Cu=Nu=zu=Iu=Ou=Ru=$u=0,jc=new Xt,Xc=new Xt,Kc=new Xt,un(t,fn);var e=+jc,n=+Xc,i=+Kc,o=Hc(e,n,i);return o<Sa&&(e=Ou,n=Ru,i=$u,Cu<at&&(e=Nu,n=zu,i=Iu),o=Hc(e,n,i),o<Sa)?[NaN,NaN]:[Pe(n,e)*Ct,Se(i/o)*Ct]}function Nr(t){return function(){return t}}function Jc(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function Qc(t,e){return yt(t)>vt&&(t-=Math.round(t/Te)*Te),[t,e]}Qc.invert=Qc;function _d(t,e,n){return(t%=Te)?e||n?Jc(z_(t),I_(e,n)):z_(t):e||n?I_(e,n):Qc}function N_(t){return function(e,n){return e+=t,yt(e)>vt&&(e-=Math.round(e/Te)*Te),[e,n]}}function z_(t){var e=N_(t);return e.invert=N_(-t),e}function I_(t,e){var n=it(t),i=et(t),o=it(e),a=et(e);function u(f,l){var c=it(l),d=it(f)*c,_=et(f)*c,p=et(l),g=p*n+d*i;return[Pe(_*o-g*a,d*n-p*i),Se(g*o+_*a)]}return u.invert=function(f,l){var c=it(l),d=it(f)*c,_=et(f)*c,p=et(l),g=p*o-_*a;return[Pe(_*o+p*a,d*n+g*i),Se(g*n-d*i)]},u}function Tv(t){t=_d(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function e(n){return n=t(n[0]*ut,n[1]*ut),n[0]*=Ct,n[1]*=Ct,n}return e.invert=function(n){return n=t.invert(n[0]*ut,n[1]*ut),n[0]*=Ct,n[1]*=Ct,n},e}function Pv(t,e,n,i,o,a){if(n){var u=it(e),f=et(e),l=i*n;o==null?(o=e+i*Te,a=e-l/2):(o=O_(u,o),a=O_(u,a),(i>0?o<a:o>a)&&(o+=i*Te));for(var c,d=o;i>0?d>a:d<a;d-=l)c=Au([u,-f*it(d),-f*et(d)]),t.point(c[0],c[1])}}function O_(t,e){e=er(e),e[0]-=t,Lu(e);var n=dv(-e[1]);return((-e[2]<0?-n:n)+Te-at)%Te}function c9(){var t=Nr([0,0]),e=Nr(90),n=Nr(2),i,o,a={point:u};function u(l,c){i.push(l=o(l,c)),l[0]*=Ct,l[1]*=Ct}function f(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*ut,d=n.apply(this,arguments)*ut;return i=[],o=_d(-l[0]*ut,-l[1]*ut,0).invert,Pv(a,c,d,1),l={type:"Polygon",coordinates:[i]},i=o=null,l}return f.center=function(l){return arguments.length?(t=typeof l=="function"?l:Nr([+l[0],+l[1]]),f):t},f.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Nr(+l),f):e},f.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Nr(+l),f):n},f}function Sv(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Dt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ks(t,e){return yt(t[0]-e[0])<at&&yt(t[1]-e[1])<at}function Is(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ev(t,e,n,i,o){var a=[],u=[],f,l;if(t.forEach(function(y){if(!((v=y.length-1)<=0)){var v,b=y[0],x=y[v],P;if(Ks(b,x)){if(!b[2]&&!x[2]){for(o.lineStart(),f=0;f<v;++f)o.point((b=y[f])[0],b[1]);o.lineEnd();return}x[0]+=2*at}a.push(P=new Is(b,y,null,!0)),u.push(P.o=new Is(b,null,P,!1)),a.push(P=new Is(x,y,null,!1)),u.push(P.o=new Is(x,null,P,!0))}}),!!a.length){for(u.sort(e),R_(a),R_(u),f=0,l=u.length;f<l;++f)u[f].e=n=!n;for(var c=a[0],d,_;;){for(var p=c,g=!0;p.v;)if((p=p.n)===c)return;d=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(f=0,l=d.length;f<l;++f)o.point((_=d[f])[0],_[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(g)for(d=p.p.z,f=d.length-1;f>=0;--f)o.point((_=d[f])[0],_[1]);else i(p.x,p.p.x,-1,o);p=p.p}p=p.o,d=p.z,g=!g}while(!p.v);o.lineEnd()}}}function R_(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function Gl(t){return yt(t[0])<=vt?t[0]:Ke(t[0])*((yt(t[0])+vt)%Te-vt)}function kv(t,e){var n=Gl(e),i=e[1],o=et(i),a=[et(n),-it(n),0],u=0,f=0,l=new Xt;o===1?i=qt+at:o===-1&&(i=-qt-at);for(var c=0,d=t.length;c<d;++c)if(p=(_=t[c]).length)for(var _,p,g=_[p-1],y=Gl(g),v=g[1]/2+Tu,b=et(v),x=it(v),P=0;P<p;++P,y=M,b=A,x=O,g=T){var T=_[P],M=Gl(T),k=T[1]/2+Tu,A=et(k),O=it(k),B=M-y,R=B>=0?1:-1,$=R*B,z=$>vt,W=b*A;if(l.add(Pe(W*R*et($),x*O+W*it($))),u+=z?B+R*Te:B,z^y>=n^M>=n){var D=oo(er(g),er(T));Lu(D);var E=oo(a,D);Lu(E);var I=(z^B>=0?-1:1)*Se(E[2]);(i>I||i===I&&(D[0]||D[1]))&&(f+=z^B>=0?1:-1)}}return(u<-at||u<at&&l<-Sa)^f&1}function Av(t,e,n,i){return function(o){var a=e(o),u=Sv(),f=e(u),l=!1,c,d,_,p={point:g,lineStart:v,lineEnd:b,polygonStart:function(){p.point=x,p.lineStart=P,p.lineEnd=T,d=[],c=[]},polygonEnd:function(){p.point=g,p.lineStart=v,p.lineEnd=b,d=Hh(d);var M=kv(c,i);d.length?(l||(o.polygonStart(),l=!0),Ev(d,d9,M,n,o)):M&&(l||(o.polygonStart(),l=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),d=c=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(M,k){t(M,k)&&o.point(M,k)}function y(M,k){a.point(M,k)}function v(){p.point=y,a.lineStart()}function b(){p.point=g,a.lineEnd()}function x(M,k){_.push([M,k]),f.point(M,k)}function P(){f.lineStart(),_=[]}function T(){x(_[0][0],_[0][1]),f.lineEnd();var M=f.clean(),k=u.result(),A,O=k.length,B,R,$;if(_.pop(),c.push(_),_=null,!!O){if(M&1){if(R=k[0],(B=R.length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),A=0;A<B;++A)o.point(($=R[A])[0],$[1]);o.lineEnd()}return}O>1&&M&2&&k.push(k.pop().concat(k.shift())),d.push(k.filter(h9))}}return p}}function h9(t){return t.length>1}function d9(t,e){return((t=t.x)[0]<0?t[1]-qt-at:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-at:qt-e[1])}const th=Av(function(){return!0},p9,m9,[-vt,-qt]);function p9(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,u){var f=a>0?vt:-vt,l=yt(a-e);yt(l-vt)<at?(t.point(e,n=(n+u)/2>0?qt:-qt),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),o=0):i!==f&&l>=vt&&(yt(e-i)<at&&(e-=i*at),yt(a-f)<at&&(a-=f*at),n=_9(e,n,a,u),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=a,n=u),i=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function _9(t,e,n,i){var o,a,u=et(t-n);return yt(u)>at?bo((et(e)*(a=it(i))*et(n)-et(i)*(o=it(e))*et(t))/(o*a*u)):(e+i)/2}function m9(t,e,n,i){var o;if(t==null)o=n*qt,i.point(-vt,o),i.point(0,o),i.point(vt,o),i.point(vt,0),i.point(vt,-o),i.point(0,-o),i.point(-vt,-o),i.point(-vt,0),i.point(-vt,o);else if(yt(t[0]-e[0])>at){var a=t[0]<e[0]?vt:-vt;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function Lv(t){var e=it(t),n=2*ut,i=e>0,o=yt(e)>at;function a(d,_,p,g){Pv(g,t,n,p,d,_)}function u(d,_){return it(d)*it(_)>e}function f(d){var _,p,g,y,v;return{lineStart:function(){y=g=!1,v=1},point:function(b,x){var P=[b,x],T,M=u(b,x),k=i?M?0:c(b,x):M?c(b+(b<0?vt:-vt),x):0;if(!_&&(y=g=M)&&d.lineStart(),M!==g&&(T=l(_,P),(!T||Ks(_,T)||Ks(P,T))&&(P[2]=1)),M!==g)v=0,M?(d.lineStart(),T=l(P,_),d.point(T[0],T[1])):(T=l(_,P),d.point(T[0],T[1],2),d.lineEnd()),_=T;else if(o&&_&&i^M){var A;!(k&p)&&(A=l(P,_,!0))&&(v=0,i?(d.lineStart(),d.point(A[0][0],A[0][1]),d.point(A[1][0],A[1][1]),d.lineEnd()):(d.point(A[1][0],A[1][1]),d.lineEnd(),d.lineStart(),d.point(A[0][0],A[0][1],3)))}M&&(!_||!Ks(_,P))&&d.point(P[0],P[1]),_=P,g=M,p=k},lineEnd:function(){g&&d.lineEnd(),_=null},clean:function(){return v|(y&&g)<<1}}}function l(d,_,p){var g=er(d),y=er(_),v=[1,0,0],b=oo(g,y),x=Ns(b,b),P=b[0],T=x-P*P;if(!T)return!p&&d;var M=e*x/T,k=-e*P/T,A=oo(v,b),O=zs(v,M),B=zs(b,k);Yl(O,B);var R=A,$=Ns(O,R),z=Ns(R,R),W=$*$-z*(Ns(O,O)-1);if(!(W<0)){var D=re(W),E=zs(R,(-$-D)/z);if(Yl(E,O),E=Au(E),!p)return E;var I=d[0],C=_[0],Z=d[1],q=_[1],Y;C<I&&(Y=I,I=C,C=Y);var U=C-I,V=yt(U-vt)<at,X=V||U<at;if(!V&&q<Z&&(Y=Z,Z=q,q=Y),X?V?Z+q>0^E[1]<(yt(E[0]-I)<at?Z:q):Z<=E[1]&&E[1]<=q:U>vt^(I<=E[0]&&E[0]<=C)){var nt=zs(R,(-$+D)/z);return Yl(nt,O),[E,Au(nt)]}}}function c(d,_){var p=i?t:vt-t,g=0;return d<-p?g|=1:d>p&&(g|=2),_<-p?g|=4:_>p&&(g|=8),g}return Av(u,f,a,i?[0,-t]:[-vt,t-vt])}function g9(t,e,n,i,o,a){var u=t[0],f=t[1],l=e[0],c=e[1],d=0,_=1,p=l-u,g=c-f,y;if(y=n-u,!(!p&&y>0)){if(y/=p,p<0){if(y<d)return;y<_&&(_=y)}else if(p>0){if(y>_)return;y>d&&(d=y)}if(y=o-u,!(!p&&y<0)){if(y/=p,p<0){if(y>_)return;y>d&&(d=y)}else if(p>0){if(y<d)return;y<_&&(_=y)}if(y=i-f,!(!g&&y>0)){if(y/=g,g<0){if(y<d)return;y<_&&(_=y)}else if(g>0){if(y>_)return;y>d&&(d=y)}if(y=a-f,!(!g&&y<0)){if(y/=g,g<0){if(y>_)return;y>d&&(d=y)}else if(g>0){if(y<d)return;y<_&&(_=y)}return d>0&&(t[0]=u+d*p,t[1]=f+d*g),_<1&&(e[0]=u+_*p,e[1]=f+_*g),!0}}}}}var Qo=1e9,Os=-Qo;function Pf(t,e,n,i){function o(c,d){return t<=c&&c<=n&&e<=d&&d<=i}function a(c,d,_,p){var g=0,y=0;if(c==null||(g=u(c,_))!==(y=u(d,_))||l(c,d)<0^_>0)do p.point(g===0||g===3?t:n,g>1?i:e);while((g=(g+_+4)%4)!==y);else p.point(d[0],d[1])}function u(c,d){return yt(c[0]-t)<at?d>0?0:3:yt(c[0]-n)<at?d>0?2:1:yt(c[1]-e)<at?d>0?1:0:d>0?3:2}function f(c,d){return l(c.x,d.x)}function l(c,d){var _=u(c,1),p=u(d,1);return _!==p?_-p:_===0?d[1]-c[1]:_===1?c[0]-d[0]:_===2?c[1]-d[1]:d[0]-c[0]}return function(c){var d=c,_=Sv(),p,g,y,v,b,x,P,T,M,k,A,O={point:B,lineStart:W,lineEnd:D,polygonStart:$,polygonEnd:z};function B(I,C){o(I,C)&&d.point(I,C)}function R(){for(var I=0,C=0,Z=g.length;C<Z;++C)for(var q=g[C],Y=1,U=q.length,V=q[0],X,nt,K=V[0],tt=V[1];Y<U;++Y)X=K,nt=tt,V=q[Y],K=V[0],tt=V[1],nt<=i?tt>i&&(K-X)*(i-nt)>(tt-nt)*(t-X)&&++I:tt<=i&&(K-X)*(i-nt)<(tt-nt)*(t-X)&&--I;return I}function $(){d=_,p=[],g=[],A=!0}function z(){var I=R(),C=A&&I,Z=(p=Hh(p)).length;(C||Z)&&(c.polygonStart(),C&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Z&&Ev(p,f,I,a,c),c.polygonEnd()),d=c,p=g=y=null}function W(){O.point=E,g&&g.push(y=[]),k=!0,M=!1,P=T=NaN}function D(){p&&(E(v,b),x&&M&&_.rejoin(),p.push(_.result())),O.point=B,M&&d.lineEnd()}function E(I,C){var Z=o(I,C);if(g&&y.push([I,C]),k)v=I,b=C,x=Z,k=!1,Z&&(d.lineStart(),d.point(I,C));else if(Z&&M)d.point(I,C);else{var q=[P=Math.max(Os,Math.min(Qo,P)),T=Math.max(Os,Math.min(Qo,T))],Y=[I=Math.max(Os,Math.min(Qo,I)),C=Math.max(Os,Math.min(Qo,C))];g9(q,Y,t,e,n,i)?(M||(d.lineStart(),d.point(q[0],q[1])),d.point(Y[0],Y[1]),Z||d.lineEnd(),A=!1):Z&&(d.lineStart(),d.point(I,C),A=!1)}P=I,T=C,M=Z}return O}}function v9(){var t=0,e=0,n=960,i=500,o,a,u;return u={stream:function(f){return o&&a===f?o:o=Pf(t,e,n,i)(a=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],i=+f[1][1],o=a=null,u):[[t,e],[n,i]]}}}var eh,nh,Js,Qs,ao={sphere:Dt,point:Dt,lineStart:y9,lineEnd:Dt,polygonStart:Dt,polygonEnd:Dt};function y9(){ao.point=w9,ao.lineEnd=b9}function b9(){ao.point=ao.lineEnd=Dt}function w9(t,e){t*=ut,e*=ut,nh=t,Js=et(e),Qs=it(e),ao.point=x9}function x9(t,e){t*=ut,e*=ut;var n=et(e),i=it(e),o=yt(t-nh),a=it(o),u=et(o),f=i*u,l=Qs*n-Js*i*a,c=Js*n+Qs*i*a;eh.add(Pe(re(f*f+l*l),c)),nh=t,Js=n,Qs=i}function Cv(t){return eh=new Xt,un(t,ao),+eh}var ih=[null,null],M9={type:"LineString",coordinates:ih};function Bu(t,e){return ih[0]=t,ih[1]=e,Cv(M9)}var $_={Feature:function(t,e){return Du(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)if(Du(n[i].geometry,e))return!0;return!1}},B_={Sphere:function(){return!0},Point:function(t,e){return D_(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(D_(n[i],e))return!0;return!1},LineString:function(t,e){return Z_(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(Z_(n[i],e))return!0;return!1},Polygon:function(t,e){return F_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)if(F_(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)if(Du(n[i],e))return!0;return!1}};function Du(t,e){return t&&B_.hasOwnProperty(t.type)?B_[t.type](t,e):!1}function D_(t,e){return Bu(t,e)===0}function Z_(t,e){for(var n,i,o,a=0,u=t.length;a<u;a++){if(i=Bu(t[a],e),i===0||a>0&&(o=Bu(t[a],t[a-1]),o>0&&n<=o&&i<=o&&(n+i-o)*(1-Math.pow((n-i)/o,2))<Sa*o))return!0;n=i}return!1}function F_(t,e){return!!kv(t.map(T9),Nv(e))}function T9(t){return t=t.map(Nv),t.pop(),t}function Nv(t){return[t[0]*ut,t[1]*ut]}function P9(t,e){return(t&&$_.hasOwnProperty(t.type)?$_[t.type]:Du)(t,e)}function q_(t,e,n){var i=fi(t,e-at,n).concat(e);return function(o){return i.map(function(a){return[o,a]})}}function H_(t,e,n){var i=fi(t,e-at,n).concat(e);return function(o){return i.map(function(a){return[a,o]})}}function zv(){var t,e,n,i,o,a,u,f,l=10,c=l,d=90,_=360,p,g,y,v,b=2.5;function x(){return{type:"MultiLineString",coordinates:P()}}function P(){return fi(Cs(i/d)*d,n,d).map(y).concat(fi(Cs(f/_)*_,u,_).map(v)).concat(fi(Cs(e/l)*l,t,l).filter(function(T){return yt(T%d)>at}).map(p)).concat(fi(Cs(a/c)*c,o,c).filter(function(T){return yt(T%_)>at}).map(g))}return x.lines=function(){return P().map(function(T){return{type:"LineString",coordinates:T}})},x.outline=function(){return{type:"Polygon",coordinates:[y(i).concat(v(u).slice(1),y(n).reverse().slice(1),v(f).reverse().slice(1))]}},x.extent=function(T){return arguments.length?x.extentMajor(T).extentMinor(T):x.extentMinor()},x.extentMajor=function(T){return arguments.length?(i=+T[0][0],n=+T[1][0],f=+T[0][1],u=+T[1][1],i>n&&(T=i,i=n,n=T),f>u&&(T=f,f=u,u=T),x.precision(b)):[[i,f],[n,u]]},x.extentMinor=function(T){return arguments.length?(e=+T[0][0],t=+T[1][0],a=+T[0][1],o=+T[1][1],e>t&&(T=e,e=t,t=T),a>o&&(T=a,a=o,o=T),x.precision(b)):[[e,a],[t,o]]},x.step=function(T){return arguments.length?x.stepMajor(T).stepMinor(T):x.stepMinor()},x.stepMajor=function(T){return arguments.length?(d=+T[0],_=+T[1],x):[d,_]},x.stepMinor=function(T){return arguments.length?(l=+T[0],c=+T[1],x):[l,c]},x.precision=function(T){return arguments.length?(b=+T,p=q_(a,o,90),g=H_(e,t,b),y=q_(f,u,90),v=H_(i,n,b),x):b},x.extentMajor([[-180,-90+at],[180,90-at]]).extentMinor([[-180,-80-at],[180,80+at]])}function S9(){return zv()()}function E9(t,e){var n=t[0]*ut,i=t[1]*ut,o=e[0]*ut,a=e[1]*ut,u=it(i),f=et(i),l=it(a),c=et(a),d=u*it(n),_=u*et(n),p=l*it(o),g=l*et(o),y=2*Se(re(M_(a-i)+u*l*M_(o-n))),v=et(y),b=y?function(x){var P=et(x*=y)/v,T=et(y-x)/v,M=T*d+P*p,k=T*_+P*g,A=T*f+P*c;return[Pe(k,M)*Ct,Pe(A,re(M*M+k*k))*Ct]}:function(){return[n*Ct,i*Ct]};return b.distance=y,b}const Ea=t=>t;var Vl=new Xt,rh=new Xt,Iv,Ov,oh,ah,Hn={point:Dt,lineStart:Dt,lineEnd:Dt,polygonStart:function(){Hn.lineStart=k9,Hn.lineEnd=L9},polygonEnd:function(){Hn.lineStart=Hn.lineEnd=Hn.point=Dt,Vl.add(yt(rh)),rh=new Xt},result:function(){var t=Vl/2;return Vl=new Xt,t}};function k9(){Hn.point=A9}function A9(t,e){Hn.point=Rv,Iv=oh=t,Ov=ah=e}function Rv(t,e){rh.add(ah*t-oh*e),oh=t,ah=e}function L9(){Rv(Iv,Ov)}var so=1/0,Zu=so,ka=-so,Fu=ka,qu={point:C9,lineStart:Dt,lineEnd:Dt,polygonStart:Dt,polygonEnd:Dt,result:function(){var t=[[so,Zu],[ka,Fu]];return ka=Fu=-(Zu=so=1/0),t}};function C9(t,e){t<so&&(so=t),t>ka&&(ka=t),e<Zu&&(Zu=e),e>Fu&&(Fu=e)}var sh=0,uh=0,ta=0,Hu=0,Uu=0,Br=0,fh=0,lh=0,ea=0,$v,Bv,vn,yn,Xe={point:nr,lineStart:U_,lineEnd:W_,polygonStart:function(){Xe.lineStart=I9,Xe.lineEnd=O9},polygonEnd:function(){Xe.point=nr,Xe.lineStart=U_,Xe.lineEnd=W_},result:function(){var t=ea?[fh/ea,lh/ea]:Br?[Hu/Br,Uu/Br]:ta?[sh/ta,uh/ta]:[NaN,NaN];return sh=uh=ta=Hu=Uu=Br=fh=lh=ea=0,t}};function nr(t,e){sh+=t,uh+=e,++ta}function U_(){Xe.point=N9}function N9(t,e){Xe.point=z9,nr(vn=t,yn=e)}function z9(t,e){var n=t-vn,i=e-yn,o=re(n*n+i*i);Hu+=o*(vn+t)/2,Uu+=o*(yn+e)/2,Br+=o,nr(vn=t,yn=e)}function W_(){Xe.point=nr}function I9(){Xe.point=R9}function O9(){Dv($v,Bv)}function R9(t,e){Xe.point=Dv,nr($v=vn=t,Bv=yn=e)}function Dv(t,e){var n=t-vn,i=e-yn,o=re(n*n+i*i);Hu+=o*(vn+t)/2,Uu+=o*(yn+e)/2,Br+=o,o=yn*t-vn*e,fh+=o*(vn+t),lh+=o*(yn+e),ea+=o*3,nr(vn=t,yn=e)}function Zv(t){this._context=t}Zv.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Te);break}}},result:Dt};var ch=new Xt,jl,Fv,qv,na,ia,Aa={point:Dt,lineStart:function(){Aa.point=$9},lineEnd:function(){jl&&Hv(Fv,qv),Aa.point=Dt},polygonStart:function(){jl=!0},polygonEnd:function(){jl=null},result:function(){var t=+ch;return ch=new Xt,t}};function $9(t,e){Aa.point=Hv,Fv=na=t,qv=ia=e}function Hv(t,e){na-=t,ia-=e,ch.add(re(na*na+ia*ia)),na=t,ia=e}let Y_,Wu,G_,V_;class j_{constructor(e){this._append=e==null?Uv:B9(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==G_||this._append!==Wu){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,G_=i,Wu=this._append,V_=this._,this._=o}this._+=V_;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Uv(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function B9(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Uv;if(e!==Y_){const n=10**e;Y_=e,Wu=function(o){let a=1;this._+=o[0];for(const u=o.length;a<u;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return Wu}function D9(t,e){let n=3,i=4.5,o,a;function u(f){return f&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),un(f,o(a))),a.result()}return u.area=function(f){return un(f,o(Hn)),Hn.result()},u.measure=function(f){return un(f,o(Aa)),Aa.result()},u.bounds=function(f){return un(f,o(qu)),qu.result()},u.centroid=function(f){return un(f,o(Xe)),Xe.result()},u.projection=function(f){return arguments.length?(o=f==null?(t=null,Ea):(t=f).stream,u):t},u.context=function(f){return arguments.length?(a=f==null?(e=null,new j_(n)):new Zv(e=f),typeof i!="function"&&a.pointRadius(i),u):e},u.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(a.pointRadius(+f),+f),u):i},u.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const l=Math.floor(f);if(!(l>=0))throw new RangeError(`invalid digits: ${f}`);n=l}return e===null&&(a=new j_(n)),u},u.projection(t).digits(n).context(e)}function Z9(t){return{stream:Wa(t)}}function Wa(t){return function(e){var n=new hh;for(var i in t)n[i]=t[i];return n.stream=e,n}}function hh(){}hh.prototype={constructor:hh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function md(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),un(n,t.stream(qu)),e(qu.result()),i!=null&&t.clipExtent(i),t}function Sf(t,e,n){return md(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],u=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),f=+e[0][0]+(o-u*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(a-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([f,l])},n)}function gd(t,e,n){return Sf(t,[[0,0],e],n)}function vd(t,e,n){return md(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),u=(o-a*(i[1][0]+i[0][0]))/2,f=-a*i[0][1];t.scale(150*a).translate([u,f])},n)}function yd(t,e,n){return md(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),u=-a*i[0][0],f=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([u,f])},n)}var X_=16,F9=it(30*ut);function K_(t,e){return+e?H9(t,e):q9(t)}function q9(t){return Wa({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function H9(t,e){function n(i,o,a,u,f,l,c,d,_,p,g,y,v,b){var x=c-i,P=d-o,T=x*x+P*P;if(T>4*e&&v--){var M=u+p,k=f+g,A=l+y,O=re(M*M+k*k+A*A),B=Se(A/=O),R=yt(yt(A)-1)<at||yt(a-_)<at?(a+_)/2:Pe(k,M),$=t(R,B),z=$[0],W=$[1],D=z-i,E=W-o,I=P*D-x*E;(I*I/T>e||yt((x*D+P*E)/T-.5)>.3||u*p+f*g+l*y<F9)&&(n(i,o,a,u,f,l,z,W,R,M/=O,k/=O,A,v,b),b.point(z,W),n(z,W,R,M,k,A,c,d,_,p,g,y,v,b))}}return function(i){var o,a,u,f,l,c,d,_,p,g,y,v,b={point:x,lineStart:P,lineEnd:M,polygonStart:function(){i.polygonStart(),b.lineStart=k},polygonEnd:function(){i.polygonEnd(),b.lineStart=P}};function x(B,R){B=t(B,R),i.point(B[0],B[1])}function P(){_=NaN,b.point=T,i.lineStart()}function T(B,R){var $=er([B,R]),z=t(B,R);n(_,p,d,g,y,v,_=z[0],p=z[1],d=B,g=$[0],y=$[1],v=$[2],X_,i),i.point(_,p)}function M(){b.point=x,i.lineEnd()}function k(){P(),b.point=A,b.lineEnd=O}function A(B,R){T(o=B,R),a=_,u=p,f=g,l=y,c=v,b.point=T}function O(){n(_,p,d,g,y,v,a,u,o,f,l,c,X_,i),b.lineEnd=M,M()}return b}}var U9=Wa({point:function(t,e){this.stream.point(t*ut,e*ut)}});function W9(t){return Wa({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function Y9(t,e,n,i,o){function a(u,f){return u*=i,f*=o,[e+t*u,n-t*f]}return a.invert=function(u,f){return[(u-e)/t*i,(n-f)/t*o]},a}function J_(t,e,n,i,o,a){if(!a)return Y9(t,e,n,i,o);var u=it(a),f=et(a),l=u*t,c=f*t,d=u/t,_=f/t,p=(f*n-u*e)/t,g=(f*e+u*n)/t;function y(v,b){return v*=i,b*=o,[l*v-c*b+e,n-c*v-l*b]}return y.invert=function(v,b){return[i*(d*v-_*b+p),o*(g-_*v-d*b)]},y}function Ln(t){return bd(function(){return t})()}function bd(t){var e,n=150,i=480,o=250,a=0,u=0,f=0,l=0,c=0,d,_=0,p=1,g=1,y=null,v=th,b=null,x,P,T,M=Ea,k=.5,A,O,B,R,$;function z(I){return B(I[0]*ut,I[1]*ut)}function W(I){return I=B.invert(I[0],I[1]),I&&[I[0]*Ct,I[1]*Ct]}z.stream=function(I){return R&&$===I?R:R=U9(W9(d)(v(A(M($=I)))))},z.preclip=function(I){return arguments.length?(v=I,y=void 0,E()):v},z.postclip=function(I){return arguments.length?(M=I,b=x=P=T=null,E()):M},z.clipAngle=function(I){return arguments.length?(v=+I?Lv(y=I*ut):(y=null,th),E()):y*Ct},z.clipExtent=function(I){return arguments.length?(M=I==null?(b=x=P=T=null,Ea):Pf(b=+I[0][0],x=+I[0][1],P=+I[1][0],T=+I[1][1]),E()):b==null?null:[[b,x],[P,T]]},z.scale=function(I){return arguments.length?(n=+I,D()):n},z.translate=function(I){return arguments.length?(i=+I[0],o=+I[1],D()):[i,o]},z.center=function(I){return arguments.length?(a=I[0]%360*ut,u=I[1]%360*ut,D()):[a*Ct,u*Ct]},z.rotate=function(I){return arguments.length?(f=I[0]%360*ut,l=I[1]%360*ut,c=I.length>2?I[2]%360*ut:0,D()):[f*Ct,l*Ct,c*Ct]},z.angle=function(I){return arguments.length?(_=I%360*ut,D()):_*Ct},z.reflectX=function(I){return arguments.length?(p=I?-1:1,D()):p<0},z.reflectY=function(I){return arguments.length?(g=I?-1:1,D()):g<0},z.precision=function(I){return arguments.length?(A=K_(O,k=I*I),E()):re(k)},z.fitExtent=function(I,C){return Sf(z,I,C)},z.fitSize=function(I,C){return gd(z,I,C)},z.fitWidth=function(I,C){return vd(z,I,C)},z.fitHeight=function(I,C){return yd(z,I,C)};function D(){var I=J_(n,0,0,p,g,_).apply(null,e(a,u)),C=J_(n,i-I[0],o-I[1],p,g,_);return d=_d(f,l,c),O=Jc(e,C),B=Jc(d,O),A=K_(O,k),E()}function E(){return R=$=null,z}return function(){return e=t.apply(this,arguments),z.invert=e.invert&&W,D()}}function wd(t){var e=0,n=vt/3,i=bd(t),o=i(e,n);return o.parallels=function(a){return arguments.length?i(e=a[0]*ut,n=a[1]*ut):[e*Ct,n*Ct]},o}function G9(t){var e=it(t);function n(i,o){return[i*e,et(o)/e]}return n.invert=function(i,o){return[i/e,Se(o*e)]},n}function Wv(t,e){var n=et(t),i=(n+et(e))/2;if(yt(i)<at)return G9(t);var o=1+n*(2*i-n),a=re(o)/i;function u(f,l){var c=re(o-2*i*et(l))/i;return[c*et(f*=i),a-c*it(f)]}return u.invert=function(f,l){var c=a-l,d=Pe(f,yt(c))*Ke(c);return c*i<0&&(d-=vt*Ke(f)*Ke(c)),[d/i,Se((o-(f*f+c*c)*i*i)/(2*i))]},u}function Yu(){return wd(Wv).scale(155.424).center([0,33.6442])}function Yv(){return Yu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function V9(t){var e=t.length;return{point:function(n,i){for(var o=-1;++o<e;)t[o].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function j9(){var t,e,n=Yv(),i,o=Yu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,u=Yu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,l,c={point:function(p,g){l=[p,g]}};function d(p){var g=p[0],y=p[1];return l=null,i.point(g,y),l||(a.point(g,y),l)||(f.point(g,y),l)}d.invert=function(p){var g=n.scale(),y=n.translate(),v=(p[0]-y[0])/g,b=(p[1]-y[1])/g;return(b>=.12&&b<.234&&v>=-.425&&v<-.214?o:b>=.166&&b<.234&&v>=-.214&&v<-.115?u:n).invert(p)},d.stream=function(p){return t&&e===p?t:t=V9([n.stream(e=p),o.stream(p),u.stream(p)])},d.precision=function(p){return arguments.length?(n.precision(p),o.precision(p),u.precision(p),_()):n.precision()},d.scale=function(p){return arguments.length?(n.scale(p),o.scale(p*.35),u.scale(p),d.translate(n.translate())):n.scale()},d.translate=function(p){if(!arguments.length)return n.translate();var g=n.scale(),y=+p[0],v=+p[1];return i=n.translate(p).clipExtent([[y-.455*g,v-.238*g],[y+.455*g,v+.238*g]]).stream(c),a=o.translate([y-.307*g,v+.201*g]).clipExtent([[y-.425*g+at,v+.12*g+at],[y-.214*g-at,v+.234*g-at]]).stream(c),f=u.translate([y-.205*g,v+.212*g]).clipExtent([[y-.214*g+at,v+.166*g+at],[y-.115*g-at,v+.234*g-at]]).stream(c),_()},d.fitExtent=function(p,g){return Sf(d,p,g)},d.fitSize=function(p,g){return gd(d,p,g)},d.fitWidth=function(p,g){return vd(d,p,g)},d.fitHeight=function(p,g){return yd(d,p,g)};function _(){return t=e=null,d}return d.scale(1070)}function Gv(t){return function(e,n){var i=it(e),o=it(n),a=t(i*o);return a===1/0?[2,0]:[a*o*et(e),a*et(n)]}}function Ya(t){return function(e,n){var i=re(e*e+n*n),o=t(i),a=et(o),u=it(o);return[Pe(e*a,i*u),Se(i&&n*a/i)]}}var xd=Gv(function(t){return re(2/(1+t))});xd.invert=Ya(function(t){return 2*Se(t/2)});function X9(){return Ln(xd).scale(124.75).clipAngle(180-.001)}var Md=Gv(function(t){return(t=dv(t))&&t/et(t)});Md.invert=Ya(function(t){return t});function K9(){return Ln(Md).scale(79.4188).clipAngle(180-.001)}function Ga(t,e){return[t,Pu(dd((qt+e)/2))]}Ga.invert=function(t,e){return[t,2*bo(hv(e))-qt]};function J9(){return Vv(Ga).scale(961/Te)}function Vv(t){var e=Ln(t),n=e.center,i=e.scale,o=e.translate,a=e.clipExtent,u=null,f,l,c;e.scale=function(_){return arguments.length?(i(_),d()):i()},e.translate=function(_){return arguments.length?(o(_),d()):o()},e.center=function(_){return arguments.length?(n(_),d()):n()},e.clipExtent=function(_){return arguments.length?(_==null?u=f=l=c=null:(u=+_[0][0],f=+_[0][1],l=+_[1][0],c=+_[1][1]),d()):u==null?null:[[u,f],[l,c]]};function d(){var _=vt*i(),p=e(Tv(e.rotate()).invert([0,0]));return a(u==null?[[p[0]-_,p[1]-_],[p[0]+_,p[1]+_]]:t===Ga?[[Math.max(p[0]-_,u),f],[Math.min(p[0]+_,l),c]]:[[u,Math.max(p[1]-_,f)],[l,Math.min(p[1]+_,c)]])}return d()}function Rs(t){return dd((qt+t)/2)}function jv(t,e){var n=it(t),i=t===e?et(t):Pu(n/it(e))/Pu(Rs(e)/Rs(t)),o=n*Wl(Rs(t),i)/i;if(!i)return Ga;function a(u,f){o>0?f<-qt+at&&(f=-qt+at):f>qt-at&&(f=qt-at);var l=o/Wl(Rs(f),i);return[l*et(i*u),o-l*it(i*u)]}return a.invert=function(u,f){var l=o-f,c=Ke(i)*re(u*u+l*l),d=Pe(u,yt(l))*Ke(l);return l*i<0&&(d-=vt*Ke(u)*Ke(l)),[d/i,2*bo(Wl(o/c,1/i))-qt]},a}function Q9(){return wd(jv).scale(109.5).parallels([30,30])}function La(t,e){return[t,e]}La.invert=La;function tP(){return Ln(La).scale(152.63)}function Xv(t,e){var n=it(t),i=t===e?et(t):(n-it(e))/(e-t),o=n/i+t;if(yt(i)<at)return La;function a(u,f){var l=o-f,c=i*u;return[l*et(c),o-l*it(c)]}return a.invert=function(u,f){var l=o-f,c=Pe(u,yt(l))*Ke(l);return l*i<0&&(c-=vt*Ke(u)*Ke(l)),[c/i,o-Ke(i)*re(u*u+l*l)]},a}function eP(){return wd(Xv).scale(131.154).center([0,13.9389])}var la=1.340264,ca=-.081106,ha=893e-6,da=.003796,Gu=re(3)/2,nP=12;function Td(t,e){var n=Se(Gu*et(e)),i=n*n,o=i*i*i;return[t*it(n)/(Gu*(la+3*ca*i+o*(7*ha+9*da*i))),n*(la+ca*i+o*(ha+da*i))]}Td.invert=function(t,e){for(var n=e,i=n*n,o=i*i*i,a=0,u,f,l;a<nP&&(f=n*(la+ca*i+o*(ha+da*i))-e,l=la+3*ca*i+o*(7*ha+9*da*i),n-=u=f/l,i=n*n,o=i*i*i,!(yt(u)<Sa));++a);return[Gu*t*(la+3*ca*i+o*(7*ha+9*da*i))/it(n),Se(et(n)/Gu)]};function iP(){return Ln(Td).scale(177.158)}function Pd(t,e){var n=it(e),i=it(t)*n;return[n*et(t)/i,et(e)/i]}Pd.invert=Ya(bo);function rP(){return Ln(Pd).scale(144.049).clipAngle(60)}function oP(){var t=1,e=0,n=0,i=1,o=1,a=0,u,f,l=null,c,d,_,p=1,g=1,y=Wa({point:function(M,k){var A=T([M,k]);this.stream.point(A[0],A[1])}}),v=Ea,b,x;function P(){return p=t*i,g=t*o,b=x=null,T}function T(M){var k=M[0]*p,A=M[1]*g;if(a){var O=A*u-k*f;k=k*u+A*f,A=O}return[k+e,A+n]}return T.invert=function(M){var k=M[0]-e,A=M[1]-n;if(a){var O=A*u+k*f;k=k*u-A*f,A=O}return[k/p,A/g]},T.stream=function(M){return b&&x===M?b:b=y(v(x=M))},T.postclip=function(M){return arguments.length?(v=M,l=c=d=_=null,P()):v},T.clipExtent=function(M){return arguments.length?(v=M==null?(l=c=d=_=null,Ea):Pf(l=+M[0][0],c=+M[0][1],d=+M[1][0],_=+M[1][1]),P()):l==null?null:[[l,c],[d,_]]},T.scale=function(M){return arguments.length?(t=+M,P()):t},T.translate=function(M){return arguments.length?(e=+M[0],n=+M[1],P()):[e,n]},T.angle=function(M){return arguments.length?(a=M%360*ut,f=et(a),u=it(a),P()):a*Ct},T.reflectX=function(M){return arguments.length?(i=M?-1:1,P()):i<0},T.reflectY=function(M){return arguments.length?(o=M?-1:1,P()):o<0},T.fitExtent=function(M,k){return Sf(T,M,k)},T.fitSize=function(M,k){return gd(T,M,k)},T.fitWidth=function(M,k){return vd(T,M,k)},T.fitHeight=function(M,k){return yd(T,M,k)},T}function Sd(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}Sd.invert=function(t,e){var n=e,i=25,o;do{var a=n*n,u=a*a;n-=o=(n*(1.007226+a*(.015085+u*(-.044475+.028874*a-.005916*u)))-e)/(1.007226+a*(.015085*3+u*(-.044475*7+.028874*9*a-.005916*11*u)))}while(yt(o)>at&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function aP(){return Ln(Sd).scale(175.295)}function Ed(t,e){return[it(e)*et(t),et(e)]}Ed.invert=Ya(Se);function sP(){return Ln(Ed).scale(249.5).clipAngle(90+at)}function kd(t,e){var n=it(e),i=1+it(t)*n;return[n*et(t)/i,et(e)/i]}kd.invert=Ya(function(t){return 2*bo(t)});function uP(){return Ln(kd).scale(250).clipAngle(142)}function Ad(t,e){return[Pu(dd((qt+e)/2)),-t]}Ad.invert=function(t,e){return[-e,2*bo(hv(t))-qt]};function fP(){var t=Vv(Ad),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function lP(t,e){return t.parent===e.parent?1:2}function cP(t){return t.reduce(hP,0)/t.length}function hP(t,e){return t+e.x}function dP(t){return 1+t.reduce(pP,0)}function pP(t,e){return Math.max(t,e.y)}function _P(t){for(var e;e=t.children;)t=e[0];return t}function mP(t){for(var e;e=t.children;)t=e[e.length-1];return t}function gP(){var t=lP,e=1,n=1,i=!1;function o(a){var u,f=0;a.eachAfter(function(p){var g=p.children;g?(p.x=cP(g),p.y=dP(g)):(p.x=u?f+=t(p,u):0,p.y=0,u=p)});var l=_P(a),c=mP(a),d=l.x-t(l,c)/2,_=c.x+t(c,l)/2;return a.eachAfter(i?function(p){p.x=(p.x-a.x)*e,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-d)/(_-d)*e,p.y=(1-(a.y?p.y/a.y:1))*n})}return o.separation=function(a){return arguments.length?(t=a,o):t},o.size=function(a){return arguments.length?(i=!1,e=+a[0],n=+a[1],o):i?null:[e,n]},o.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],n=+a[1],o):i?[e,n]:null},o}function vP(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function yP(){return this.eachAfter(vP)}function bP(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}function wP(t,e){for(var n=this,i=[n],o,a,u=-1;n=i.pop();)if(t.call(e,n,++u,this),o=n.children)for(a=o.length-1;a>=0;--a)i.push(o[a]);return this}function xP(t,e){for(var n=this,i=[n],o=[],a,u,f,l=-1;n=i.pop();)if(o.push(n),a=n.children)for(u=0,f=a.length;u<f;++u)i.push(a[u]);for(;n=o.pop();)t.call(e,n,++l,this);return this}function MP(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}function TP(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,o=i&&i.length;--o>=0;)n+=i[o].value;e.value=n})}function PP(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function SP(t){for(var e=this,n=EP(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;t!==n;)i.splice(o,0,t),t=t.parent;return i}function EP(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),o=null;for(t=n.pop(),e=i.pop();t===e;)o=t,t=n.pop(),e=i.pop();return o}function kP(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function AP(){return Array.from(this)}function LP(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function CP(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*NP(){var t=this,e,n=[t],i,o,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,i=t.children)for(o=0,a=i.length;o<a;++o)n.push(i[o]);while(n.length)}function Ld(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=OP)):e===void 0&&(e=IP);for(var n=new ir(t),i,o=[n],a,u,f,l;i=o.pop();)if((u=e(i.data))&&(l=(u=Array.from(u)).length))for(i.children=u,f=l-1;f>=0;--f)o.push(a=u[f]=new ir(u[f])),a.parent=i,a.depth=i.depth+1;return n.eachBefore(Kv)}function zP(){return Ld(this).eachBefore(RP)}function IP(t){return t.children}function OP(t){return Array.isArray(t)?t[1]:null}function RP(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Kv(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ir(t){this.data=t,this.depth=this.height=0,this.parent=null}ir.prototype=Ld.prototype={constructor:ir,count:yP,each:bP,eachAfter:xP,eachBefore:wP,find:MP,sum:TP,sort:PP,path:SP,ancestors:kP,descendants:AP,leaves:LP,links:CP,copy:zP,[Symbol.iterator]:NP};function tu(t){return t==null?null:Jv(t)}function Jv(t){if(typeof t!="function")throw new Error;return t}function Oi(){return 0}function Or(t){return function(){return t}}const $P=1664525,BP=1013904223,Q_=4294967296;function Cd(){let t=1;return()=>(t=($P*t+BP)%Q_)/Q_}function DP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZP(t,e){let n=t.length,i,o;for(;n;)o=e()*n--|0,i=t[n],t[n]=t[o],t[o]=i;return t}function FP(t){return Qv(t,Cd())}function Qv(t,e){for(var n=0,i=(t=ZP(Array.from(t),e)).length,o=[],a,u;n<i;)a=t[n],u&&ty(u,a)?++n:(u=HP(o=qP(o,a)),n=0);return u}function qP(t,e){var n,i;if(Xl(e,t))return[e];for(n=0;n<t.length;++n)if($s(e,t[n])&&Xl(ra(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if($s(ra(t[n],t[i]),e)&&$s(ra(t[n],e),t[i])&&$s(ra(t[i],e),t[n])&&Xl(ey(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function $s(t,e){var n=t.r-e.r,i=e.x-t.x,o=e.y-t.y;return n<0||n*n<i*i+o*o}function ty(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,i=e.x-t.x,o=e.y-t.y;return n>0&&n*n>i*i+o*o}function Xl(t,e){for(var n=0;n<e.length;++n)if(!ty(t,e[n]))return!1;return!0}function HP(t){switch(t.length){case 1:return UP(t[0]);case 2:return ra(t[0],t[1]);case 3:return ey(t[0],t[1],t[2])}}function UP(t){return{x:t.x,y:t.y,r:t.r}}function ra(t,e){var n=t.x,i=t.y,o=t.r,a=e.x,u=e.y,f=e.r,l=a-n,c=u-i,d=f-o,_=Math.sqrt(l*l+c*c);return{x:(n+a+l/_*d)/2,y:(i+u+c/_*d)/2,r:(_+o+f)/2}}function ey(t,e,n){var i=t.x,o=t.y,a=t.r,u=e.x,f=e.y,l=e.r,c=n.x,d=n.y,_=n.r,p=i-u,g=i-c,y=o-f,v=o-d,b=l-a,x=_-a,P=i*i+o*o-a*a,T=P-u*u-f*f+l*l,M=P-c*c-d*d+_*_,k=g*y-p*v,A=(y*M-v*T)/(k*2)-i,O=(v*b-y*x)/k,B=(g*T-p*M)/(k*2)-o,R=(p*x-g*b)/k,$=O*O+R*R-1,z=2*(a+A*O+B*R),W=A*A+B*B-a*a,D=-(Math.abs($)>1e-6?(z+Math.sqrt(z*z-4*$*W))/(2*$):W/z);return{x:i+A+O*D,y:o+B+R*D,r:D}}function tm(t,e,n){var i=t.x-e.x,o,a,u=t.y-e.y,f,l,c=i*i+u*u;c?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(o=(c+l-a)/(2*c),f=Math.sqrt(Math.max(0,l/c-o*o)),n.x=t.x-o*i-f*u,n.y=t.y-o*u+f*i):(o=(c+a-l)/(2*c),f=Math.sqrt(Math.max(0,a/c-o*o)),n.x=e.x+o*i-f*u,n.y=e.y+o*u+f*i)):(n.x=e.x+n.r,n.y=e.y)}function em(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,o=e.y-t.y;return n>0&&n*n>i*i+o*o}function nm(t){var e=t._,n=t.next._,i=e.r+n.r,o=(e.x*n.r+n.x*e.r)/i,a=(e.y*n.r+n.y*e.r)/i;return o*o+a*a}function Bs(t){this._=t,this.next=null,this.previous=null}function ny(t,e){if(!(a=(t=DP(t)).length))return 0;var n,i,o,a,u,f,l,c,d,_,p;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(i=t[1],n.x=-i.r,i.x=n.r,i.y=0,!(a>2))return n.r+i.r;tm(i,n,o=t[2]),n=new Bs(n),i=new Bs(i),o=new Bs(o),n.next=o.previous=i,i.next=n.previous=o,o.next=i.previous=n;t:for(l=3;l<a;++l){tm(n._,i._,o=t[l]),o=new Bs(o),c=i.next,d=n.previous,_=i._.r,p=n._.r;do if(_<=p){if(em(c._,o._)){i=c,n.next=i,i.previous=n,--l;continue t}_+=c._.r,c=c.next}else{if(em(d._,o._)){n=d,n.next=i,i.previous=n,--l;continue t}p+=d._.r,d=d.previous}while(c!==d.next);for(o.previous=n,o.next=i,n.next=i.previous=i=o,u=nm(n);(o=o.next)!==i;)(f=nm(o))<u&&(n=o,u=f);i=n.next}for(n=[i._],o=i;(o=o.next)!==i;)n.push(o._);for(o=Qv(n,e),l=0;l<a;++l)n=t[l],n.x-=o.x,n.y-=o.y;return o.r}function WP(t){return ny(t,Cd()),t}function YP(t){return Math.sqrt(t.value)}function GP(){var t=null,e=1,n=1,i=Oi;function o(a){const u=Cd();return a.x=e/2,a.y=n/2,t?a.eachBefore(im(t)).eachAfter(Kl(i,.5,u)).eachBefore(rm(1)):a.eachBefore(im(YP)).eachAfter(Kl(Oi,1,u)).eachAfter(Kl(i,a.r/Math.min(e,n),u)).eachBefore(rm(Math.min(e,n)/(2*a.r))),a}return o.radius=function(a){return arguments.length?(t=tu(a),o):t},o.size=function(a){return arguments.length?(e=+a[0],n=+a[1],o):[e,n]},o.padding=function(a){return arguments.length?(i=typeof a=="function"?a:Or(+a),o):i},o}function im(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Kl(t,e,n){return function(i){if(o=i.children){var o,a,u=o.length,f=t(i)*e||0,l;if(f)for(a=0;a<u;++a)o[a].r+=f;if(l=ny(o,n),f)for(a=0;a<u;++a)o[a].r-=f;i.r=l+f}}}function rm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function iy(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Va(t,e,n,i,o){for(var a=t.children,u,f=-1,l=a.length,c=t.value&&(i-e)/t.value;++f<l;)u=a[f],u.y0=n,u.y1=o,u.x0=e,u.x1=e+=u.value*c}function VP(){var t=1,e=1,n=0,i=!1;function o(u){var f=u.height+1;return u.x0=u.y0=n,u.x1=t,u.y1=e/f,u.eachBefore(a(e,f)),i&&u.eachBefore(iy),u}function a(u,f){return function(l){l.children&&Va(l,l.x0,u*(l.depth+1)/f,l.x1,u*(l.depth+2)/f);var c=l.x0,d=l.y0,_=l.x1-n,p=l.y1-n;_<c&&(c=_=(c+_)/2),p<d&&(d=p=(d+p)/2),l.x0=c,l.y0=d,l.x1=_,l.y1=p}}return o.round=function(u){return arguments.length?(i=!!u,o):i},o.size=function(u){return arguments.length?(t=+u[0],e=+u[1],o):[t,e]},o.padding=function(u){return arguments.length?(n=+u,o):n},o}var jP={depth:-1},om={},Jl={};function XP(t){return t.id}function KP(t){return t.parentId}function JP(){var t=XP,e=KP,n;function i(o){var a=Array.from(o),u=t,f=e,l,c,d,_,p,g,y,v,b=new Map;if(n!=null){const x=a.map((M,k)=>QP(n(M,k,o))),P=x.map(am),T=new Set(x).add("");for(const M of P)T.has(M)||(T.add(M),x.push(M),P.push(am(M)),a.push(Jl));u=(M,k)=>x[k],f=(M,k)=>P[k]}for(d=0,l=a.length;d<l;++d)c=a[d],g=a[d]=new ir(c),(y=u(c,d,o))!=null&&(y+="")&&(v=g.id=y,b.set(v,b.has(v)?om:g)),(y=f(c,d,o))!=null&&(y+="")&&(g.parent=y);for(d=0;d<l;++d)if(g=a[d],y=g.parent){if(p=b.get(y),!p)throw new Error("missing: "+y);if(p===om)throw new Error("ambiguous: "+y);p.children?p.children.push(g):p.children=[g],g.parent=p}else{if(_)throw new Error("multiple roots");_=g}if(!_)throw new Error("no root");if(n!=null){for(;_.data===Jl&&_.children.length===1;)_=_.children[0],--l;for(let x=a.length-1;x>=0&&(g=a[x],g.data===Jl);--x)g.data=null}if(_.parent=jP,_.eachBefore(function(x){x.depth=x.parent.depth+1,--l}).eachBefore(Kv),_.parent=null,l>0)throw new Error("cycle");return _}return i.id=function(o){return arguments.length?(t=tu(o),i):t},i.parentId=function(o){return arguments.length?(e=tu(o),i):e},i.path=function(o){return arguments.length?(n=tu(o),i):n},i}function QP(t){t=`${t}`;let e=t.length;return dh(t,e-1)&&!dh(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function am(t){let e=t.length;if(e<2)return"";for(;--e>1&&!dh(t,e););return t.slice(0,e)}function dh(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function tS(t,e){return t.parent===e.parent?1:2}function Ql(t){var e=t.children;return e?e[0]:t.t}function tc(t){var e=t.children;return e?e[e.length-1]:t.t}function eS(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function nS(t){for(var e=0,n=0,i=t.children,o=i.length,a;--o>=0;)a=i[o],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function iS(t,e,n){return t.a.parent===e.parent?t.a:n}function eu(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}eu.prototype=Object.create(ir.prototype);function rS(t){for(var e=new eu(t,0),n,i=[e],o,a,u,f;n=i.pop();)if(a=n._.children)for(n.children=new Array(f=a.length),u=f-1;u>=0;--u)i.push(o=n.children[u]=new eu(a[u],u)),o.parent=n;return(e.parent=new eu(null,0)).children=[e],e}function oS(){var t=tS,e=1,n=1,i=null;function o(c){var d=rS(c);if(d.eachAfter(a),d.parent.m=-d.z,d.eachBefore(u),i)c.eachBefore(l);else{var _=c,p=c,g=c;c.eachBefore(function(P){P.x<_.x&&(_=P),P.x>p.x&&(p=P),P.depth>g.depth&&(g=P)});var y=_===p?1:t(_,p)/2,v=y-_.x,b=e/(p.x+y+v),x=n/(g.depth||1);c.eachBefore(function(P){P.x=(P.x+v)*b,P.y=P.depth*x})}return c}function a(c){var d=c.children,_=c.parent.children,p=c.i?_[c.i-1]:null;if(d){nS(c);var g=(d[0].z+d[d.length-1].z)/2;p?(c.z=p.z+t(c._,p._),c.m=c.z-g):c.z=g}else p&&(c.z=p.z+t(c._,p._));c.parent.A=f(c,p,c.parent.A||_[0])}function u(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function f(c,d,_){if(d){for(var p=c,g=c,y=d,v=p.parent.children[0],b=p.m,x=g.m,P=y.m,T=v.m,M;y=tc(y),p=Ql(p),y&&p;)v=Ql(v),g=tc(g),g.a=c,M=y.z+P-p.z-b+t(y._,p._),M>0&&(eS(iS(y,c,_),c,M),b+=M,x+=M),P+=y.m,b+=p.m,T+=v.m,x+=g.m;y&&!tc(g)&&(g.t=y,g.m+=P-x),p&&!Ql(v)&&(v.t=p,v.m+=b-T,_=c)}return _}function l(c){c.x*=e,c.y=c.depth*n}return o.separation=function(c){return arguments.length?(t=c,o):t},o.size=function(c){return arguments.length?(i=!1,e=+c[0],n=+c[1],o):i?null:[e,n]},o.nodeSize=function(c){return arguments.length?(i=!0,e=+c[0],n=+c[1],o):i?[e,n]:null},o}function Ef(t,e,n,i,o){for(var a=t.children,u,f=-1,l=a.length,c=t.value&&(o-n)/t.value;++f<l;)u=a[f],u.x0=e,u.x1=i,u.y0=n,u.y1=n+=u.value*c}var ry=(1+Math.sqrt(5))/2;function oy(t,e,n,i,o,a){for(var u=[],f=e.children,l,c,d=0,_=0,p=f.length,g,y,v=e.value,b,x,P,T,M,k,A;d<p;){g=o-n,y=a-i;do b=f[_++].value;while(!b&&_<p);for(x=P=b,k=Math.max(y/g,g/y)/(v*t),A=b*b*k,M=Math.max(P/A,A/x);_<p;++_){if(b+=c=f[_].value,c<x&&(x=c),c>P&&(P=c),A=b*b*k,T=Math.max(P/A,A/x),T>M){b-=c;break}M=T}u.push(l={value:b,dice:g<y,children:f.slice(d,_)}),l.dice?Va(l,n,i,o,v?i+=y*b/v:a):Ef(l,n,i,v?n+=g*b/v:o,a),v-=b,d=_}return u}const ay=function t(e){function n(i,o,a,u,f){oy(e,i,o,a,u,f)}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(ry);function aS(){var t=ay,e=!1,n=1,i=1,o=[0],a=Oi,u=Oi,f=Oi,l=Oi,c=Oi;function d(p){return p.x0=p.y0=0,p.x1=n,p.y1=i,p.eachBefore(_),o=[0],e&&p.eachBefore(iy),p}function _(p){var g=o[p.depth],y=p.x0+g,v=p.y0+g,b=p.x1-g,x=p.y1-g;b<y&&(y=b=(y+b)/2),x<v&&(v=x=(v+x)/2),p.x0=y,p.y0=v,p.x1=b,p.y1=x,p.children&&(g=o[p.depth+1]=a(p)/2,y+=c(p)-g,v+=u(p)-g,b-=f(p)-g,x-=l(p)-g,b<y&&(y=b=(y+b)/2),x<v&&(v=x=(v+x)/2),t(p,y,v,b,x))}return d.round=function(p){return arguments.length?(e=!!p,d):e},d.size=function(p){return arguments.length?(n=+p[0],i=+p[1],d):[n,i]},d.tile=function(p){return arguments.length?(t=Jv(p),d):t},d.padding=function(p){return arguments.length?d.paddingInner(p).paddingOuter(p):d.paddingInner()},d.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:Or(+p),d):a},d.paddingOuter=function(p){return arguments.length?d.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):d.paddingTop()},d.paddingTop=function(p){return arguments.length?(u=typeof p=="function"?p:Or(+p),d):u},d.paddingRight=function(p){return arguments.length?(f=typeof p=="function"?p:Or(+p),d):f},d.paddingBottom=function(p){return arguments.length?(l=typeof p=="function"?p:Or(+p),d):l},d.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:Or(+p),d):c},d}function sS(t,e,n,i,o){var a=t.children,u,f=a.length,l,c=new Array(f+1);for(c[0]=l=u=0;u<f;++u)c[u+1]=l+=a[u].value;d(0,f,t.value,e,n,i,o);function d(_,p,g,y,v,b,x){if(_>=p-1){var P=a[_];P.x0=y,P.y0=v,P.x1=b,P.y1=x;return}for(var T=c[_],M=g/2+T,k=_+1,A=p-1;k<A;){var O=k+A>>>1;c[O]<M?k=O+1:A=O}M-c[k-1]<c[k]-M&&_+1<k&&--k;var B=c[k]-T,R=g-B;if(b-y>x-v){var $=g?(y*R+b*B)/g:b;d(_,k,B,y,v,$,x),d(k,p,R,$,v,b,x)}else{var z=g?(v*R+x*B)/g:x;d(_,k,B,y,v,b,z),d(k,p,R,y,z,b,x)}}}function uS(t,e,n,i,o){(t.depth&1?Ef:Va)(t,e,n,i,o)}const fS=function t(e){function n(i,o,a,u,f){if((l=i._squarify)&&l.ratio===e)for(var l,c,d,_,p=-1,g,y=l.length,v=i.value;++p<y;){for(c=l[p],d=c.children,_=c.value=0,g=d.length;_<g;++_)c.value+=d[_].value;c.dice?Va(c,o,a,u,v?a+=(f-a)*c.value/v:f):Ef(c,o,a,v?o+=(u-o)*c.value/v:u,f),v-=c.value}else i._squarify=l=oy(e,i,o,a,u,f),l.ratio=e}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(ry);function lS(t){for(var e=-1,n=t.length,i,o=t[n-1],a=0;++e<n;)i=o,o=t[e],a+=i[1]*o[0]-i[0]*o[1];return a/2}function cS(t){for(var e=-1,n=t.length,i=0,o=0,a,u=t[n-1],f,l=0;++e<n;)a=u,u=t[e],l+=f=a[0]*u[1]-u[0]*a[1],i+=(a[0]+u[0])*f,o+=(a[1]+u[1])*f;return l*=3,[i/l,o/l]}function hS(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function dS(t,e){return t[0]-e[0]||t[1]-e[1]}function sm(t){const e=t.length,n=[0,1];let i=2,o;for(o=2;o<e;++o){for(;i>1&&hS(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}function pS(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),o=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(dS),e=0;e<n;++e)o[e]=[i[e][0],-i[e][1]];var a=sm(i),u=sm(o),f=u[0]===a[0],l=u[u.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[i[a[e]][2]]);for(e=+f;e<u.length-l;++e)c.push(t[i[u[e]][2]]);return c}function _S(t,e){for(var n=t.length,i=t[n-1],o=e[0],a=e[1],u=i[0],f=i[1],l,c,d=!1,_=0;_<n;++_)i=t[_],l=i[0],c=i[1],c>a!=f>a&&o<(u-l)*(a-c)/(f-c)+l&&(d=!d),u=l,f=c;return d}function mS(t){for(var e=-1,n=t.length,i=t[n-1],o,a,u=i[0],f=i[1],l=0;++e<n;)o=u,a=f,i=t[e],u=i[0],f=i[1],o-=u,a-=f,l+=Math.hypot(o,a);return l}const se=Math.random,gS=function t(e){function n(i,o){return i=i==null?0:+i,o=o==null?1:+o,arguments.length===1?(o=i,i=0):o-=i,function(){return e()*o+i}}return n.source=t,n}(se),vS=function t(e){function n(i,o){return arguments.length<2&&(o=i,i=0),i=Math.floor(i),o=Math.floor(o)-i,function(){return Math.floor(e()*o+i)}}return n.source=t,n}(se),Nd=function t(e){function n(i,o){var a,u;return i=i==null?0:+i,o=o==null?1:+o,function(){var f;if(a!=null)f=a,a=null;else do a=e()*2-1,f=e()*2-1,u=a*a+f*f;while(!u||u>1);return i+o*f*Math.sqrt(-2*Math.log(u)/u)}}return n.source=t,n}(se),yS=function t(e){var n=Nd.source(e);function i(){var o=n.apply(this,arguments);return function(){return Math.exp(o())}}return i.source=t,i}(se),sy=function t(e){function n(i){return(i=+i)<=0?()=>0:function(){for(var o=0,a=i;a>1;--a)o+=e();return o+a*e()}}return n.source=t,n}(se),bS=function t(e){var n=sy.source(e);function i(o){if((o=+o)==0)return e;var a=n(o);return function(){return a()/o}}return i.source=t,i}(se),wS=function t(e){function n(i){return function(){return-Math.log1p(-e())/i}}return n.source=t,n}(se),xS=function t(e){function n(i){if((i=+i)<0)throw new RangeError("invalid alpha");return i=1/-i,function(){return Math.pow(1-e(),i)}}return n.source=t,n}(se),MS=function t(e){function n(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+i)}}return n.source=t,n}(se),uy=function t(e){function n(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return i===0?()=>1/0:i===1?()=>1:(i=Math.log1p(-i),function(){return 1+Math.floor(Math.log1p(-e())/i)})}return n.source=t,n}(se),zd=function t(e){var n=Nd.source(e)();function i(o,a){if((o=+o)<0)throw new RangeError("invalid k");if(o===0)return()=>0;if(a=a==null?1:+a,o===1)return()=>-Math.log1p(-e())*a;var u=(o<1?o+1:o)-1/3,f=1/(3*Math.sqrt(u)),l=o<1?()=>Math.pow(e(),1/o):()=>1;return function(){do{do var c=n(),d=1+f*c;while(d<=0);d*=d*d;var _=1-e()}while(_>=1-.0331*c*c*c*c&&Math.log(_)>=.5*c*c+u*(1-d+Math.log(d)));return u*d*l()*a}}return i.source=t,i}(se),fy=function t(e){var n=zd.source(e);function i(o,a){var u=n(o),f=n(a);return function(){var l=u();return l===0?0:l/(l+f())}}return i.source=t,i}(se),ly=function t(e){var n=uy.source(e),i=fy.source(e);function o(a,u){return a=+a,(u=+u)>=1?()=>a:u<=0?()=>0:function(){for(var f=0,l=a,c=u;l*c>16&&l*(1-c)>16;){var d=Math.floor((l+1)*c),_=i(d,l-d+1)();_<=c?(f+=d,l-=d,c=(c-_)/(1-_)):(l=d-1,c/=_)}for(var p=c<.5,g=p?c:1-c,y=n(g),v=y(),b=0;v<=l;++b)v+=y();return f+(p?b:l-b)}}return o.source=t,o}(se),TS=function t(e){function n(i,o,a){var u;return(i=+i)==0?u=f=>-Math.log(f):(i=1/i,u=f=>Math.pow(f,i)),o=o==null?0:+o,a=a==null?1:+a,function(){return o+a*u(-Math.log1p(-e()))}}return n.source=t,n}(se),PS=function t(e){function n(i,o){return i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*Math.tan(Math.PI*e())}}return n.source=t,n}(se),SS=function t(e){function n(i,o){return i=i==null?0:+i,o=o==null?1:+o,function(){var a=e();return i+o*Math.log(a/(1-a))}}return n.source=t,n}(se),ES=function t(e){var n=zd.source(e),i=ly.source(e);function o(a){return function(){for(var u=0,f=a;f>16;){var l=Math.floor(.875*f),c=n(l)();if(c>f)return u+i(l-1,f/c)();u+=l,f-=c}for(var d=-Math.log1p(-e()),_=0;d<=f;++_)d-=Math.log1p(-e());return u+_}}return o.source=t,o}(se),kS=1664525,AS=1013904223,um=1/4294967296;function LS(t=Math.random()){let e=(0<=t&&t<1?t/um:Math.abs(t))|0;return()=>(e=kS*e+AS|0,um*(e>>>0))}function en(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ph=Symbol("implicit");function Id(){var t=new _a,e=[],n=[],i=ph;function o(a){let u=t.get(a);if(u===void 0){if(i!==ph)return i;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new _a;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return Id(e,n).unknown(i)},en.apply(o,arguments),o}function Od(){var t=Id().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,a,u,f=!1,l=0,c=0,d=.5;delete t.unknown;function _(){var p=e().length,g=o<i,y=g?o:i,v=g?i:o;a=(v-y)/Math.max(1,p-l+c*2),f&&(a=Math.floor(a)),y+=(v-y-a*(p-l))*d,u=a*(1-l),f&&(y=Math.round(y),u=Math.round(u));var b=fi(p).map(function(x){return y+a*x});return n(g?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),_()):e()},t.range=function(p){return arguments.length?([i,o]=p,i=+i,o=+o,_()):[i,o]},t.rangeRound=function(p){return[i,o]=p,i=+i,o=+o,f=!0,_()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(p){return arguments.length?(f=!!p,_()):f},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),_()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),_()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,_()):c},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),_()):d},t.copy=function(){return Od(e(),[i,o]).round(f).paddingInner(l).paddingOuter(c).align(d)},en.apply(_(),arguments)}function cy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cy(e())},t}function CS(){return cy(Od.apply(null,arguments).paddingInner(1))}function NS(t){return function(){return t}}function Vu(t){return+t}var fm=[0,1];function we(t){return t}function _h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NS(isNaN(e)?NaN:.5)}function zS(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function IS(t,e,n){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=_h(o,i),a=n(u,a)):(i=_h(i,o),a=n(a,u)),function(f){return a(i(f))}}function OS(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=_h(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(f){var l=_i(t,f,1,i)-1;return a[l](o[l](f))}}function ja(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kf(){var t=fm,e=fm,n=xi,i,o,a,u=we,f,l,c;function d(){var p=Math.min(t.length,e.length);return u!==we&&(u=zS(t[0],t[p-1])),f=p>2?OS:IS,l=c=null,_}function _(p){return p==null||isNaN(p=+p)?a:(l||(l=f(t.map(i),e,n)))(i(u(p)))}return _.invert=function(p){return u(o((c||(c=f(e,t.map(i),je)))(p)))},_.domain=function(p){return arguments.length?(t=Array.from(p,Vu),d()):t.slice()},_.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},_.rangeRound=function(p){return e=Array.from(p),n=_f,d()},_.clamp=function(p){return arguments.length?(u=p?!0:we,d()):u!==we},_.interpolate=function(p){return arguments.length?(n=p,d()):n},_.unknown=function(p){return arguments.length?(a=p,_):a},function(p,g){return i=p,o=g,d()}}function Rd(){return kf()(we,we)}function hy(t,e,n,i){var o=hu(t,e,n),a;switch(i=ro(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=lv(o,u))&&(i.precision=a),hd(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=cv(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=fv(o))&&(i.precision=a-(i.type==="%")*2);break}}return Tf(i)}function Mi(t){var e=t.domain;return t.ticks=function(n){var i=e();return Xi(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return hy(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,a=i.length-1,u=i[o],f=i[a],l,c,d=10;for(f<u&&(c=u,u=f,f=c,c=o,o=a,a=c);d-- >0;){if(c=Ki(u,f,n),c===l)return i[o]=u,i[a]=f,e(i);if(c>0)u=Math.floor(u/c)*c,f=Math.ceil(f/c)*c;else if(c<0)u=Math.ceil(u*c)/c,f=Math.floor(f*c)/c;else break;l=c}return t},t}function dy(){var t=Rd();return t.copy=function(){return ja(t,dy())},en.apply(t,arguments),Mi(t)}function py(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Vu),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return py(t).unknown(e)},t=arguments.length?Array.from(t,Vu):[0,1],Mi(n)}function _y(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],a=t[i],u;return a<o&&(u=n,n=i,i=u,u=o,o=a,a=u),t[n]=e.floor(o),t[i]=e.ceil(a),t}function lm(t){return Math.log(t)}function cm(t){return Math.exp(t)}function RS(t){return-Math.log(-t)}function $S(t){return-Math.exp(-t)}function BS(t){return isFinite(t)?+("1e"+t):t<0?0:t}function DS(t){return t===10?BS:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ZS(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hm(t){return(e,n)=>-t(-e,n)}function $d(t){const e=t(lm,cm),n=e.domain;let i=10,o,a;function u(){return o=ZS(i),a=DS(i),n()[0]<0?(o=hm(o),a=hm(a),t(RS,$S)):t(lm,cm),e}return e.base=function(f){return arguments.length?(i=+f,u()):i},e.domain=function(f){return arguments.length?(n(f),u()):n()},e.ticks=f=>{const l=n();let c=l[0],d=l[l.length-1];const _=d<c;_&&([c,d]=[d,c]);let p=o(c),g=o(d),y,v;const b=f==null?10:+f;let x=[];if(!(i%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(y=1;y<i;++y)if(v=p<0?y/a(-p):y*a(p),!(v<c)){if(v>d)break;x.push(v)}}else for(;p<=g;++p)for(y=i-1;y>=1;--y)if(v=p>0?y/a(-p):y*a(p),!(v<c)){if(v>d)break;x.push(v)}x.length*2<b&&(x=Xi(c,d,b))}else x=Xi(p,g,Math.min(g-p,b)).map(a);return _?x.reverse():x},e.tickFormat=(f,l)=>{if(f==null&&(f=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=ro(l)).precision==null&&(l.trim=!0),l=Tf(l)),f===1/0)return l;const c=Math.max(1,i*f/e.ticks().length);return d=>{let _=d/a(Math.round(o(d)));return _*i<i-.5&&(_*=i),_<=c?l(d):""}},e.nice=()=>n(_y(n(),{floor:f=>a(Math.floor(o(f))),ceil:f=>a(Math.ceil(o(f)))})),e}function my(){const t=$d(kf()).domain([1,10]);return t.copy=()=>ja(t,my()).base(t.base()),en.apply(t,arguments),t}function dm(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pm(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Bd(t){var e=1,n=t(dm(e),pm(e));return n.constant=function(i){return arguments.length?t(dm(e=+i),pm(e)):e},Mi(n)}function gy(){var t=Bd(kf());return t.copy=function(){return ja(t,gy()).constant(t.constant())},en.apply(t,arguments)}function _m(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FS(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qS(t){return t<0?-t*t:t*t}function Dd(t){var e=t(we,we),n=1;function i(){return n===1?t(we,we):n===.5?t(FS,qS):t(_m(n),_m(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},Mi(e)}function Zd(){var t=Dd(kf());return t.copy=function(){return ja(t,Zd()).exponent(t.exponent())},en.apply(t,arguments),t}function HS(){return Zd.apply(null,arguments).exponent(.5)}function mm(t){return Math.sign(t)*t*t}function US(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vy(){var t=Rd(),e=[0,1],n=!1,i;function o(a){var u=US(t(a));return isNaN(u)?i:n?Math.round(u):u}return o.invert=function(a){return t.invert(mm(a))},o.domain=function(a){return arguments.length?(t.domain(a),o):t.domain()},o.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vu)).map(mm)),o):e.slice()},o.rangeRound=function(a){return o.range(a).round(!0)},o.round=function(a){return arguments.length?(n=!!a,o):n},o.clamp=function(a){return arguments.length?(t.clamp(a),o):t.clamp()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return vy(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},en.apply(o,arguments),Mi(o)}function yy(){var t=[],e=[],n=[],i;function o(){var u=0,f=Math.max(1,e.length);for(n=new Array(f-1);++u<f;)n[u-1]=Gg(t,u/f);return a}function a(u){return u==null||isNaN(u=+u)?i:e[_i(n,u)]}return a.invertExtent=function(u){var f=e.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let f of u)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Zt),o()},a.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return yy().domain(t).range(e).unknown(i)},en.apply(a,arguments)}function by(){var t=0,e=1,n=1,i=[.5],o=[0,1],a;function u(l){return l!=null&&l<=l?o[_i(i,l,0,n)]:a}function f(){var l=-1;for(i=new Array(n);++l<n;)i[l]=((l+1)*e-(l-n)*t)/(n+1);return u}return u.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,f()):[t,e]},u.range=function(l){return arguments.length?(n=(o=Array.from(l)).length-1,f()):o.slice()},u.invertExtent=function(l){var c=o.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,i[0]]:c>=n?[i[n-1],e]:[i[c-1],i[c]]},u.unknown=function(l){return arguments.length&&(a=l),u},u.thresholds=function(){return i.slice()},u.copy=function(){return by().domain([t,e]).range(o).unknown(a)},en.apply(Mi(u),arguments)}function wy(){var t=[.5],e=[0,1],n,i=1;function o(a){return a!=null&&a<=a?e[_i(t,a,0,i)]:n}return o.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return wy().domain(t).range(e).unknown(n)},en.apply(o,arguments)}const ec=new Date,nc=new Date;function Gt(t,e,n,i){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(t(a=new Date(+a)),a),o.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),o.round=a=>{const u=o(a),f=o.ceil(a);return a-u<f-a?u:f},o.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),o.range=(a,u,f)=>{const l=[];if(a=o.ceil(a),f=f==null?1:Math.floor(f),!(a<u)||!(f>0))return l;let c;do l.push(c=new Date(+a)),e(a,f),t(a);while(c<a&&a<u);return l},o.filter=a=>Gt(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;e(u,-1),!a(u););else for(;--f>=0;)for(;e(u,1),!a(u););}),n&&(o.count=(a,u)=>(ec.setTime(+a),nc.setTime(+u),t(ec),t(nc),Math.floor(n(ec,nc))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?u=>i(u)%a===0:u=>o.count(0,u)%a===0):o)),o}const uo=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);uo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):uo);const gm=uo.range,Un=1e3,Je=Un*60,Wn=Je*60,jn=Wn*24,Fd=jn*7,vm=jn*30,ic=jn*365,Yn=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getUTCSeconds()),ym=Yn.range,Af=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Un)},(t,e)=>{t.setTime(+t+e*Je)},(t,e)=>(e-t)/Je,t=>t.getMinutes()),WS=Af.range,Lf=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Je)},(t,e)=>(e-t)/Je,t=>t.getUTCMinutes()),YS=Lf.range,Cf=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Un-t.getMinutes()*Je)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getHours()),GS=Cf.range,Nf=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCHours()),VS=Nf.range,wo=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Je)/jn,t=>t.getDate()-1),jS=wo.range,Xa=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jn,t=>t.getUTCDate()-1),XS=Xa.range,qd=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jn,t=>Math.floor(t/jn)),KS=qd.range;function hr(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Je)/Fd)}const fo=hr(0),Ca=hr(1),xy=hr(2),My=hr(3),rr=hr(4),Ty=hr(5),Py=hr(6),bm=fo.range,JS=Ca.range,QS=xy.range,tE=My.range,eE=rr.range,nE=Ty.range,iE=Py.range;function dr(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Fd)}const lo=dr(0),Na=dr(1),Sy=dr(2),Ey=dr(3),or=dr(4),ky=dr(5),Ay=dr(6),wm=lo.range,rE=Na.range,oE=Sy.range,aE=Ey.range,sE=or.range,uE=ky.range,fE=Ay.range,zf=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),lE=zf.range,If=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),cE=If.range,Sn=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const hE=Sn.range,En=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());En.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const dE=En.range;function Ly(t,e,n,i,o,a){const u=[[Yn,1,Un],[Yn,5,5*Un],[Yn,15,15*Un],[Yn,30,30*Un],[a,1,Je],[a,5,5*Je],[a,15,15*Je],[a,30,30*Je],[o,1,Wn],[o,3,3*Wn],[o,6,6*Wn],[o,12,12*Wn],[i,1,jn],[i,2,2*jn],[n,1,Fd],[e,1,vm],[e,3,3*vm],[t,1,ic]];function f(c,d,_){const p=d<c;p&&([c,d]=[d,c]);const g=_&&typeof _.range=="function"?_:l(c,d,_),y=g?g.range(c,+d+1):[];return p?y.reverse():y}function l(c,d,_){const p=Math.abs(d-c)/_,g=rf(([,,b])=>b).right(u,p);if(g===u.length)return t.every(hu(c/ic,d/ic,_));if(g===0)return uo.every(Math.max(hu(c,d,_),1));const[y,v]=u[p/u[g-1][2]<u[g][2]/p?g-1:g];return y.every(v)}return[f,l]}const[Cy,Ny]=Ly(En,If,lo,qd,Nf,Lf),[zy,Iy]=Ly(Sn,zf,fo,wo,Cf,Af);function rc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qo(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oy(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,f=t.months,l=t.shortMonths,c=Ho(o),d=Uo(o),_=Ho(a),p=Uo(a),g=Ho(u),y=Uo(u),v=Ho(f),b=Uo(f),x=Ho(l),P=Uo(l),T={a:Z,A:q,b:Y,B:U,c:null,d:Em,e:Em,f:RE,g:YE,G:VE,H:zE,I:IE,j:OE,L:Ry,m:$E,M:BE,p:V,q:X,Q:Lm,s:Cm,S:DE,u:ZE,U:FE,V:qE,w:HE,W:UE,x:null,X:null,y:WE,Y:GE,Z:jE,"%":Am},M={a:nt,A:K,b:tt,B:ot,c:null,d:km,e:km,f:QE,g:fk,G:ck,H:XE,I:KE,j:JE,L:By,m:tk,M:ek,p:ht,q:kt,Q:Lm,s:Cm,S:nk,u:ik,U:rk,V:ok,w:ak,W:sk,x:null,X:null,y:uk,Y:lk,Z:hk,"%":Am},k={a:$,A:z,b:W,B:D,c:E,d:Pm,e:Pm,f:AE,g:Tm,G:Mm,H:Sm,I:Sm,j:PE,L:kE,m:TE,M:SE,p:R,q:ME,Q:CE,s:NE,S:EE,u:vE,U:yE,V:bE,w:gE,W:wE,x:I,X:C,y:Tm,Y:Mm,Z:xE,"%":LE};T.x=A(n,T),T.X=A(i,T),T.c=A(e,T),M.x=A(n,M),M.X=A(i,M),M.c=A(e,M);function A(J,ft){return function(dt){var j=[],It=-1,Et=0,Kt=J.length,Jt,st,At;for(dt instanceof Date||(dt=new Date(+dt));++It<Kt;)J.charCodeAt(It)===37&&(j.push(J.slice(Et,It)),(st=xm[Jt=J.charAt(++It)])!=null?Jt=J.charAt(++It):st=Jt==="e"?" ":"0",(At=ft[Jt])&&(Jt=At(dt,st)),j.push(Jt),Et=It+1);return j.push(J.slice(Et,It)),j.join("")}}function O(J,ft){return function(dt){var j=qo(1900,void 0,1),It=B(j,J,dt+="",0),Et,Kt;if(It!=dt.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(ft&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(Et=oc(qo(j.y,0,1)),Kt=Et.getUTCDay(),Et=Kt>4||Kt===0?Na.ceil(Et):Na(Et),Et=Xa.offset(Et,(j.V-1)*7),j.y=Et.getUTCFullYear(),j.m=Et.getUTCMonth(),j.d=Et.getUTCDate()+(j.w+6)%7):(Et=rc(qo(j.y,0,1)),Kt=Et.getDay(),Et=Kt>4||Kt===0?Ca.ceil(Et):Ca(Et),Et=wo.offset(Et,(j.V-1)*7),j.y=Et.getFullYear(),j.m=Et.getMonth(),j.d=Et.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Kt="Z"in j?oc(qo(j.y,0,1)).getUTCDay():rc(qo(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(Kt+5)%7:j.w+j.U*7-(Kt+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,oc(j)):rc(j)}}function B(J,ft,dt,j){for(var It=0,Et=ft.length,Kt=dt.length,Jt,st;It<Et;){if(j>=Kt)return-1;if(Jt=ft.charCodeAt(It++),Jt===37){if(Jt=ft.charAt(It++),st=k[Jt in xm?ft.charAt(It++):Jt],!st||(j=st(J,dt,j))<0)return-1}else if(Jt!=dt.charCodeAt(j++))return-1}return j}function R(J,ft,dt){var j=c.exec(ft.slice(dt));return j?(J.p=d.get(j[0].toLowerCase()),dt+j[0].length):-1}function $(J,ft,dt){var j=g.exec(ft.slice(dt));return j?(J.w=y.get(j[0].toLowerCase()),dt+j[0].length):-1}function z(J,ft,dt){var j=_.exec(ft.slice(dt));return j?(J.w=p.get(j[0].toLowerCase()),dt+j[0].length):-1}function W(J,ft,dt){var j=x.exec(ft.slice(dt));return j?(J.m=P.get(j[0].toLowerCase()),dt+j[0].length):-1}function D(J,ft,dt){var j=v.exec(ft.slice(dt));return j?(J.m=b.get(j[0].toLowerCase()),dt+j[0].length):-1}function E(J,ft,dt){return B(J,e,ft,dt)}function I(J,ft,dt){return B(J,n,ft,dt)}function C(J,ft,dt){return B(J,i,ft,dt)}function Z(J){return u[J.getDay()]}function q(J){return a[J.getDay()]}function Y(J){return l[J.getMonth()]}function U(J){return f[J.getMonth()]}function V(J){return o[+(J.getHours()>=12)]}function X(J){return 1+~~(J.getMonth()/3)}function nt(J){return u[J.getUTCDay()]}function K(J){return a[J.getUTCDay()]}function tt(J){return l[J.getUTCMonth()]}function ot(J){return f[J.getUTCMonth()]}function ht(J){return o[+(J.getUTCHours()>=12)]}function kt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ft=A(J+="",T);return ft.toString=function(){return J},ft},parse:function(J){var ft=O(J+="",!1);return ft.toString=function(){return J},ft},utcFormat:function(J){var ft=A(J+="",M);return ft.toString=function(){return J},ft},utcParse:function(J){var ft=O(J+="",!0);return ft.toString=function(){return J},ft}}}var xm={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,pE=/^%/,_E=/[\\^$*+?|[\]().{}]/g;function St(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",a=o.length;return i+(a<n?new Array(n-a+1).join(e)+o:o)}function mE(t){return t.replace(_E,"\\$&")}function Ho(t){return new RegExp("^(?:"+t.map(mE).join("|")+")","i")}function Uo(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gE(t,e,n){var i=oe.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function vE(t,e,n){var i=oe.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function yE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function bE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function wE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Mm(t,e,n){var i=oe.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Tm(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function xE(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ME(t,e,n){var i=oe.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function TE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Pm(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function PE(t,e,n){var i=oe.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Sm(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function SE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function EE(t,e,n){var i=oe.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function kE(t,e,n){var i=oe.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function AE(t,e,n){var i=oe.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function LE(t,e,n){var i=pE.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function CE(t,e,n){var i=oe.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function NE(t,e,n){var i=oe.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Em(t,e){return St(t.getDate(),e,2)}function zE(t,e){return St(t.getHours(),e,2)}function IE(t,e){return St(t.getHours()%12||12,e,2)}function OE(t,e){return St(1+wo.count(Sn(t),t),e,3)}function Ry(t,e){return St(t.getMilliseconds(),e,3)}function RE(t,e){return Ry(t,e)+"000"}function $E(t,e){return St(t.getMonth()+1,e,2)}function BE(t,e){return St(t.getMinutes(),e,2)}function DE(t,e){return St(t.getSeconds(),e,2)}function ZE(t){var e=t.getDay();return e===0?7:e}function FE(t,e){return St(fo.count(Sn(t)-1,t),e,2)}function $y(t){var e=t.getDay();return e>=4||e===0?rr(t):rr.ceil(t)}function qE(t,e){return t=$y(t),St(rr.count(Sn(t),t)+(Sn(t).getDay()===4),e,2)}function HE(t){return t.getDay()}function UE(t,e){return St(Ca.count(Sn(t)-1,t),e,2)}function WE(t,e){return St(t.getFullYear()%100,e,2)}function YE(t,e){return t=$y(t),St(t.getFullYear()%100,e,2)}function GE(t,e){return St(t.getFullYear()%1e4,e,4)}function VE(t,e){var n=t.getDay();return t=n>=4||n===0?rr(t):rr.ceil(t),St(t.getFullYear()%1e4,e,4)}function jE(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function km(t,e){return St(t.getUTCDate(),e,2)}function XE(t,e){return St(t.getUTCHours(),e,2)}function KE(t,e){return St(t.getUTCHours()%12||12,e,2)}function JE(t,e){return St(1+Xa.count(En(t),t),e,3)}function By(t,e){return St(t.getUTCMilliseconds(),e,3)}function QE(t,e){return By(t,e)+"000"}function tk(t,e){return St(t.getUTCMonth()+1,e,2)}function ek(t,e){return St(t.getUTCMinutes(),e,2)}function nk(t,e){return St(t.getUTCSeconds(),e,2)}function ik(t){var e=t.getUTCDay();return e===0?7:e}function rk(t,e){return St(lo.count(En(t)-1,t),e,2)}function Dy(t){var e=t.getUTCDay();return e>=4||e===0?or(t):or.ceil(t)}function ok(t,e){return t=Dy(t),St(or.count(En(t),t)+(En(t).getUTCDay()===4),e,2)}function ak(t){return t.getUTCDay()}function sk(t,e){return St(Na.count(En(t)-1,t),e,2)}function uk(t,e){return St(t.getUTCFullYear()%100,e,2)}function fk(t,e){return t=Dy(t),St(t.getUTCFullYear()%100,e,2)}function lk(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function ck(t,e){var n=t.getUTCDay();return t=n>=4||n===0?or(t):or.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function hk(){return"+0000"}function Am(){return"%"}function Lm(t){return+t}function Cm(t){return Math.floor(+t/1e3)}var zr,Hd,Zy,Of,Ud;Fy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fy(t){return zr=Oy(t),Hd=zr.format,Zy=zr.parse,Of=zr.utcFormat,Ud=zr.utcParse,zr}var qy="%Y-%m-%dT%H:%M:%S.%LZ";function dk(t){return t.toISOString()}var pk=Date.prototype.toISOString?dk:Of(qy);function _k(t){var e=new Date(t);return isNaN(e)?null:e}var mk=+new Date("2000-01-01T00:00:00.000Z")?_k:Ud(qy);function gk(t){return new Date(t)}function vk(t){return t instanceof Date?+t:+new Date(+t)}function Wd(t,e,n,i,o,a,u,f,l,c){var d=Rd(),_=d.invert,p=d.domain,g=c(".%L"),y=c(":%S"),v=c("%I:%M"),b=c("%I %p"),x=c("%a %d"),P=c("%b %d"),T=c("%B"),M=c("%Y");function k(A){return(l(A)<A?g:f(A)<A?y:u(A)<A?v:a(A)<A?b:i(A)<A?o(A)<A?x:P:n(A)<A?T:M)(A)}return d.invert=function(A){return new Date(_(A))},d.domain=function(A){return arguments.length?p(Array.from(A,vk)):p().map(gk)},d.ticks=function(A){var O=p();return t(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?k:c(O)},d.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=e(O[0],O[O.length-1],A??10)),A?p(_y(O,A)):d},d.copy=function(){return ja(d,Wd(t,e,n,i,o,a,u,f,l,c))},d}function yk(){return en.apply(Wd(zy,Iy,Sn,zf,fo,wo,Cf,Af,Yn,Hd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bk(){return en.apply(Wd(Cy,Ny,En,If,lo,Xa,Nf,Lf,Yn,Of).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rf(){var t=0,e=1,n,i,o,a,u=we,f=!1,l;function c(_){return _==null||isNaN(_=+_)?l:u(o===0?.5:(_=(a(_)-n)*o,f?Math.max(0,Math.min(1,_)):_))}c.domain=function(_){return arguments.length?([t,e]=_,n=a(t=+t),i=a(e=+e),o=n===i?0:1/(i-n),c):[t,e]},c.clamp=function(_){return arguments.length?(f=!!_,c):f},c.interpolator=function(_){return arguments.length?(u=_,c):u};function d(_){return function(p){var g,y;return arguments.length?([g,y]=p,u=_(g,y),c):[u(0),u(1)]}}return c.range=d(xi),c.rangeRound=d(_f),c.unknown=function(_){return arguments.length?(l=_,c):l},function(_){return a=_,n=_(t),i=_(e),o=n===i?0:1/(i-n),c}}function Ti(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hy(){var t=Mi(Rf()(we));return t.copy=function(){return Ti(t,Hy())},Jn.apply(t,arguments)}function Uy(){var t=$d(Rf()).domain([1,10]);return t.copy=function(){return Ti(t,Uy()).base(t.base())},Jn.apply(t,arguments)}function Wy(){var t=Bd(Rf());return t.copy=function(){return Ti(t,Wy()).constant(t.constant())},Jn.apply(t,arguments)}function Yd(){var t=Dd(Rf());return t.copy=function(){return Ti(t,Yd()).exponent(t.exponent())},Jn.apply(t,arguments)}function wk(){return Yd.apply(null,arguments).exponent(.5)}function Yy(){var t=[],e=we;function n(i){if(i!=null&&!isNaN(i=+i))return e((_i(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let o of i)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Zt),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,o)=>e(o/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(o,a)=>ga(t,a/i))},n.copy=function(){return Yy(e).domain(t)},Jn.apply(n,arguments)}function $f(){var t=0,e=.5,n=1,i=1,o,a,u,f,l,c=we,d,_=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-a)*(i*v<i*a?f:l),c(_?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,o=d(t=+t),a=d(e=+e),u=d(n=+n),f=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(_=!!v,g):_},g.interpolator=function(v){return arguments.length?(c=v,g):c};function y(v){return function(b){var x,P,T;return arguments.length?([x,P,T]=b,c=D1(v,[x,P,T]),g):[c(0),c(.5),c(1)]}}return g.range=y(xi),g.rangeRound=y(_f),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return d=v,o=v(t),a=v(e),u=v(n),f=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,g}}function Gy(){var t=Mi($f()(we));return t.copy=function(){return Ti(t,Gy())},Jn.apply(t,arguments)}function Vy(){var t=$d($f()).domain([.1,1,10]);return t.copy=function(){return Ti(t,Vy()).base(t.base())},Jn.apply(t,arguments)}function jy(){var t=Bd($f());return t.copy=function(){return Ti(t,jy()).constant(t.constant())},Jn.apply(t,arguments)}function Gd(){var t=Dd($f());return t.copy=function(){return Ti(t,Gd()).exponent(t.exponent())},Jn.apply(t,arguments)}function xk(){return Gd.apply(null,arguments).exponent(.5)}function _t(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const Mk=_t("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Tk=_t("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Pk=_t("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Sk=_t("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ek=_t("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),kk=_t("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ak=_t("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Lk=_t("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ck=_t("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Nk=_t("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),zk=_t("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),zt=t=>S1(t[t.length-1]);var Xy=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(_t);const Ik=zt(Xy);var Ky=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(_t);const Ok=zt(Ky);var Jy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(_t);const Rk=zt(Jy);var Qy=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(_t);const $k=zt(Qy);var t2=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(_t);const Bk=zt(t2);var e2=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(_t);const Dk=zt(e2);var n2=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(_t);const Zk=zt(n2);var i2=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(_t);const Fk=zt(i2);var r2=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(_t);const qk=zt(r2);var o2=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(_t);const Hk=zt(o2);var a2=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(_t);const Uk=zt(a2);var s2=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(_t);const Wk=zt(s2);var u2=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(_t);const Yk=zt(u2);var f2=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(_t);const Gk=zt(f2);var l2=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(_t);const Vk=zt(l2);var c2=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(_t);const jk=zt(c2);var h2=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(_t);const Xk=zt(h2);var d2=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(_t);const Kk=zt(d2);var p2=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(_t);const Jk=zt(p2);var _2=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(_t);const Qk=zt(_2);var m2=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(_t);const tA=zt(m2);var g2=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(_t);const eA=zt(g2);var v2=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(_t);const nA=zt(v2);var y2=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(_t);const iA=zt(y2);var b2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(_t);const rA=zt(b2);var w2=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(_t);const oA=zt(w2);var x2=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(_t);const aA=zt(x2);function sA(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const uA=mf(cn(300,.5,0),cn(-240,.5,1));var fA=mf(cn(-100,.75,.35),cn(80,1.5,.8)),lA=mf(cn(260,.75,.35),cn(80,1.5,.8)),Ds=cn();function cA(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ds.h=360*t-100,Ds.s=1.5-1.5*e,Ds.l=.8-.9*e,Ds+""}var Zs=to(),hA=Math.PI/3,dA=Math.PI*2/3;function pA(t){var e;return t=(.5-t)*Math.PI,Zs.r=255*(e=Math.sin(t))*e,Zs.g=255*(e=Math.sin(t+hA))*e,Zs.b=255*(e=Math.sin(t+dA))*e,Zs+""}function _A(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Bf(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const mA=Bf(_t("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var gA=Bf(_t("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vA=Bf(_t("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yA=Bf(_t("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ct(t){return function(){return t}}const Nm=Math.abs,ce=Math.atan2,Dn=Math.cos,bA=Math.max,Gr=Math.min,Le=Math.sin,Rt=Math.sqrt,he=1e-12,vi=Math.PI,ju=vi/2,hi=2*vi;function wA(t){return t>1?0:t<-1?vi:Math.acos(t)}function zm(t){return t>=1?ju:t<=-1?-ju:Math.asin(t)}function Ka(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new qa(e)}function xA(t){return t.innerRadius}function MA(t){return t.outerRadius}function TA(t){return t.startAngle}function PA(t){return t.endAngle}function SA(t){return t&&t.padAngle}function EA(t,e,n,i,o,a,u,f){var l=n-t,c=i-e,d=u-o,_=f-a,p=_*l-d*c;if(!(p*p<he))return p=(d*(e-a)-_*(t-o))/p,[t+p*l,e+p*c]}function Fs(t,e,n,i,o,a,u){var f=t-n,l=e-i,c=(u?a:-a)/Rt(f*f+l*l),d=c*l,_=-c*f,p=t+d,g=e+_,y=n+d,v=i+_,b=(p+y)/2,x=(g+v)/2,P=y-p,T=v-g,M=P*P+T*T,k=o-a,A=p*v-y*g,O=(T<0?-1:1)*Rt(bA(0,k*k*M-A*A)),B=(A*T-P*O)/M,R=(-A*P-T*O)/M,$=(A*T+P*O)/M,z=(-A*P+T*O)/M,W=B-b,D=R-x,E=$-b,I=z-x;return W*W+D*D>E*E+I*I&&(B=$,R=z),{cx:B,cy:R,x01:-d,y01:-_,x11:B*(o/k-1),y11:R*(o/k-1)}}function kA(){var t=xA,e=MA,n=ct(0),i=null,o=TA,a=PA,u=SA,f=null,l=Ka(c);function c(){var d,_,p=+t.apply(this,arguments),g=+e.apply(this,arguments),y=o.apply(this,arguments)-ju,v=a.apply(this,arguments)-ju,b=Nm(v-y),x=v>y;if(f||(f=d=l()),g<p&&(_=g,g=p,p=_),!(g>he))f.moveTo(0,0);else if(b>hi-he)f.moveTo(g*Dn(y),g*Le(y)),f.arc(0,0,g,y,v,!x),p>he&&(f.moveTo(p*Dn(v),p*Le(v)),f.arc(0,0,p,v,y,x));else{var P=y,T=v,M=y,k=v,A=b,O=b,B=u.apply(this,arguments)/2,R=B>he&&(i?+i.apply(this,arguments):Rt(p*p+g*g)),$=Gr(Nm(g-p)/2,+n.apply(this,arguments)),z=$,W=$,D,E;if(R>he){var I=zm(R/p*Le(B)),C=zm(R/g*Le(B));(A-=I*2)>he?(I*=x?1:-1,M+=I,k-=I):(A=0,M=k=(y+v)/2),(O-=C*2)>he?(C*=x?1:-1,P+=C,T-=C):(O=0,P=T=(y+v)/2)}var Z=g*Dn(P),q=g*Le(P),Y=p*Dn(k),U=p*Le(k);if($>he){var V=g*Dn(T),X=g*Le(T),nt=p*Dn(M),K=p*Le(M),tt;if(b<vi)if(tt=EA(Z,q,nt,K,V,X,Y,U)){var ot=Z-tt[0],ht=q-tt[1],kt=V-tt[0],J=X-tt[1],ft=1/Le(wA((ot*kt+ht*J)/(Rt(ot*ot+ht*ht)*Rt(kt*kt+J*J)))/2),dt=Rt(tt[0]*tt[0]+tt[1]*tt[1]);z=Gr($,(p-dt)/(ft-1)),W=Gr($,(g-dt)/(ft+1))}else z=W=0}O>he?W>he?(D=Fs(nt,K,Z,q,g,W,x),E=Fs(V,X,Y,U,g,W,x),f.moveTo(D.cx+D.x01,D.cy+D.y01),W<$?f.arc(D.cx,D.cy,W,ce(D.y01,D.x01),ce(E.y01,E.x01),!x):(f.arc(D.cx,D.cy,W,ce(D.y01,D.x01),ce(D.y11,D.x11),!x),f.arc(0,0,g,ce(D.cy+D.y11,D.cx+D.x11),ce(E.cy+E.y11,E.cx+E.x11),!x),f.arc(E.cx,E.cy,W,ce(E.y11,E.x11),ce(E.y01,E.x01),!x))):(f.moveTo(Z,q),f.arc(0,0,g,P,T,!x)):f.moveTo(Z,q),!(p>he)||!(A>he)?f.lineTo(Y,U):z>he?(D=Fs(Y,U,V,X,p,-z,x),E=Fs(Z,q,nt,K,p,-z,x),f.lineTo(D.cx+D.x01,D.cy+D.y01),z<$?f.arc(D.cx,D.cy,z,ce(D.y01,D.x01),ce(E.y01,E.x01),!x):(f.arc(D.cx,D.cy,z,ce(D.y01,D.x01),ce(D.y11,D.x11),!x),f.arc(0,0,p,ce(D.cy+D.y11,D.cx+D.x11),ce(E.cy+E.y11,E.cx+E.x11),x),f.arc(E.cx,E.cy,z,ce(E.y11,E.x11),ce(E.y01,E.x01),!x))):f.arc(0,0,p,k,M,x)}if(f.closePath(),d)return f=null,d+""||null}return c.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,_=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-vi/2;return[Dn(_)*d,Le(_)*d]},c.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),c):t},c.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),c):e},c.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:ct(+d),c):n},c.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:ct(+d),c):i},c.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:ct(+d),c):o},c.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:ct(+d),c):a},c.padAngle=function(d){return arguments.length?(u=typeof d=="function"?d:ct(+d),c):u},c.context=function(d){return arguments.length?(f=d??null,c):f},c}var AA=Array.prototype.slice;function Df(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function M2(t){this._context=t}M2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zf(t){return new M2(t)}function Vd(t){return t[0]}function jd(t){return t[1]}function Xd(t,e){var n=ct(!0),i=null,o=Zf,a=null,u=Ka(f);t=typeof t=="function"?t:t===void 0?Vd:ct(t),e=typeof e=="function"?e:e===void 0?jd:ct(e);function f(l){var c,d=(l=Df(l)).length,_,p=!1,g;for(i==null&&(a=o(g=u())),c=0;c<=d;++c)!(c<d&&n(_=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(_,c,l),+e(_,c,l));if(g)return a=null,g+""||null}return f.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),f):t},f.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),f):e},f.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),f):n},f.curve=function(l){return arguments.length?(o=l,i!=null&&(a=o(i)),f):o},f.context=function(l){return arguments.length?(l==null?i=a=null:a=o(i=l),f):i},f}function T2(t,e,n){var i=null,o=ct(!0),a=null,u=Zf,f=null,l=Ka(c);t=typeof t=="function"?t:t===void 0?Vd:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jd:ct(+n);function c(_){var p,g,y,v=(_=Df(_)).length,b,x=!1,P,T=new Array(v),M=new Array(v);for(a==null&&(f=u(P=l())),p=0;p<=v;++p){if(!(p<v&&o(b=_[p],p,_))===x)if(x=!x)g=p,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),y=p-1;y>=g;--y)f.point(T[y],M[y]);f.lineEnd(),f.areaEnd()}x&&(T[p]=+t(b,p,_),M[p]=+e(b,p,_),f.point(i?+i(b,p,_):T[p],n?+n(b,p,_):M[p]))}if(P)return f=null,P+""||null}function d(){return Xd().defined(o).curve(u).context(a)}return c.x=function(_){return arguments.length?(t=typeof _=="function"?_:ct(+_),i=null,c):t},c.x0=function(_){return arguments.length?(t=typeof _=="function"?_:ct(+_),c):t},c.x1=function(_){return arguments.length?(i=_==null?null:typeof _=="function"?_:ct(+_),c):i},c.y=function(_){return arguments.length?(e=typeof _=="function"?_:ct(+_),n=null,c):e},c.y0=function(_){return arguments.length?(e=typeof _=="function"?_:ct(+_),c):e},c.y1=function(_){return arguments.length?(n=_==null?null:typeof _=="function"?_:ct(+_),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(i).y(e)},c.defined=function(_){return arguments.length?(o=typeof _=="function"?_:ct(!!_),c):o},c.curve=function(_){return arguments.length?(u=_,a!=null&&(f=u(a)),c):u},c.context=function(_){return arguments.length?(_==null?a=f=null:f=u(a=_),c):a},c}function LA(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function CA(t){return t}function NA(){var t=CA,e=LA,n=null,i=ct(0),o=ct(hi),a=ct(0);function u(f){var l,c=(f=Df(f)).length,d,_,p=0,g=new Array(c),y=new Array(c),v=+i.apply(this,arguments),b=Math.min(hi,Math.max(-hi,o.apply(this,arguments)-v)),x,P=Math.min(Math.abs(b)/c,a.apply(this,arguments)),T=P*(b<0?-1:1),M;for(l=0;l<c;++l)(M=y[g[l]=l]=+t(f[l],l,f))>0&&(p+=M);for(e!=null?g.sort(function(k,A){return e(y[k],y[A])}):n!=null&&g.sort(function(k,A){return n(f[k],f[A])}),l=0,_=p?(b-c*T)/p:0;l<c;++l,v=x)d=g[l],M=y[d],x=v+(M>0?M*_:0)+T,y[d]={data:f[d],index:l,value:M,startAngle:v,endAngle:x,padAngle:P};return y}return u.value=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.sortValues=function(f){return arguments.length?(e=f,n=null,u):e},u.sort=function(f){return arguments.length?(n=f,e=null,u):n},u.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:ct(+f),u):i},u.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:ct(+f),u):o},u.padAngle=function(f){return arguments.length?(a=typeof f=="function"?f:ct(+f),u):a},u}var P2=Kd(Zf);function S2(t){this._curve=t}S2.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Kd(t){function e(n){return new S2(t(n))}return e._curve=t,e}function oa(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Kd(n)):e()._curve},t}function Im(){return oa(Xd().curve(P2))}function Om(){var t=T2().curve(P2),e=t.curve,n=t.lineX0,i=t.lineX1,o=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return oa(n())},delete t.lineX0,t.lineEndAngle=function(){return oa(i())},delete t.lineX1,t.lineInnerRadius=function(){return oa(o())},delete t.lineY0,t.lineOuterRadius=function(){return oa(a())},delete t.lineY1,t.curve=function(u){return arguments.length?e(Kd(u)):e()._curve},t}function aa(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class E2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class zA{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const i=aa(this._x0,this._y0),o=aa(this._x0,this._y0=(this._y0+n)/2),a=aa(e,this._y0),u=aa(e,n);this._context.moveTo(...i),this._context.bezierCurveTo(...o,...a,...u)}this._x0=e,this._y0=n}}function k2(t){return new E2(t,!0)}function A2(t){return new E2(t,!1)}function IA(t){return new zA(t)}function OA(t){return t.source}function RA(t){return t.target}function Ff(t){let e=OA,n=RA,i=Vd,o=jd,a=null,u=null,f=Ka(l);function l(){let c;const d=AA.call(arguments),_=e.apply(this,d),p=n.apply(this,d);if(a==null&&(u=t(c=f())),u.lineStart(),d[0]=_,u.point(+i.apply(this,d),+o.apply(this,d)),d[0]=p,u.point(+i.apply(this,d),+o.apply(this,d)),u.lineEnd(),c)return u=null,c+""||null}return l.source=function(c){return arguments.length?(e=c,l):e},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(i=typeof c=="function"?c:ct(+c),l):i},l.y=function(c){return arguments.length?(o=typeof c=="function"?c:ct(+c),l):o},l.context=function(c){return arguments.length?(c==null?a=u=null:u=t(a=c),l):a},l}function $A(){return Ff(k2)}function BA(){return Ff(A2)}function DA(){const t=Ff(IA);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const ZA=Rt(3),L2={draw(t,e){const n=Rt(e+Gr(e/28,.75))*.59436,i=n/2,o=i*ZA;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-i),t.lineTo(o,i),t.moveTo(-o,i),t.lineTo(o,-i)}},qf={draw(t,e){const n=Rt(e/vi);t.moveTo(n,0),t.arc(0,0,n,0,hi)}},C2={draw(t,e){const n=Rt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},N2=Rt(1/3),FA=N2*2,z2={draw(t,e){const n=Rt(e/FA),i=n*N2;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},I2={draw(t,e){const n=Rt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},O2={draw(t,e){const n=Rt(e-Gr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},R2={draw(t,e){const n=Rt(e),i=-n/2;t.rect(i,i,n,n)}},$2={draw(t,e){const n=Rt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},qA=.8908130915292852,B2=Le(vi/10)/Le(7*vi/10),HA=Le(hi/10)*B2,UA=-Dn(hi/10)*B2,D2={draw(t,e){const n=Rt(e*qA),i=HA*n,o=UA*n;t.moveTo(0,-n),t.lineTo(i,o);for(let a=1;a<5;++a){const u=hi*a/5,f=Dn(u),l=Le(u);t.lineTo(l*n,-f*n),t.lineTo(f*i-l*o,l*i+f*o)}t.closePath()}},ac=Rt(3),Z2={draw(t,e){const n=-Rt(e/(ac*3));t.moveTo(0,n*2),t.lineTo(-ac*n,-n),t.lineTo(ac*n,-n),t.closePath()}},WA=Rt(3),F2={draw(t,e){const n=Rt(e)*.6824,i=n/2,o=n*WA/2;t.moveTo(0,-n),t.lineTo(o,i),t.lineTo(-o,i),t.closePath()}},Ye=-.5,Ge=Rt(3)/2,mh=1/Rt(12),YA=(mh/2+1)*3,q2={draw(t,e){const n=Rt(e/YA),i=n/2,o=n*mh,a=i,u=n*mh+n,f=-a,l=u;t.moveTo(i,o),t.lineTo(a,u),t.lineTo(f,l),t.lineTo(Ye*i-Ge*o,Ge*i+Ye*o),t.lineTo(Ye*a-Ge*u,Ge*a+Ye*u),t.lineTo(Ye*f-Ge*l,Ge*f+Ye*l),t.lineTo(Ye*i+Ge*o,Ye*o-Ge*i),t.lineTo(Ye*a+Ge*u,Ye*u-Ge*a),t.lineTo(Ye*f+Ge*l,Ye*l-Ge*f),t.closePath()}},gh={draw(t,e){const n=Rt(e-Gr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},Rm=[qf,C2,z2,R2,D2,Z2,q2],GA=[qf,O2,gh,F2,L2,$2,I2];function VA(t,e){let n=null,i=Ka(o);t=typeof t=="function"?t:ct(t||qf),e=typeof e=="function"?e:ct(e===void 0?64:+e);function o(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return o.type=function(a){return arguments.length?(t=typeof a=="function"?a:ct(a),o):t},o.size=function(a){return arguments.length?(e=typeof a=="function"?a:ct(+a),o):e},o.context=function(a){return arguments.length?(n=a??null,o):n},o}function yi(){}function Xu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Hf(t){this._context=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jA(t){return new Hf(t)}function H2(t){this._context=t}H2.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XA(t){return new H2(t)}function U2(t){this._context=t}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Xu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KA(t){return new U2(t)}function W2(t,e){this._basis=new Hf(t),this._beta=e}W2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,f=-1,l;++f<=n;)l=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(i+l*a),this._beta*e[f]+(1-this._beta)*(o+l*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const JA=function t(e){function n(i){return e===1?new Hf(i):new W2(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function Ku(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Jd(t,e){this._context=t,this._k=(1-e)/6}Jd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ku(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ku(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const QA=function t(e){function n(i){return new Jd(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Qd(t,e){this._context=t,this._k=(1-e)/6}Qd.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ku(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tL=function t(e){function n(i){return new Qd(i,e)}return n.tension=function(i){return t(+i)},n}(0);function tp(t,e){this._context=t,this._k=(1-e)/6}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ku(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eL=function t(e){function n(i){return new tp(i,e)}return n.tension=function(i){return t(+i)},n}(0);function ep(t,e,n){var i=t._x1,o=t._y1,a=t._x2,u=t._y2;if(t._l01_a>he){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>he){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/d,u=(u*c+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(i,o,a,u,t._x2,t._y2)}function Y2(t,e){this._context=t,this._alpha=e}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ep(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nL=function t(e){function n(i){return e?new Y2(i,e):new Jd(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function G2(t,e){this._context=t,this._alpha=e}G2.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ep(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const iL=function t(e){function n(i){return e?new G2(i,e):new Qd(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function V2(t,e){this._context=t,this._alpha=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ep(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rL=function t(e){function n(i){return e?new V2(i,e):new tp(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function j2(t){this._context=t}j2.prototype={areaStart:yi,areaEnd:yi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function oL(t){return new j2(t)}function $m(t){return t<0?-1:1}function Bm(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),u=(n-t._y1)/(o||i<0&&-0),f=(a*o+u*i)/(i+o);return($m(a)+$m(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(f))||0}function Dm(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sc(t,e,n){var i=t._x0,o=t._y0,a=t._x1,u=t._y1,f=(a-i)/3;t._context.bezierCurveTo(i+f,o+f*e,a-f,u-f*n,a,u)}function Ju(t){this._context=t}Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sc(this,this._t0,Dm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sc(this,Dm(this,n=Bm(this,t,e)),n);break;default:sc(this,this._t0,n=Bm(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function X2(t){this._context=new K2(t)}(X2.prototype=Object.create(Ju.prototype)).point=function(t,e){Ju.prototype.point.call(this,e,t)};function K2(t){this._context=t}K2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,a){this._context.bezierCurveTo(e,t,i,n,a,o)}};function aL(t){return new Ju(t)}function sL(t){return new X2(t)}function J2(t){this._context=t}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=Zm(t),o=Zm(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(i[0][a],o[0][a],i[1][a],o[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Zm(t){var e,n=t.length-1,i,o=new Array(n),a=new Array(n),u=new Array(n);for(o[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/a[e-1],a[e]-=i,u[e]-=i*u[e-1];for(o[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)o[e]=(u[e]-o[e+1])/a[e];for(a[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-o[e+1];return[o,a]}function uL(t){return new J2(t)}function Uf(t,e){this._context=t,this._t=e}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fL(t){return new Uf(t,.5)}function lL(t){return new Uf(t,0)}function cL(t){return new Uf(t,1)}function co(t,e){if((u=t.length)>1)for(var n=1,i,o,a=t[e[0]],u,f=a.length;n<u;++n)for(o=a,a=t[e[n]],i=0;i<f;++i)a[i][1]+=a[i][0]=isNaN(o[i][1])?o[i][0]:o[i][1]}function ho(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hL(t,e){return t[e]}function dL(t){const e=[];return e.key=t,e}function pL(){var t=ct([]),e=ho,n=co,i=hL;function o(a){var u=Array.from(t.apply(this,arguments),dL),f,l=u.length,c=-1,d;for(const _ of a)for(f=0,++c;f<l;++f)(u[f][c]=[0,+i(_,u[f].key,c,a)]).data=_;for(f=0,d=Df(e(u));f<l;++f)u[d[f]].index=f;return n(u,d),u}return o.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ct(Array.from(a)),o):t},o.value=function(a){return arguments.length?(i=typeof a=="function"?a:ct(+a),o):i},o.order=function(a){return arguments.length?(e=a==null?ho:typeof a=="function"?a:ct(Array.from(a)),o):e},o.offset=function(a){return arguments.length?(n=a??co,o):n},o}function _L(t,e){if((i=t.length)>0){for(var n,i,o=0,a=t[0].length,u;o<a;++o){for(u=n=0;n<i;++n)u+=t[n][o][1]||0;if(u)for(n=0;n<i;++n)t[n][o][1]/=u}co(t,e)}}function mL(t,e){if((l=t.length)>0)for(var n,i=0,o,a,u,f,l,c=t[e[0]].length;i<c;++i)for(u=f=0,n=0;n<l;++n)(a=(o=t[e[n]][i])[1]-o[0])>0?(o[0]=u,o[1]=u+=a):a<0?(o[1]=f,o[0]=f+=a):(o[0]=0,o[1]=a)}function gL(t,e){if((o=t.length)>0){for(var n=0,i=t[e[0]],o,a=i.length;n<a;++n){for(var u=0,f=0;u<o;++u)f+=t[u][n][1]||0;i[n][1]+=i[n][0]=-f/2}co(t,e)}}function vL(t,e){if(!(!((u=t.length)>0)||!((a=(o=t[e[0]]).length)>0))){for(var n=0,i=1,o,a,u;i<a;++i){for(var f=0,l=0,c=0;f<u;++f){for(var d=t[e[f]],_=d[i][1]||0,p=d[i-1][1]||0,g=(_-p)/2,y=0;y<f;++y){var v=t[e[y]],b=v[i][1]||0,x=v[i-1][1]||0;g+=b-x}l+=_,c+=g*_}o[i-1][1]+=o[i-1][0]=n,l&&(n-=c/l)}o[i-1][1]+=o[i-1][0]=n,co(t,e)}}function Q2(t){var e=t.map(yL);return ho(t).sort(function(n,i){return e[n]-e[i]})}function yL(t){for(var e=-1,n=0,i=t.length,o,a=-1/0;++e<i;)(o=+t[e][1])>a&&(a=o,n=e);return n}function tb(t){var e=t.map(eb);return ho(t).sort(function(n,i){return e[n]-e[i]})}function eb(t){for(var e=0,n=-1,i=t.length,o;++n<i;)(o=+t[n][1])&&(e+=o);return e}function bL(t){return tb(t).reverse()}function wL(t){var e=t.length,n,i,o=t.map(eb),a=Q2(t),u=0,f=0,l=[],c=[];for(n=0;n<e;++n)i=a[n],u<f?(u+=o[i],l.push(i)):(f+=o[i],c.push(i));return c.reverse().concat(l)}function xL(t){return ho(t).reverse()}const qs=t=>()=>t;function ML(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function wn(t,e,n){this.k=t,this.x=e,this.y=n}wn.prototype={constructor:wn,scale:function(t){return t===1?this:new wn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new wn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wf=new wn(1,0,0);nb.prototype=wn.prototype;function nb(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wf;return t.__zoom}function uc(t){t.stopImmediatePropagation()}function Wo(t){t.preventDefault(),t.stopImmediatePropagation()}function TL(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function PL(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Fm(){return this.__zoom||Wf}function SL(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function EL(){return navigator.maxTouchPoints||"ontouchstart"in this}function kL(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function AL(){var t=TL,e=PL,n=kL,i=SL,o=EL,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,l=O1,c=ur("start","zoom","end"),d,_,p,g=500,y=150,v=0,b=10;function x(E){E.property("__zoom",Fm).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",z).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(E,I,C,Z){var q=E.selection?E.selection():E;q.property("__zoom",Fm),E!==q?k(E,I,C,Z):q.interrupt().each(function(){A(this,arguments).event(Z).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},x.scaleBy=function(E,I,C,Z){x.scaleTo(E,function(){var q=this.__zoom.k,Y=typeof I=="function"?I.apply(this,arguments):I;return q*Y},C,Z)},x.scaleTo=function(E,I,C,Z){x.transform(E,function(){var q=e.apply(this,arguments),Y=this.__zoom,U=C==null?M(q):typeof C=="function"?C.apply(this,arguments):C,V=Y.invert(U),X=typeof I=="function"?I.apply(this,arguments):I;return n(T(P(Y,X),U,V),q,u)},C,Z)},x.translateBy=function(E,I,C,Z){x.transform(E,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),u)},null,Z)},x.translateTo=function(E,I,C,Z,q){x.transform(E,function(){var Y=e.apply(this,arguments),U=this.__zoom,V=Z==null?M(Y):typeof Z=="function"?Z.apply(this,arguments):Z;return n(Wf.translate(V[0],V[1]).scale(U.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof C=="function"?-C.apply(this,arguments):-C),Y,u)},Z,q)};function P(E,I){return I=Math.max(a[0],Math.min(a[1],I)),I===E.k?E:new wn(I,E.x,E.y)}function T(E,I,C){var Z=I[0]-C[0]*E.k,q=I[1]-C[1]*E.k;return Z===E.x&&q===E.y?E:new wn(E.k,Z,q)}function M(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function k(E,I,C,Z){E.on("start.zoom",function(){A(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(Z).end()}).tween("zoom",function(){var q=this,Y=arguments,U=A(q,Y).event(Z),V=e.apply(q,Y),X=C==null?M(V):typeof C=="function"?C.apply(q,Y):C,nt=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),K=q.__zoom,tt=typeof I=="function"?I.apply(q,Y):I,ot=l(K.invert(X).concat(nt/K.k),tt.invert(X).concat(nt/tt.k));return function(ht){if(ht===1)ht=tt;else{var kt=ot(ht),J=nt/kt[2];ht=new wn(J,X[0]-kt[0]*J,X[1]-kt[1]*J)}U.zoom(null,ht)}})}function A(E,I,C){return!C&&E.__zooming||new O(E,I)}function O(E,I){this.that=E,this.args=I,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,I),this.taps=0}O.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,I){return this.mouse&&E!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var I=de(this.that).datum();c.call(E,this.that,new ML(E,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),I)}};function B(E,...I){if(!t.apply(this,arguments))return;var C=A(this,I).event(E),Z=this.__zoom,q=Math.max(a[0],Math.min(a[1],Z.k*Math.pow(2,i.apply(this,arguments)))),Y=Re(E);if(C.wheel)(C.mouse[0][0]!==Y[0]||C.mouse[0][1]!==Y[1])&&(C.mouse[1]=Z.invert(C.mouse[0]=Y)),clearTimeout(C.wheel);else{if(Z.k===q)return;C.mouse=[Y,Z.invert(Y)],Yi(this),C.start()}Wo(E),C.wheel=setTimeout(U,y),C.zoom("mouse",n(T(P(Z,q),C.mouse[0],C.mouse[1]),C.extent,u));function U(){C.wheel=null,C.end()}}function R(E,...I){if(p||!t.apply(this,arguments))return;var C=E.currentTarget,Z=A(this,I,!0).event(E),q=de(E.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",nt,!0),Y=Re(E,C),U=E.clientX,V=E.clientY;lf(E.view),uc(E),Z.mouse=[Y,this.__zoom.invert(Y)],Yi(this),Z.start();function X(K){if(Wo(K),!Z.moved){var tt=K.clientX-U,ot=K.clientY-V;Z.moved=tt*tt+ot*ot>v}Z.event(K).zoom("mouse",n(T(Z.that.__zoom,Z.mouse[0]=Re(K,C),Z.mouse[1]),Z.extent,u))}function nt(K){q.on("mousemove.zoom mouseup.zoom",null),cf(K.view,Z.moved),Wo(K),Z.event(K).end()}}function $(E,...I){if(t.apply(this,arguments)){var C=this.__zoom,Z=Re(E.changedTouches?E.changedTouches[0]:E,this),q=C.invert(Z),Y=C.k*(E.shiftKey?.5:2),U=n(T(P(C,Y),Z,q),e.apply(this,I),u);Wo(E),f>0?de(this).transition().duration(f).call(k,U,Z,E):de(this).call(x.transform,U,Z,E)}}function z(E,...I){if(t.apply(this,arguments)){var C=E.touches,Z=C.length,q=A(this,I,E.changedTouches.length===Z).event(E),Y,U,V,X;for(uc(E),U=0;U<Z;++U)V=C[U],X=Re(V,this),X=[X,this.__zoom.invert(X),V.identifier],q.touch0?!q.touch1&&q.touch0[2]!==X[2]&&(q.touch1=X,q.taps=0):(q.touch0=X,Y=!0,q.taps=1+!!d);d&&(d=clearTimeout(d)),Y&&(q.taps<2&&(_=X[0],d=setTimeout(function(){d=null},g)),Yi(this),q.start())}}function W(E,...I){if(this.__zooming){var C=A(this,I).event(E),Z=E.changedTouches,q=Z.length,Y,U,V,X;for(Wo(E),Y=0;Y<q;++Y)U=Z[Y],V=Re(U,this),C.touch0&&C.touch0[2]===U.identifier?C.touch0[0]=V:C.touch1&&C.touch1[2]===U.identifier&&(C.touch1[0]=V);if(U=C.that.__zoom,C.touch1){var nt=C.touch0[0],K=C.touch0[1],tt=C.touch1[0],ot=C.touch1[1],ht=(ht=tt[0]-nt[0])*ht+(ht=tt[1]-nt[1])*ht,kt=(kt=ot[0]-K[0])*kt+(kt=ot[1]-K[1])*kt;U=P(U,Math.sqrt(ht/kt)),V=[(nt[0]+tt[0])/2,(nt[1]+tt[1])/2],X=[(K[0]+ot[0])/2,(K[1]+ot[1])/2]}else if(C.touch0)V=C.touch0[0],X=C.touch0[1];else return;C.zoom("touch",n(T(U,V,X),C.extent,u))}}function D(E,...I){if(this.__zooming){var C=A(this,I).event(E),Z=E.changedTouches,q=Z.length,Y,U;for(uc(E),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),Y=0;Y<q;++Y)U=Z[Y],C.touch0&&C.touch0[2]===U.identifier?delete C.touch0:C.touch1&&C.touch1[2]===U.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(U=Re(U,this),Math.hypot(_[0]-U[0],_[1]-U[1])<b)){var V=de(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return x.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:qs(+E),x):i},x.filter=function(E){return arguments.length?(t=typeof E=="function"?E:qs(!!E),x):t},x.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:qs(!!E),x):o},x.extent=function(E){return arguments.length?(e=typeof E=="function"?E:qs([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),x):e},x.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],x):[a[0],a[1]]},x.translateExtent=function(E){return arguments.length?(u[0][0]=+E[0][0],u[1][0]=+E[1][0],u[0][1]=+E[0][1],u[1][1]=+E[1][1],x):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},x.constrain=function(E){return arguments.length?(n=E,x):n},x.duration=function(E){return arguments.length?(f=+E,x):f},x.interpolate=function(E){return arguments.length?(l=E,x):l},x.on=function(){var E=c.on.apply(c,arguments);return E===c?x:E},x.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,x):Math.sqrt(v)},x.tapDistance=function(E){return arguments.length?(b=+E,x):b},x}const LL=Object.freeze(Object.defineProperty({__proto__:null,Adder:Xt,Delaunay:fd,FormatSpecifier:Mf,InternMap:_a,InternSet:ji,Node:ir,Path:qa,Voronoi:tv,ZoomTransform:wn,active:PM,arc:kA,area:T2,areaRadial:Om,ascending:Zt,autoType:j7,axisBottom:_6,axisLeft:m6,axisRight:p6,axisTop:d6,bin:S0,bisect:_i,bisectCenter:f3,bisectLeft:u3,bisectRight:_i,bisector:rf,blob:J7,blur:l3,blur2:Ng,blurImage:c3,brush:BM,brushSelection:OM,brushX:RM,brushY:$M,buffer:tT,chord:ZM,chordDirected:qM,chordTranspose:FM,cluster:gP,color:mi,contourDensity:p7,contours:Fc,count:of,create:K8,creator:uf,cross:v3,csv:iT,csvFormat:B7,csvFormatBody:D7,csvFormatRow:F7,csvFormatRows:Z7,csvFormatValue:q7,csvParse:nv,csvParseRows:$7,cubehelix:cn,cumsum:y3,curveBasis:jA,curveBasisClosed:XA,curveBasisOpen:KA,curveBumpX:k2,curveBumpY:A2,curveBundle:JA,curveCardinal:QA,curveCardinalClosed:tL,curveCardinalOpen:eL,curveCatmullRom:nL,curveCatmullRomClosed:iL,curveCatmullRomOpen:rL,curveLinear:Zf,curveLinearClosed:oL,curveMonotoneX:aL,curveMonotoneY:sL,curveNatural:uL,curveStep:fL,curveStepAfter:cL,curveStepBefore:lL,descending:Lg,deviation:Og,difference:e6,disjoint:n6,dispatch:ur,drag:a5,dragDisable:lf,dragEnable:cf,dsv:nT,dsvFormat:bf,easeBack:X0,easeBackIn:gM,easeBackInOut:X0,easeBackOut:vM,easeBounce:Ta,easeBounceIn:_M,easeBounceInOut:mM,easeBounceOut:Ta,easeCircle:j0,easeCircleIn:oM,easeCircleInOut:j0,easeCircleOut:aM,easeCubic:Rc,easeCubicIn:K4,easeCubicInOut:Rc,easeCubicOut:J4,easeElastic:K0,easeElasticIn:yM,easeElasticInOut:bM,easeElasticOut:K0,easeExp:V0,easeExpIn:iM,easeExpInOut:V0,easeExpOut:rM,easeLinear:V4,easePoly:Y0,easePolyIn:Q4,easePolyInOut:Y0,easePolyOut:tM,easeQuad:W0,easeQuadIn:j4,easeQuadInOut:W0,easeQuadOut:X4,easeSin:G0,easeSinIn:eM,easeSinInOut:G0,easeSinOut:nM,every:j3,extent:ua,fcumsum:w3,filter:K3,flatGroup:x3,flatRollup:M3,forceCenter:cT,forceCollide:LT,forceLink:NT,forceManyBody:FT,forceRadial:qT,forceSimulation:ZT,forceX:HT,forceY:UT,get format(){return Tf},formatDefaultLocale:uv,formatLocale:sv,get formatPrefix(){return hd},formatSpecifier:ro,fsum:b3,geoAlbers:Yv,geoAlbersUsa:j9,geoArea:t9,geoAzimuthalEqualArea:X9,geoAzimuthalEqualAreaRaw:xd,geoAzimuthalEquidistant:K9,geoAzimuthalEquidistantRaw:Md,geoBounds:r9,geoCentroid:l9,geoCircle:c9,geoClipAntimeridian:th,geoClipCircle:Lv,geoClipExtent:v9,geoClipRectangle:Pf,geoConicConformal:Q9,geoConicConformalRaw:jv,geoConicEqualArea:Yu,geoConicEqualAreaRaw:Wv,geoConicEquidistant:eP,geoConicEquidistantRaw:Xv,geoContains:P9,geoDistance:Bu,geoEqualEarth:iP,geoEqualEarthRaw:Td,geoEquirectangular:tP,geoEquirectangularRaw:La,geoGnomonic:rP,geoGnomonicRaw:Pd,geoGraticule:zv,geoGraticule10:S9,geoIdentity:oP,geoInterpolate:E9,geoLength:Cv,geoMercator:J9,geoMercatorRaw:Ga,geoNaturalEarth1:aP,geoNaturalEarth1Raw:Sd,geoOrthographic:sP,geoOrthographicRaw:Ed,geoPath:D9,geoProjection:Ln,geoProjectionMutator:bd,geoRotation:Tv,geoStereographic:uP,geoStereographicRaw:kd,geoStream:un,geoTransform:Z9,geoTransverseMercator:fP,geoTransverseMercatorRaw:Ad,gray:v5,greatest:Yg,greatestIndex:H3,group:Dg,groupSort:S3,groups:Zg,hcl:yu,hierarchy:Ld,histogram:S0,hsl:mu,html:fT,image:oT,index:T3,indexes:P3,interpolate:xi,interpolateArray:T5,interpolateBasis:x1,interpolateBasisClosed:M1,interpolateBlues:eA,interpolateBrBG:Ik,interpolateBuGn:Hk,interpolateBuPu:Uk,interpolateCividis:sA,interpolateCool:lA,interpolateCubehelix:D5,interpolateCubehelixDefault:uA,interpolateCubehelixLong:mf,interpolateDate:A1,interpolateDiscrete:E5,interpolateGnBu:Wk,interpolateGreens:nA,interpolateGreys:iA,interpolateHcl:$5,interpolateHclLong:B5,interpolateHsl:I5,interpolateHslLong:O5,interpolateHue:k5,interpolateInferno:vA,interpolateLab:R5,interpolateMagma:gA,interpolateNumber:je,interpolateNumberArray:Jh,interpolateObject:L1,interpolateOrRd:Yk,interpolateOranges:aA,interpolatePRGn:Ok,interpolatePiYG:Rk,interpolatePlasma:yA,interpolatePuBu:Vk,interpolatePuBuGn:Gk,interpolatePuOr:$k,interpolatePuRd:jk,interpolatePurples:rA,interpolateRainbow:cA,interpolateRdBu:Bk,interpolateRdGy:Dk,interpolateRdPu:Xk,interpolateRdYlBu:Zk,interpolateRdYlGn:Fk,interpolateReds:oA,interpolateRgb:wa,interpolateRgbBasis:S1,interpolateRgbBasisClosed:M5,interpolateRound:_f,interpolateSinebow:pA,interpolateSpectral:qk,interpolateString:Qh,interpolateTransformCss:z1,interpolateTransformSvg:I1,interpolateTurbo:_A,interpolateViridis:mA,interpolateWarm:fA,interpolateYlGn:Jk,interpolateYlGnBu:Kk,interpolateYlOrBr:Qk,interpolateYlOrRd:tA,interpolateZoom:O1,interrupt:Yi,intersection:i6,interval:U5,isoFormat:pk,isoParse:mk,json:sT,lab:vu,lch:y5,least:q3,leastIndex:jg,line:Xd,lineRadial:Im,link:Ff,linkHorizontal:$A,linkRadial:DA,linkVertical:BA,local:s1,map:J3,matcher:Wh,max:ma,maxIndex:Fh,mean:I3,median:O3,medianIndex:R3,merge:Hh,min:du,minIndex:qh,mode:B3,namespace:Da,namespaces:Sc,nice:Dh,now:Fa,pack:GP,packEnclose:FP,packSiblings:WP,pairs:D3,partition:VP,path:ud,pathRound:WM,permute:Wg,pie:NA,piecewise:D1,pointRadial:aa,pointer:Re,pointers:Q8,polygonArea:lS,polygonCentroid:cS,polygonContains:_S,polygonHull:pS,polygonLength:mS,precisionFixed:fv,precisionPrefix:lv,precisionRound:cv,quadtree:xf,quantile:ga,quantileIndex:Vg,quantileSorted:Gg,quantize:Z5,quickselect:af,radialArea:Om,radialLine:Im,randomBates:bS,randomBernoulli:MS,randomBeta:fy,randomBinomial:ly,randomCauchy:PS,randomExponential:wS,randomGamma:zd,randomGeometric:uy,randomInt:vS,randomIrwinHall:sy,randomLcg:LS,randomLogNormal:yS,randomLogistic:SS,randomNormal:Nd,randomPareto:xS,randomPoisson:ES,randomUniform:gS,randomWeibull:TS,range:fi,rank:F3,reduce:Q3,reverse:t6,rgb:to,ribbon:QM,ribbonArrow:t7,rollup:qg,rollups:Hg,scaleBand:Od,scaleDiverging:Gy,scaleDivergingLog:Vy,scaleDivergingPow:Gd,scaleDivergingSqrt:xk,scaleDivergingSymlog:jy,scaleIdentity:py,scaleImplicit:ph,scaleLinear:dy,scaleLog:my,scaleOrdinal:Id,scalePoint:CS,scalePow:Zd,scaleQuantile:yy,scaleQuantize:by,scaleRadial:vy,scaleSequential:Hy,scaleSequentialLog:Uy,scaleSequentialPow:Yd,scaleSequentialQuantile:Yy,scaleSequentialSqrt:wk,scaleSequentialSymlog:Wy,scaleSqrt:HS,scaleSymlog:gy,scaleThreshold:wy,scaleTime:yk,scaleUtc:bk,scan:U3,schemeAccent:Tk,schemeBlues:g2,schemeBrBG:Xy,schemeBuGn:o2,schemeBuPu:a2,schemeCategory10:Mk,schemeDark2:Pk,schemeGnBu:s2,schemeGreens:v2,schemeGreys:y2,schemeObservable10:Sk,schemeOrRd:u2,schemeOranges:x2,schemePRGn:Ky,schemePaired:Ek,schemePastel1:kk,schemePastel2:Ak,schemePiYG:Jy,schemePuBu:l2,schemePuBuGn:f2,schemePuOr:Qy,schemePuRd:c2,schemePurples:b2,schemeRdBu:t2,schemeRdGy:e2,schemeRdPu:h2,schemeRdYlBu:n2,schemeRdYlGn:i2,schemeReds:w2,schemeSet1:Lk,schemeSet2:Ck,schemeSet3:Nk,schemeSpectral:r2,schemeTableau10:zk,schemeYlGn:p2,schemeYlGnBu:d2,schemeYlOrBr:_2,schemeYlOrRd:m2,select:de,selectAll:t5,selection:fr,selector:ff,selectorAll:Uh,shuffle:W3,shuffler:Xg,some:X3,sort:Mc,stack:pL,stackOffsetDiverging:mL,stackOffsetExpand:_L,stackOffsetNone:co,stackOffsetSilhouette:gL,stackOffsetWiggle:vL,stackOrderAppearance:Q2,stackOrderAscending:tb,stackOrderDescending:bL,stackOrderInsideOut:wL,stackOrderNone:ho,stackOrderReverse:xL,stratify:JP,style:Ji,subset:o6,sum:Y3,superset:Jg,svg:lT,symbol:VA,symbolAsterisk:L2,symbolCircle:qf,symbolCross:C2,symbolDiamond:z2,symbolDiamond2:I2,symbolPlus:O2,symbolSquare:R2,symbolSquare2:$2,symbolStar:D2,symbolTimes:gh,symbolTriangle:Z2,symbolTriangle2:F2,symbolWye:q2,symbolX:gh,symbols:Rm,symbolsFill:Rm,symbolsStroke:GA,text:wf,thresholdFreedmanDiaconis:N3,thresholdScott:z3,thresholdSturges:Zh,tickFormat:hy,tickIncrement:Ki,tickStep:hu,ticks:Xi,timeDay:wo,timeDays:jS,get timeFormat(){return Hd},timeFormatDefaultLocale:Fy,timeFormatLocale:Oy,timeFriday:Ty,timeFridays:nE,timeHour:Cf,timeHours:GS,timeInterval:Gt,timeMillisecond:uo,timeMilliseconds:gm,timeMinute:Af,timeMinutes:WS,timeMonday:Ca,timeMondays:JS,timeMonth:zf,timeMonths:lE,get timeParse(){return Zy},timeSaturday:Py,timeSaturdays:iE,timeSecond:Yn,timeSeconds:ym,timeSunday:fo,timeSundays:bm,timeThursday:rr,timeThursdays:eE,timeTickInterval:Iy,timeTicks:zy,timeTuesday:xy,timeTuesdays:QS,timeWednesday:My,timeWednesdays:tE,timeWeek:fo,timeWeeks:bm,timeYear:Sn,timeYears:hE,timeout:Nc,timer:vf,timerFlush:q1,transition:Y1,transpose:Kg,tree:oS,treemap:aS,treemapBinary:sS,treemapDice:Va,treemapResquarify:fS,treemapSlice:Ef,treemapSliceDice:uS,treemapSquarify:ay,tsv:rT,tsvFormat:U7,tsvFormatBody:W7,tsvFormatRow:G7,tsvFormatRows:Y7,tsvFormatValue:V7,tsvParse:iv,tsvParseRows:H7,union:a6,unixDay:qd,unixDays:KS,utcDay:Xa,utcDays:XS,get utcFormat(){return Of},utcFriday:ky,utcFridays:uE,utcHour:Nf,utcHours:VS,utcMillisecond:uo,utcMilliseconds:gm,utcMinute:Lf,utcMinutes:YS,utcMonday:Na,utcMondays:rE,utcMonth:If,utcMonths:cE,get utcParse(){return Ud},utcSaturday:Ay,utcSaturdays:fE,utcSecond:Yn,utcSeconds:ym,utcSunday:lo,utcSundays:wm,utcThursday:or,utcThursdays:sE,utcTickInterval:Ny,utcTicks:Cy,utcTuesday:Sy,utcTuesdays:oE,utcWednesday:Ey,utcWednesdays:aE,utcWeek:lo,utcWeeks:wm,utcYear:En,utcYears:dE,variance:Ig,window:Yh,xml:uT,zip:V3,zoom:AL,zoomIdentity:Wf,zoomTransform:nb},Symbol.toStringTag,{value:"Module"}));var CL=tn('<div class="w-screen h-screen flex items-center justify-center border-box background svelte-1t4p0km"><div class="content border-red-600 border-8 bg-red-900 p-12 text-shadow-xs text-shadow-red-400 svelte-1t4p0km"><h1 class="text-7xl"> </h1> <p class="text-xl mt-4"> </p></div></div>');function NL(t,e){var n=CL(),i=Lt(n),o=Lt(i),a=Lt(o),u=Mt(o,2),f=Lt(u);Gi(()=>{Hi(a,e.title),Hi(f,e.subtitle)}),Qe(t,n)}const zL=t=>t;function IL(t,{delay:e=0,duration:n=400,easing:i=zL}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:a=>`opacity: ${a*o}`}}var OL=tn('<div class="w-screen h-screen flex items-center justify-center"><div class="w-1/2 p-6 rounded-lg border-red-600 border-4 border-double"><p> <span class="text-red-400"> </span> </p></div></div>');function vh(t,e){var n=OL(),i=Lt(n),o=Lt(i),a=Lt(o),u=Mt(a),f=Lt(u),l=Mt(u,1,!0);Gi(()=>{Hi(a,e.text),Hi(f,e.span),Hi(l,e.suffix)}),Qe(t,n)}var RL=tn('<img alt="textbook page" class="absolute max-w-full max-h-full object-contain"/>'),$L=tn(`<!> <section id="scrolly-one" class="my-8 relative grid svelte-1b18zbe"><article class="w-full svelte-1b18zbe"><div class="step relative flex flex-col justify-center text-left z-1 w-xs text-xl left-[34vw] svelte-1b18zbe" data-step="1"><p class="svelte-1b18zbe">We learned about the Civil War, which took place 165 years ago and was fought between the North and the South.</p></div> <div class="step relative flex flex-col justify-center text-left z-1 w-xs text-xl right-[34vw] svelte-1b18zbe" data-step="2"><p class="svelte-1b18zbe">There was the Great Migration a century ago, during which a large number of Black people moved from the South to the North and Midwest.</p></div> <div class="step relative flex flex-col justify-center text-left z-1 w-xs text-xl left-[34vw] svelte-1b18zbe" data-step="3"><p class="svelte-1b18zbe">We also know about Jim Crow laws, which constituted systemic racial discrimination.</p></div> <div class="step relative flex flex-col justify-center text-left z-1 w-xs text-xl right-[34vw] svelte-1b18zbe" data-step="4"><p class="svelte-1b18zbe">There is also a lot of material about legislation and historical figures in the South, especially relating to race.</p></div> <div class="step relative flex flex-col justify-center text-left z-1 w-xs text-xl left-[36vw] svelte-1b18zbe" data-step="5"><p class="svelte-1b18zbe">This is by no means a complete timeline, and it's important history. But there's also local history that we should know.</p> <p class="text-sm svelte-1b18zbe">Textbook: TEKS United States History Since 1877 (2016). <span class="text-xs">Not the textbook used in my history class.</span></p> <p class="text-sm svelte-1b18zbe">Photo: Oakland Public Library.</p></div></article> <figure class="flex justify-center svelte-1b18zbe"><!></figure></section>`,1);function BL(t,e){Ra(e,!1);const n=ru("scrollama"),i=ru("d3");let o=Lh(0);kg(()=>{const _=i.select("main").select("#scrolly-one"),p=_.select("figure"),y=_.select("article").selectAll(".step"),v=n();function b(){const T=Math.floor(window.innerHeight*.75);y.style("height",T+"px");const M=window.innerHeight/1.25,k=(window.innerHeight-M)/2;p.style("height",M+"px").style("top",k+"px"),v.resize()}function x(T){$e(o,T.index)}function P(){b(),v.setup({step:"#scrolly-one article .step",offset:.33,debug:!1}).onStepEnter(x)}return P(),()=>{v.destroy()}}),Rh();var a=$L(),u=zh(a);vh(u,{text:"Growing up in the San Francisco Bay Area, I learned a lot about racial inequity at school, especially in history class. But the history we learned felt distant, in terms of both time and space.",span:"",suffix:""});var f=Mt(u,2),l=Mt(Lt(f),2),c=Lt(l);$x(c,()=>Yt(o),d=>{var _=RL();Gi(()=>Vo(_,"src",`images/history-${Yt(o)+1}.jpeg`||"/images/history-1.jpeg")),Gx(3,_,()=>IL,()=>({duration:1e3})),Qe(d,_)}),Qe(t,a),$a()}function DL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ZL=sa.exports,qm;function FL(){return qm||(qm=1,function(t,e){(function(n,i){i(e)})(ZL,function(n){var i="1.9.4";function o(r){var s,h,m,w;for(h=1,m=arguments.length;h<m;h++){w=arguments[h];for(s in w)r[s]=w[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var m=h.call(arguments,2);return function(){return r.apply(s,m.length?m.concat(h.call(arguments)):arguments)}}var f=0;function l(r){return"_leaflet_id"in r||(r._leaflet_id=++f),r._leaflet_id}function c(r,s,h){var m,w,S,N;return N=function(){m=!1,w&&(S.apply(h,w),w=!1)},S=function(){m?w=arguments:(r.apply(h,arguments),setTimeout(N,s),m=!0)},S}function d(r,s,h){var m=s[1],w=s[0],S=m-w;return r===m&&h?r:((r-w)%S+S)%S+w}function _(){return!1}function p(r,s){if(s===!1)return r;var h=Math.pow(10,s===void 0?6:s);return Math.round(r*h)/h}function g(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function y(r){return g(r).split(/\s+/)}function v(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var h in s)r.options[h]=s[h];return r.options}function b(r,s,h){var m=[];for(var w in r)m.push(encodeURIComponent(h?w.toUpperCase():w)+"="+encodeURIComponent(r[w]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function P(r,s){return r.replace(x,function(h,m){var w=s[m];if(w===void 0)throw new Error("No value provided for variable "+h);return typeof w=="function"&&(w=w(s)),w})}var T=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function M(r,s){for(var h=0;h<r.length;h++)if(r[h]===s)return h;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var O=0;function B(r){var s=+new Date,h=Math.max(0,16-(s-O));return O=s+h,window.setTimeout(r,h)}var R=window.requestAnimationFrame||A("RequestAnimationFrame")||B,$=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function z(r,s,h){if(h&&R===B)r.call(s);else return R.call(window,u(r,s))}function W(r){r&&$.call(window,r)}var D={__proto__:null,extend:o,create:a,bind:u,get lastId(){return f},stamp:l,throttle:c,wrapNum:d,falseFn:_,formatNum:p,trim:g,splitWords:y,setOptions:v,getParamString:b,template:P,isArray:T,indexOf:M,emptyImageUrl:k,requestFn:R,cancelFn:$,requestAnimFrame:z,cancelAnimFrame:W};function E(){}E.extend=function(r){var s=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=s.__super__=this.prototype,m=a(h);m.constructor=s,s.prototype=m;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(s[w]=this[w]);return r.statics&&o(s,r.statics),r.includes&&(I(r.includes),o.apply(null,[m].concat(r.includes))),o(m,r),delete m.statics,delete m.includes,m.options&&(m.options=h.options?a(h.options):{},o(m.options,r.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,N=m._initHooks.length;S<N;S++)m._initHooks[S].call(this)}},s},E.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},E.mergeOptions=function(r){return o(this.prototype.options,r),this},E.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function I(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=T(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var C={on:function(r,s,h){if(typeof r=="object")for(var m in r)this._on(m,r[m],s);else{r=y(r);for(var w=0,S=r.length;w<S;w++)this._on(r[w],s,h)}return this},off:function(r,s,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var m in r)this._off(m,r[m],s);else{r=y(r);for(var w=arguments.length===1,S=0,N=r.length;S<N;S++)w?this._off(r[S]):this._off(r[S],s,h)}return this},_on:function(r,s,h,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,h)===!1){h===this&&(h=void 0);var w={fn:s,ctx:h};m&&(w.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(w)}},_off:function(r,s,h){var m,w,S;if(this._events&&(m=this._events[r],!!m)){if(arguments.length===1){if(this._firingCount)for(w=0,S=m.length;w<S;w++)m[w].fn=_;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var N=this._listens(r,s,h);if(N!==!1){var F=m[N];this._firingCount&&(F.fn=_,this._events[r]=m=m.slice()),m.splice(N,1)}}},fire:function(r,s,h){if(!this.listens(r,h))return this;var m=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var w=this._events[r];if(w){this._firingCount=this._firingCount+1||1;for(var S=0,N=w.length;S<N;S++){var F=w[S],H=F.fn;F.once&&this.off(r,H,F.ctx),H.call(F.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(r,s,h,m){typeof r!="string"&&console.warn('"string" type argument expected');var w=s;typeof s!="function"&&(m=!!s,w=void 0,h=void 0);var S=this._events&&this._events[r];if(S&&S.length&&this._listens(r,w,h)!==!1)return!0;if(m){for(var N in this._eventParents)if(this._eventParents[N].listens(r,s,h,m))return!0}return!1},_listens:function(r,s,h){if(!this._events)return!1;var m=this._events[r]||[];if(!s)return!!m.length;h===this&&(h=void 0);for(var w=0,S=m.length;w<S;w++)if(m[w].fn===s&&m[w].ctx===h)return w;return!1},once:function(r,s,h){if(typeof r=="object")for(var m in r)this._on(m,r[m],s,!0);else{r=y(r);for(var w=0,S=r.length;w<S;w++)this._on(r[w],s,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[l(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[l(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var Z=E.extend(C);function q(r,s,h){this.x=h?Math.round(r):r,this.y=h?Math.round(s):s}var Y=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new q(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new q(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(r){r=U(r);var s=r.x-this.x,h=r.y-this.y;return Math.sqrt(s*s+h*h)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function U(r,s,h){return r instanceof q?r:T(r)?new q(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new q(r.x,r.y):new q(r,s,h)}function V(r,s){if(r)for(var h=s?[r,s]:r,m=0,w=h.length;m<w;m++)this.extend(h[m])}V.prototype={extend:function(r){var s,h;if(!r)return this;if(r instanceof q||typeof r[0]=="number"||"x"in r)s=h=U(r);else if(r=X(r),s=r.min,h=r.max,!s||!h)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=h.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,h;return typeof r[0]=="number"||r instanceof q?r=U(r):r=X(r),r instanceof V?(s=r.min,h=r.max):s=h=r,s.x>=this.min.x&&h.x<=this.max.x&&s.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=X(r);var s=this.min,h=this.max,m=r.min,w=r.max,S=w.x>=s.x&&m.x<=h.x,N=w.y>=s.y&&m.y<=h.y;return S&&N},overlaps:function(r){r=X(r);var s=this.min,h=this.max,m=r.min,w=r.max,S=w.x>s.x&&m.x<h.x,N=w.y>s.y&&m.y<h.y;return S&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,h=this.max,m=Math.abs(s.x-h.x)*r,w=Math.abs(s.y-h.y)*r;return X(U(s.x-m,s.y-w),U(h.x+m,h.y+w))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,s){return!r||r instanceof V?r:new V(r,s)}function nt(r,s){if(r)for(var h=s?[r,s]:r,m=0,w=h.length;m<w;m++)this.extend(h[m])}nt.prototype={extend:function(r){var s=this._southWest,h=this._northEast,m,w;if(r instanceof tt)m=r,w=r;else if(r instanceof nt){if(m=r._southWest,w=r._northEast,!m||!w)return this}else return r?this.extend(ot(r)||K(r)):this;return!s&&!h?(this._southWest=new tt(m.lat,m.lng),this._northEast=new tt(w.lat,w.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),h.lat=Math.max(w.lat,h.lat),h.lng=Math.max(w.lng,h.lng)),this},pad:function(r){var s=this._southWest,h=this._northEast,m=Math.abs(s.lat-h.lat)*r,w=Math.abs(s.lng-h.lng)*r;return new nt(new tt(s.lat-m,s.lng-w),new tt(h.lat+m,h.lng+w))},getCenter:function(){return new tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof tt||"lat"in r?r=ot(r):r=K(r);var s=this._southWest,h=this._northEast,m,w;return r instanceof nt?(m=r.getSouthWest(),w=r.getNorthEast()):m=w=r,m.lat>=s.lat&&w.lat<=h.lat&&m.lng>=s.lng&&w.lng<=h.lng},intersects:function(r){r=K(r);var s=this._southWest,h=this._northEast,m=r.getSouthWest(),w=r.getNorthEast(),S=w.lat>=s.lat&&m.lat<=h.lat,N=w.lng>=s.lng&&m.lng<=h.lng;return S&&N},overlaps:function(r){r=K(r);var s=this._southWest,h=this._northEast,m=r.getSouthWest(),w=r.getNorthEast(),S=w.lat>s.lat&&m.lat<h.lat,N=w.lng>s.lng&&m.lng<h.lng;return S&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=K(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(r,s){return r instanceof nt?r:new nt(r,s)}function tt(r,s,h){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,h!==void 0&&(this.alt=+h)}tt.prototype={equals:function(r,s){if(!r)return!1;r=ot(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+p(this.lat,r)+", "+p(this.lng,r)+")"},distanceTo:function(r){return kt.distance(this,ot(r))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,h=s/Math.cos(Math.PI/180*this.lat);return K([this.lat-s,this.lng-h],[this.lat+s,this.lng+h])},clone:function(){return new tt(this.lat,this.lng,this.alt)}};function ot(r,s,h){return r instanceof tt?r:T(r)&&typeof r[0]!="object"?r.length===3?new tt(r[0],r[1],r[2]):r.length===2?new tt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new tt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new tt(r,s,h)}var ht={latLngToPoint:function(r,s){var h=this.projection.project(r),m=this.scale(s);return this.transformation._transform(h,m)},pointToLatLng:function(r,s){var h=this.scale(s),m=this.transformation.untransform(r,h);return this.projection.unproject(m)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,h=this.scale(r),m=this.transformation.transform(s.min,h),w=this.transformation.transform(s.max,h);return new V(m,w)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?d(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?d(r.lat,this.wrapLat,!0):r.lat,m=r.alt;return new tt(h,s,m)},wrapLatLngBounds:function(r){var s=r.getCenter(),h=this.wrapLatLng(s),m=s.lat-h.lat,w=s.lng-h.lng;if(m===0&&w===0)return r;var S=r.getSouthWest(),N=r.getNorthEast(),F=new tt(S.lat-m,S.lng-w),H=new tt(N.lat-m,N.lng-w);return new nt(F,H)}},kt=o({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var h=Math.PI/180,m=r.lat*h,w=s.lat*h,S=Math.sin((s.lat-r.lat)*h/2),N=Math.sin((s.lng-r.lng)*h/2),F=S*S+Math.cos(m)*Math.cos(w)*N*N,H=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*H}}),J=6378137,ft={R:J,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,r.lat),-h),w=Math.sin(m*s);return new q(this.R*r.lng*s,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(r){var s=180/Math.PI;return new tt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=J*Math.PI;return new V([-r,-r],[r,r])}()};function dt(r,s,h,m){if(T(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=h,this._d=m}dt.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new q((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function j(r,s,h,m){return new dt(r,s,h,m)}var It=o({},kt,{code:"EPSG:3857",projection:ft,transformation:function(){var r=.5/(Math.PI*ft.R);return j(r,.5,-r,.5)}()}),Et=o({},It,{code:"EPSG:900913"});function Kt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Jt(r,s){var h="",m,w,S,N,F,H;for(m=0,S=r.length;m<S;m++){for(F=r[m],w=0,N=F.length;w<N;w++)H=F[w],h+=(w?"L":"M")+H.x+" "+H.y;h+=s?rt.svg?"z":"x":""}return h||"M0 0"}var st=document.documentElement.style,At="ActiveXObject"in window,Pi=At&&!document.addEventListener,nn="msLaunchUri"in navigator&&!("documentMode"in document),Yf=dn("webkit"),ip=dn("android"),rp=dn("android 2")||dn("android 3"),ib=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rb=ip&&dn("Google")&&ib<537&&!("AudioNode"in window),Gf=!!window.opera,op=!nn&&dn("chrome"),ap=dn("gecko")&&!Yf&&!Gf&&!At,ob=!op&&dn("safari"),sp=dn("phantom"),up="OTransition"in st,ab=navigator.platform.indexOf("Win")===0,fp=At&&"transition"in st,Vf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rp,lp="MozPerspective"in st,sb=!window.L_DISABLE_3D&&(fp||Vf||lp)&&!up&&!sp,xo=typeof orientation<"u"||dn("mobile"),ub=xo&&Yf,fb=xo&&Vf,cp=!window.PointerEvent&&window.MSPointerEvent,hp=!!(window.PointerEvent||cp),dp="ontouchstart"in window||!!window.TouchEvent,lb=!window.L_NO_TOUCH&&(dp||hp),cb=xo&&Gf,hb=xo&&ap,db=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pb=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return r}(),_b=function(){return!!document.createElement("canvas").getContext}(),jf=!!(document.createElementNS&&Kt("svg").createSVGRect),mb=!!jf&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gb=!jf&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),vb=navigator.platform.indexOf("Mac")===0,yb=navigator.platform.indexOf("Linux")===0;function dn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var rt={ie:At,ielt9:Pi,edge:nn,webkit:Yf,android:ip,android23:rp,androidStock:rb,opera:Gf,chrome:op,gecko:ap,safari:ob,phantom:sp,opera12:up,win:ab,ie3d:fp,webkit3d:Vf,gecko3d:lp,any3d:sb,mobile:xo,mobileWebkit:ub,mobileWebkit3d:fb,msPointer:cp,pointer:hp,touch:lb,touchNative:dp,mobileOpera:cb,mobileGecko:hb,retina:db,passiveEvents:pb,canvas:_b,svg:jf,vml:gb,inlineSvg:mb,mac:vb,linux:yb},pp=rt.msPointer?"MSPointerDown":"pointerdown",_p=rt.msPointer?"MSPointerMove":"pointermove",mp=rt.msPointer?"MSPointerUp":"pointerup",gp=rt.msPointer?"MSPointerCancel":"pointercancel",Xf={touchstart:pp,touchmove:_p,touchend:mp,touchcancel:gp},vp={touchstart:Pb,touchmove:Ja,touchend:Ja,touchcancel:Ja},pr={},yp=!1;function bb(r,s,h){return s==="touchstart"&&Tb(),vp[s]?(h=vp[s].bind(this,h),r.addEventListener(Xf[s],h,!1),h):(console.warn("wrong event specified:",s),_)}function wb(r,s,h){if(!Xf[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Xf[s],h,!1)}function xb(r){pr[r.pointerId]=r}function Mb(r){pr[r.pointerId]&&(pr[r.pointerId]=r)}function bp(r){delete pr[r.pointerId]}function Tb(){yp||(document.addEventListener(pp,xb,!0),document.addEventListener(_p,Mb,!0),document.addEventListener(mp,bp,!0),document.addEventListener(gp,bp,!0),yp=!0)}function Ja(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var h in pr)s.touches.push(pr[h]);s.changedTouches=[s],r(s)}}function Pb(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ae(s),Ja(r,s)}function Sb(r){var s={},h,m;for(m in r)h=r[m],s[m]=h&&h.bind?h.bind(r):h;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Eb=200;function kb(r,s){r.addEventListener("dblclick",s);var h=0,m;function w(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var N=Pp(S);if(!(N.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!N.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var F=Date.now();F-h<=Eb?(m++,m===2&&s(Sb(S))):m=1,h=F}}}return r.addEventListener("click",w),{dblclick:s,simDblclick:w}}function Ab(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var Kf=es(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mo=es(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wp=Mo==="webkitTransition"||Mo==="OTransition"?Mo+"End":"transitionend";function xp(r){return typeof r=="string"?document.getElementById(r):r}function To(r,s){var h=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(r,null);h=m?m[s]:null}return h==="auto"?null:h}function Tt(r,s,h){var m=document.createElement(r);return m.className=s||"",h&&h.appendChild(m),m}function $t(r){var s=r.parentNode;s&&s.removeChild(r)}function Qa(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _r(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function mr(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Jf(r,s){if(r.classList!==void 0)return r.classList.contains(s);var h=ts(r);return h.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(h)}function mt(r,s){if(r.classList!==void 0)for(var h=y(s),m=0,w=h.length;m<w;m++)r.classList.add(h[m]);else if(!Jf(r,s)){var S=ts(r);Qf(r,(S?S+" ":"")+s)}}function Ht(r,s){r.classList!==void 0?r.classList.remove(s):Qf(r,g((" "+ts(r)+" ").replace(" "+s+" "," ")))}function Qf(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function ts(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function qe(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Lb(r,s)}function Lb(r,s){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),h?(h.Enabled=s!==100,h.Opacity=s):r.style.filter+=" progid:"+m+"(opacity="+s+")"}function es(r){for(var s=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in s)return r[h];return!1}function Si(r,s,h){var m=s||new q(0,0);r.style[Kf]=(rt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function Ut(r,s){r._leaflet_pos=s,rt.any3d?Si(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function Ei(r){return r._leaflet_pos||new q(0,0)}var Po,So,tl;if("onselectstart"in document)Po=function(){pt(window,"selectstart",ae)},So=function(){Ot(window,"selectstart",ae)};else{var Eo=es(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Po=function(){if(Eo){var r=document.documentElement.style;tl=r[Eo],r[Eo]="none"}},So=function(){Eo&&(document.documentElement.style[Eo]=tl,tl=void 0)}}function el(){pt(window,"dragstart",ae)}function nl(){Ot(window,"dragstart",ae)}var ns,il;function rl(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(is(),ns=r,il=r.style.outlineStyle,r.style.outlineStyle="none",pt(window,"keydown",is))}function is(){ns&&(ns.style.outlineStyle=il,ns=void 0,il=void 0,Ot(window,"keydown",is))}function Mp(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ol(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Cb={__proto__:null,TRANSFORM:Kf,TRANSITION:Mo,TRANSITION_END:wp,get:xp,getStyle:To,create:Tt,remove:$t,empty:Qa,toFront:_r,toBack:mr,hasClass:Jf,addClass:mt,removeClass:Ht,setClass:Qf,getClass:ts,setOpacity:qe,testProp:es,setTransform:Si,setPosition:Ut,getPosition:Ei,get disableTextSelection(){return Po},get enableTextSelection(){return So},disableImageDrag:el,enableImageDrag:nl,preventOutline:rl,restoreOutline:is,getSizedParentNode:Mp,getScale:ol};function pt(r,s,h,m){if(s&&typeof s=="object")for(var w in s)sl(r,w,s[w],h);else{s=y(s);for(var S=0,N=s.length;S<N;S++)sl(r,s[S],h,m)}return this}var pn="_leaflet_events";function Ot(r,s,h,m){if(arguments.length===1)Tp(r),delete r[pn];else if(s&&typeof s=="object")for(var w in s)ul(r,w,s[w],h);else if(s=y(s),arguments.length===2)Tp(r,function(F){return M(s,F)!==-1});else for(var S=0,N=s.length;S<N;S++)ul(r,s[S],h,m);return this}function Tp(r,s){for(var h in r[pn]){var m=h.split(/\d/)[0];(!s||s(m))&&ul(r,m,null,null,h)}}var al={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sl(r,s,h,m){var w=s+l(h)+(m?"_"+l(m):"");if(r[pn]&&r[pn][w])return this;var S=function(F){return h.call(m||r,F||window.event)},N=S;!rt.touchNative&&rt.pointer&&s.indexOf("touch")===0?S=bb(r,s,S):rt.touch&&s==="dblclick"?S=kb(r,S):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(al[s]||s,S,rt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(F){F=F||window.event,ll(r,F)&&N(F)},r.addEventListener(al[s],S,!1)):r.addEventListener(s,N,!1):r.attachEvent("on"+s,S),r[pn]=r[pn]||{},r[pn][w]=S}function ul(r,s,h,m,w){w=w||s+l(h)+(m?"_"+l(m):"");var S=r[pn]&&r[pn][w];if(!S)return this;!rt.touchNative&&rt.pointer&&s.indexOf("touch")===0?wb(r,s,S):rt.touch&&s==="dblclick"?Ab(r,S):"removeEventListener"in r?r.removeEventListener(al[s]||s,S,!1):r.detachEvent("on"+s,S),r[pn][w]=null}function ki(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function fl(r){return sl(r,"wheel",ki),this}function ko(r){return pt(r,"mousedown touchstart dblclick contextmenu",ki),r._leaflet_disable_click=!0,this}function ae(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Ai(r){return ae(r),ki(r),this}function Pp(r){if(r.composedPath)return r.composedPath();for(var s=[],h=r.target;h;)s.push(h),h=h.parentNode;return s}function Sp(r,s){if(!s)return new q(r.clientX,r.clientY);var h=ol(s),m=h.boundingClientRect;return new q((r.clientX-m.left)/h.x-s.clientLeft,(r.clientY-m.top)/h.y-s.clientTop)}var Nb=rt.linux&&rt.chrome?window.devicePixelRatio:rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ep(r){return rt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Nb:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ll(r,s){var h=s.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var zb={__proto__:null,on:pt,off:Ot,stopPropagation:ki,disableScrollPropagation:fl,disableClickPropagation:ko,preventDefault:ae,stop:Ai,getPropagationPath:Pp,getMousePosition:Sp,getWheelDelta:Ep,isExternalTarget:ll,addListener:pt,removeListener:Ot},kp=Z.extend({run:function(r,s,h,m){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Ei(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,h=this._duration*1e3;s<h?this._runFrame(this._easeOut(s/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var h=this._startPos.add(this._offset.multiplyBy(r));s&&h._round(),Ut(this._el,h),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),xt=Z.extend({options:{crs:It,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=v(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ot(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mo&&rt.any3d&&!rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pt(this._proxy,wp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,h){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(ot(r),s,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,h.zoom):this._tryAnimatedPan(r,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,h){var m=this.getZoomScale(s),w=this.getSize().divideBy(2),S=r instanceof q?r:this.latLngToContainerPoint(r),N=S.subtract(w).multiplyBy(1-1/m),F=this.containerPointToLatLng(w.add(N));return this.setView(F,s,{zoom:h})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():K(r);var h=U(s.paddingTopLeft||s.padding||[0,0]),m=U(s.paddingBottomRight||s.padding||[0,0]),w=this.getBoundsZoom(r,!1,h.add(m));if(w=typeof s.maxZoom=="number"?Math.min(s.maxZoom,w):w,w===1/0)return{center:r.getCenter(),zoom:w};var S=m.subtract(h).divideBy(2),N=this.project(r.getSouthWest(),w),F=this.project(r.getNorthEast(),w),H=this.unproject(N.add(F).divideBy(2).add(S),w);return{center:H,zoom:w}},fitBounds:function(r,s){if(r=K(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,s);return this.setView(h.center,h.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=U(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,h){if(h=h||{},h.animate===!1||!rt.any3d)return this.setView(r,s,h);this._stop();var m=this.project(this.getCenter()),w=this.project(r),S=this.getSize(),N=this._zoom;r=ot(r),s=s===void 0?N:s;var F=Math.max(S.x,S.y),H=F*this.getZoomScale(N,s),G=w.distanceTo(m)||1,Q=1.42,lt=Q*Q;function gt(Wt){var _s=Wt?-1:1,ww=Wt?H:F,xw=H*H-F*F+_s*lt*lt*G*G,Mw=2*ww*lt*G,wl=xw/Mw,u0=Math.sqrt(wl*wl+1)-wl,Tw=u0<1e-9?-18:Math.log(u0);return Tw}function pe(Wt){return(Math.exp(Wt)-Math.exp(-Wt))/2}function Qt(Wt){return(Math.exp(Wt)+Math.exp(-Wt))/2}function Ue(Wt){return pe(Wt)/Qt(Wt)}var ke=gt(0);function xr(Wt){return F*(Qt(ke)/Qt(ke+Q*Wt))}function gw(Wt){return F*(Qt(ke)*Ue(ke+Q*Wt)-pe(ke))/lt}function vw(Wt){return 1-Math.pow(1-Wt,1.5)}var yw=Date.now(),a0=(gt(1)-ke)/Q,bw=h.duration?1e3*h.duration:1e3*a0*.8;function s0(){var Wt=(Date.now()-yw)/bw,_s=vw(Wt)*a0;Wt<=1?(this._flyToFrame=z(s0,this),this._move(this.unproject(m.add(w.subtract(m).multiplyBy(gw(_s)/G)),N),this.getScaleZoom(F/xr(_s),N),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),s0.call(this),this},flyToBounds:function(r,s){var h=this._getBoundsCenterZoom(r,s);return this.flyTo(h.center,h.zoom,s)},setMaxBounds:function(r){return r=K(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,K(r));return h.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var h=U(s.paddingTopLeft||s.padding||[0,0]),m=U(s.paddingBottomRight||s.padding||[0,0]),w=this.project(this.getCenter()),S=this.project(r),N=this.getPixelBounds(),F=X([N.min.add(h),N.max.subtract(m)]),H=F.getSize();if(!F.contains(S)){this._enforcingBounds=!0;var G=S.subtract(F.getCenter()),Q=F.extend(S).getSize().subtract(H);w.x+=G.x<0?-Q.x:Q.x,w.y+=G.y<0?-Q.y:Q.y,this.panTo(this.unproject(w),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=s.divideBy(2).round(),w=h.divideBy(2).round(),S=m.subtract(w);return!S.x&&!S.y?this:(r.animate&&r.pan?this.panBy(S):(r.pan&&this._rawPanBy(S),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),h=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,h,r):navigator.geolocation.getCurrentPosition(s,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,h=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,h=r.coords.longitude,m=new tt(s,h),w=m.toBounds(r.coords.accuracy*2),S=this._locateOptions;if(S.setView){var N=this.getBoundsZoom(w);this.setView(m,S.maxZoom?Math.min(N,S.maxZoom):N)}var F={latlng:m,bounds:w,timestamp:r.timestamp};for(var H in r.coords)typeof r.coords[H]=="number"&&(F[H]=r.coords[H]);this.fire("locationfound",F)}},addHandler:function(r,s){if(!s)return this;var h=this[r]=new s(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)$t(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),m=Tt("div",h,s||this._mapPane);return r&&(this._panes[r]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new nt(s,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,h){r=K(r),h=U(h||[0,0]);var m=this.getZoom()||0,w=this.getMinZoom(),S=this.getMaxZoom(),N=r.getNorthWest(),F=r.getSouthEast(),H=this.getSize().subtract(h),G=X(this.project(F,m),this.project(N,m)).getSize(),Q=rt.any3d?this.options.zoomSnap:1,lt=H.x/G.x,gt=H.y/G.y,pe=s?Math.max(lt,gt):Math.min(lt,gt);return m=this.getScaleZoom(pe,m),Q&&(m=Math.round(m/(Q/100))*(Q/100),m=s?Math.ceil(m/Q)*Q:Math.floor(m/Q)*Q),Math.max(w,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var h=this._getTopLeftPoint(r,s);return new V(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var h=this.options.crs;return s=s===void 0?this._zoom:s,h.scale(r)/h.scale(s)},getScaleZoom:function(r,s){var h=this.options.crs;s=s===void 0?this._zoom:s;var m=h.zoom(r*h.scale(s));return isNaN(m)?1/0:m},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ot(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(U(r),s)},layerPointToLatLng:function(r){var s=U(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(ot(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ot(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(K(r))},distance:function(r,s){return this.options.crs.distance(ot(r),ot(s))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ot(r)))},mouseEventToContainerPoint:function(r){return Sp(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=xp(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pt(s,"scroll",this._onScroll,this),this._containerId=l(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&rt.any3d,mt(r,"leaflet-container"+(rt.touch?" leaflet-touch":"")+(rt.retina?" leaflet-retina":"")+(rt.ielt9?" leaflet-oldie":"")+(rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=To(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(r.markerPane,"leaflet-zoom-hide"),mt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,h){Ut(this._mapPane,new q(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var w=this._zoom!==s;this._moveStart(w,h)._move(r,s)._moveEnd(w),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,h,m){s===void 0&&(s=this._zoom);var w=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),m?h&&h.pinch&&this.fire("zoom",h):((w||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ut(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[l(this._container)]=this;var s=r?Ot:pt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),rt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var h=[],m,w=s==="mouseout"||s==="mouseover",S=r.target||r.srcElement,N=!1;S;){if(m=this._targets[l(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){N=!0;break}if(m&&m.listens(s,!0)&&(w&&!ll(S,r)||(h.push(m),w))||S===this._container)break;S=S.parentNode}return!h.length&&!N&&!w&&this.listens(s,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var h=r.type;h==="mousedown"&&rl(s),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,h){if(r.type==="click"){var m=o({},r);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var w=this._findEventTargets(r,s);if(h){for(var S=[],N=0;N<h.length;N++)h[N].listens(s,!0)&&S.push(h[N]);w=S.concat(w)}if(w.length){s==="contextmenu"&&ae(r);var F=w[0],H={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=F.getLatLng&&(!F._radius||F._radius<=10);H.containerPoint=G?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(r),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=G?F.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(s,H,!0),H.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&M(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return Ei(this._mapPane)||new q(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var h=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var h=this.getSize()._divideBy(2);return this.project(r,s)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,h){var m=this._getNewPixelOrigin(h,s);return this.project(r,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(r,s,h){var m=this._getNewPixelOrigin(h,s);return X([this.project(r.getSouthWest(),s)._subtract(m),this.project(r.getNorthWest(),s)._subtract(m),this.project(r.getSouthEast(),s)._subtract(m),this.project(r.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,h){if(!h)return r;var m=this.project(r,s),w=this.getSize().divideBy(2),S=new V(m.subtract(w),m.add(w)),N=this._getBoundsOffset(S,h,s);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?r:this.unproject(m.add(N),s)},_limitOffset:function(r,s){if(!s)return r;var h=this.getPixelBounds(),m=new V(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(r,s,h){var m=X(this.project(s.getNorthEast(),h),this.project(s.getSouthWest(),h)),w=m.min.subtract(r.min),S=m.max.subtract(r.max),N=this._rebound(w.x,-S.x),F=this._rebound(w.y,-S.y);return new q(N,F)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),h=this.getMaxZoom(),m=rt.any3d?this.options.zoomSnap:1;return m&&(r=Math.round(r/m)*m),Math.max(s,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var h=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,s),!0)},_createAnimProxy:function(){var r=this._proxy=Tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var h=Kf,m=this._proxy.style[h];Si(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Si(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),w=this._getCenterOffset(r)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(w)?!1:(z(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ib(r,s){return new xt(r,s)}var rn=E.extend({options:{position:"topright"},initialize:function(r){v(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),h=this.getPosition(),m=r._controlCorners[h];return mt(s,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ao=function(r){return new rn(r)};xt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",h=this._controlContainer=Tt("div",s+"control-container",this._container);function m(w,S){var N=s+w+" "+s+S;r[w+S]=Tt("div",N,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)$t(this._controlCorners[r]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ap=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,h,m){return h<m?-1:m<h?1:0}},initialize:function(r,s,h){v(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in r)this._addLayer(r[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return rn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(l(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=Tt("div",r),h=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ko(s),fl(s);var m=this._section=Tt("section",r+"-list");h&&(this._map.on("click",this.collapse,this),pt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Tt("a",r+"-toggle",s);w.href="#",w.title="Layers",w.setAttribute("role","button"),pt(w,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){ae(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Tt("div",r+"-base",m),this._separator=Tt("div",r+"-separator",m),this._overlaysList=Tt("div",r+"-overlays",m),s.appendChild(m)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&l(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:h}),this.options.sortLayers&&this._layers.sort(u(function(m,w){return this.options.sortFunction(m.layer,w.layer,m.name,w.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qa(this._baseLayersList),Qa(this._overlaysList),this._layerControlInputs=[];var r,s,h,m,w=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),s=s||m.overlay,r=r||!m.overlay,w+=m.overlay?0:1;return this.options.hideSingleBase&&(r=r&&w>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(l(r.target)),h=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,s)},_createRadioElement:function(r,s){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(r){var s=document.createElement("label"),h=this._map.hasLayer(r.layer),m;r.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+l(this),h),this._layerControlInputs.push(m),m.layerId=l(r.layer),pt(m,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+r.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(w);var N=r.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,h,m=[],w=[];this._handlingClick=!0;for(var S=r.length-1;S>=0;S--)s=r[S],h=this._getLayer(s.layerId).layer,s.checked?m.push(h):s.checked||w.push(h);for(S=0;S<w.length;S++)this._map.hasLayer(w[S])&&this._map.removeLayer(w[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,h,m=this._map.getZoom(),w=r.length-1;w>=0;w--)s=r[w],h=this._getLayer(s.layerId).layer,s.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,pt(r,"click",ae),this.expand();var s=this;setTimeout(function(){Ot(r,"click",ae),s._preventClick=!1})}}),Ob=function(r,s,h){return new Ap(r,s,h)},cl=rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",h=Tt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,h,m,w){var S=Tt("a",h,m);return S.innerHTML=r,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),ko(S),pt(S,"click",Ai),pt(S,"click",w,this),pt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Ht(this._zoomInButton,s),Ht(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(mt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(mt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cl,this.addControl(this.zoomControl))});var Rb=function(r){return new cl(r)},Lp=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",h=Tt("div",s),m=this.options;return this._addScales(m,s+"-line",h),r.on(m.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,h){r.metric&&(this._mScale=Tt("div",s,h)),r.imperial&&(this._iScale=Tt("div",s,h))},_update:function(){var r=this._map,s=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),h=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,h,s/r)},_updateImperial:function(r){var s=r*3.2808399,h,m,w;s>5280?(h=s/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(w=this._getRoundNum(s),this._updateScale(this._iScale,w+" ft",w/s))},_updateScale:function(r,s,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),h=r/s;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,s*h}}),$b=function(r){return new Lp(r)},Bb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hl=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(rt.inlineSvg?Bb+" ":"")+"Leaflet</a>"},initialize:function(r){v(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Tt("div","leaflet-control-attribution"),ko(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new hl().addTo(this)});var Db=function(r){return new hl(r)};rn.Layers=Ap,rn.Zoom=cl,rn.Scale=Lp,rn.Attribution=hl,Ao.layers=Ob,Ao.zoom=Rb,Ao.scale=$b,Ao.attribution=Db;var _n=E.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(r,s){return r.addHandler(s,this),this};var Zb={Events:C},Cp=rt.touch?"touchstart mousedown":"mousedown",Qn=Z.extend({options:{clickTolerance:3},initialize:function(r,s,h,m){v(this,m),this._element=r,this._dragStartTarget=s||r,this._preventOutline=h},enable:function(){this._enabled||(pt(this._dragStartTarget,Cp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qn._dragging===this&&this.finishDrag(!0),Ot(this._dragStartTarget,Cp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Jf(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Qn._dragging===this&&this.finishDrag();return}if(!(Qn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Qn._dragging=this,this._preventOutline&&rl(this._element),el(),Po(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,h=Mp(this._element);this._startPoint=new q(s.clientX,s.clientY),this._startPos=Ei(this._element),this._parentScale=ol(h);var m=r.type==="mousedown";pt(document,m?"mousemove":"touchmove",this._onMove,this),pt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,h=new q(s.clientX,s.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ae(r),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ut(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ot(document,"mousemove touchmove",this._onMove,this),Ot(document,"mouseup touchend touchcancel",this._onUp,this),nl(),So();var s=this._moved&&this._moving;this._moving=!1,Qn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Np(r,s,h){var m,w=[1,4,2,8],S,N,F,H,G,Q,lt,gt;for(S=0,Q=r.length;S<Q;S++)r[S]._code=Li(r[S],s);for(F=0;F<4;F++){for(lt=w[F],m=[],S=0,Q=r.length,N=Q-1;S<Q;N=S++)H=r[S],G=r[N],H._code&lt?G._code&lt||(gt=rs(G,H,lt,s,h),gt._code=Li(gt,s),m.push(gt)):(G._code&lt&&(gt=rs(G,H,lt,s,h),gt._code=Li(gt,s),m.push(gt)),m.push(H));r=m}return r}function zp(r,s){var h,m,w,S,N,F,H,G,Q;if(!r||r.length===0)throw new Error("latlngs not passed");He(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var lt=ot([0,0]),gt=K(r),pe=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());pe<1700&&(lt=dl(r));var Qt=r.length,Ue=[];for(h=0;h<Qt;h++){var ke=ot(r[h]);Ue.push(s.project(ot([ke.lat-lt.lat,ke.lng-lt.lng])))}for(F=H=G=0,h=0,m=Qt-1;h<Qt;m=h++)w=Ue[h],S=Ue[m],N=w.y*S.x-S.y*w.x,H+=(w.x+S.x)*N,G+=(w.y+S.y)*N,F+=N*3;F===0?Q=Ue[0]:Q=[H/F,G/F];var xr=s.unproject(U(Q));return ot([xr.lat+lt.lat,xr.lng+lt.lng])}function dl(r){for(var s=0,h=0,m=0,w=0;w<r.length;w++){var S=ot(r[w]);s+=S.lat,h+=S.lng,m++}return ot([s/m,h/m])}var Fb={__proto__:null,clipPolygon:Np,polygonCenter:zp,centroid:dl};function Ip(r,s){if(!s||!r.length)return r.slice();var h=s*s;return r=Ub(r,h),r=Hb(r,h),r}function Op(r,s,h){return Math.sqrt(Lo(r,s,h,!0))}function qb(r,s,h){return Lo(r,s,h)}function Hb(r,s){var h=r.length,m=typeof Uint8Array<"u"?Uint8Array:Array,w=new m(h);w[0]=w[h-1]=1,pl(r,w,s,0,h-1);var S,N=[];for(S=0;S<h;S++)w[S]&&N.push(r[S]);return N}function pl(r,s,h,m,w){var S=0,N,F,H;for(F=m+1;F<=w-1;F++)H=Lo(r[F],r[m],r[w],!0),H>S&&(N=F,S=H);S>h&&(s[N]=1,pl(r,s,h,m,N),pl(r,s,h,N,w))}function Ub(r,s){for(var h=[r[0]],m=1,w=0,S=r.length;m<S;m++)Wb(r[m],r[w])>s&&(h.push(r[m]),w=m);return w<S-1&&h.push(r[S-1]),h}var Rp;function $p(r,s,h,m,w){var S=m?Rp:Li(r,h),N=Li(s,h),F,H,G;for(Rp=N;;){if(!(S|N))return[r,s];if(S&N)return!1;F=S||N,H=rs(r,s,F,h,w),G=Li(H,h),F===S?(r=H,S=G):(s=H,N=G)}}function rs(r,s,h,m,w){var S=s.x-r.x,N=s.y-r.y,F=m.min,H=m.max,G,Q;return h&8?(G=r.x+S*(H.y-r.y)/N,Q=H.y):h&4?(G=r.x+S*(F.y-r.y)/N,Q=F.y):h&2?(G=H.x,Q=r.y+N*(H.x-r.x)/S):h&1&&(G=F.x,Q=r.y+N*(F.x-r.x)/S),new q(G,Q,w)}function Li(r,s){var h=0;return r.x<s.min.x?h|=1:r.x>s.max.x&&(h|=2),r.y<s.min.y?h|=4:r.y>s.max.y&&(h|=8),h}function Wb(r,s){var h=s.x-r.x,m=s.y-r.y;return h*h+m*m}function Lo(r,s,h,m){var w=s.x,S=s.y,N=h.x-w,F=h.y-S,H=N*N+F*F,G;return H>0&&(G=((r.x-w)*N+(r.y-S)*F)/H,G>1?(w=h.x,S=h.y):G>0&&(w+=N*G,S+=F*G)),N=r.x-w,F=r.y-S,m?N*N+F*F:new q(w,S)}function He(r){return!T(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Bp(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),He(r)}function Dp(r,s){var h,m,w,S,N,F,H,G;if(!r||r.length===0)throw new Error("latlngs not passed");He(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Q=ot([0,0]),lt=K(r),gt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());gt<1700&&(Q=dl(r));var pe=r.length,Qt=[];for(h=0;h<pe;h++){var Ue=ot(r[h]);Qt.push(s.project(ot([Ue.lat-Q.lat,Ue.lng-Q.lng])))}for(h=0,m=0;h<pe-1;h++)m+=Qt[h].distanceTo(Qt[h+1])/2;if(m===0)G=Qt[0];else for(h=0,S=0;h<pe-1;h++)if(N=Qt[h],F=Qt[h+1],w=N.distanceTo(F),S+=w,S>m){H=(S-m)/w,G=[F.x-H*(F.x-N.x),F.y-H*(F.y-N.y)];break}var ke=s.unproject(U(G));return ot([ke.lat+Q.lat,ke.lng+Q.lng])}var Yb={__proto__:null,simplify:Ip,pointToSegmentDistance:Op,closestPointOnSegment:qb,clipSegment:$p,_getEdgeIntersection:rs,_getBitCode:Li,_sqClosestPointOnSegment:Lo,isFlat:He,_flat:Bp,polylineCenter:Dp},_l={project:function(r){return new q(r.lng,r.lat)},unproject:function(r){return new tt(r.y,r.x)},bounds:new V([-180,-90],[180,90])},ml={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,h=this.R,m=r.lat*s,w=this.R_MINOR/h,S=Math.sqrt(1-w*w),N=S*Math.sin(m),F=Math.tan(Math.PI/4-m/2)/Math.pow((1-N)/(1+N),S/2);return m=-h*Math.log(Math.max(F,1e-10)),new q(r.lng*s*h,m)},unproject:function(r){for(var s=180/Math.PI,h=this.R,m=this.R_MINOR/h,w=Math.sqrt(1-m*m),S=Math.exp(-r.y/h),N=Math.PI/2-2*Math.atan(S),F=0,H=.1,G;F<15&&Math.abs(H)>1e-7;F++)G=w*Math.sin(N),G=Math.pow((1-G)/(1+G),w/2),H=Math.PI/2-2*Math.atan(S*G)-N,N+=H;return new tt(N*s,r.x*s/h)}},Gb={__proto__:null,LonLat:_l,Mercator:ml,SphericalMercator:ft},Vb=o({},kt,{code:"EPSG:3395",projection:ml,transformation:function(){var r=.5/(Math.PI*ml.R);return j(r,.5,-r,.5)}()}),Zp=o({},kt,{code:"EPSG:4326",projection:_l,transformation:j(1/180,1,-1/180,.5)}),jb=o({},ht,{projection:_l,transformation:j(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var h=s.lng-r.lng,m=s.lat-r.lat;return Math.sqrt(h*h+m*m)},infinite:!0});ht.Earth=kt,ht.EPSG3395=Vb,ht.EPSG3857=It,ht.EPSG900913=Et,ht.EPSG4326=Zp,ht.Simple=jb;var on=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[l(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[l(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var h=this.getEvents();s.on(h,this),this.once("remove",function(){s.off(h,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=l(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=l(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return l(r)in this._layers},eachLayer:function(r,s){for(var h in this._layers)r.call(s,this._layers[h]);return this},_addLayers:function(r){r=r?T(r)?r:[r]:[];for(var s=0,h=r.length;s<h;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[l(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=l(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var w=this._zoomBoundLayers[m].options;r=w.minZoom===void 0?r:Math.min(r,w.minZoom),s=w.maxZoom===void 0?s:Math.max(s,w.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gr=on.extend({initialize:function(r,s){v(this,s),this._layers={};var h,m;if(r)for(h=0,m=r.length;h<m;h++)this.addLayer(r[h])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[r]&&m[r].apply(m,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var h in this._layers)r.call(s,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return l(r)}}),Xb=function(r,s){return new gr(r,s)},Cn=gr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),gr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),gr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new nt;for(var s in this._layers){var h=this._layers[s];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Kb=function(r,s){return new Cn(r,s)},vr=E.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){v(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(r,s){var h=this.options,m=h[s+"Size"];typeof m=="number"&&(m=[m,m]);var w=U(m),S=U(s==="shadow"&&h.shadowAnchor||h.iconAnchor||w&&w.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(h.className||""),S&&(r.style.marginLeft=-S.x+"px",r.style.marginTop=-S.y+"px"),w&&(r.style.width=w.x+"px",r.style.height=w.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return rt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Jb(r){return new vr(r)}var Co=vr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Co.imagePath!="string"&&(Co.imagePath=this._detectIconPath()),(this.options.imagePath||Co.imagePath)+vr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(h,m,w){var S=m.exec(h);return S&&S[w]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Tt("div","leaflet-default-icon-path",document.body),s=To(r,"background-image")||To(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Fp=_n.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Qn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,h=s._map,m=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,S=Ei(s._icon),N=h.getPixelBounds(),F=h.getPixelOrigin(),H=X(N.min._subtract(F).add(w),N.max._subtract(F).subtract(w));if(!H.contains(S)){var G=U((Math.max(H.max.x,S.x)-H.max.x)/(N.max.x-H.max.x)-(Math.min(H.min.x,S.x)-H.min.x)/(N.min.x-H.min.x),(Math.max(H.max.y,S.y)-H.max.y)/(N.max.y-H.max.y)-(Math.min(H.min.y,S.y)-H.min.y)/(N.min.y-H.min.y)).multiplyBy(m);h.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Ut(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=z(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,h=s._shadow,m=Ei(s._icon),w=s._map.layerPointToLatLng(m);h&&Ut(h,m),s._latlng=w,r.latlng=w,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),os=on.extend({options:{icon:new Co,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){v(this,s),this._latlng=ot(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=ot(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),mt(h,s),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(h,"focus",this._panOnFocus,this);var w=r.icon.createShadow(this._shadow),S=!1;w!==this._shadow&&(this._removeShadow(),S=!0),w&&(mt(w,s),w.alt=""),this._shadow=w,r.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&S&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ut(this._icon,r),this._shadow&&Ut(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&qe(this._icon,r),this._shadow&&qe(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,h=s.iconSize?U(s.iconSize):U(0,0),m=s.iconAnchor?U(s.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qb(r,s){return new os(r,s)}var ti=on.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return v(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),as=ti.extend({options:{fill:!0,radius:10},initialize:function(r,s){v(this,s),this._latlng=ot(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=ot(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return ti.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,h=this._clickTolerance(),m=[r+h,s+h];this._pxBounds=new V(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tw(r,s){return new as(r,s)}var gl=as.extend({initialize:function(r,s,h){if(typeof s=="number"&&(s=o({},h,{radius:s})),v(this,s),this._latlng=ot(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new nt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:ti.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===kt.distance){var w=Math.PI/180,S=this._mRadius/kt.R/w,N=h.project([s+S,r]),F=h.project([s-S,r]),H=N.add(F).divideBy(2),G=h.unproject(H).lat,Q=Math.acos((Math.cos(S*w)-Math.sin(s*w)*Math.sin(G*w))/(Math.cos(s*w)*Math.cos(G*w)))/w;(isNaN(Q)||Q===0)&&(Q=S/Math.cos(Math.PI/180*s)),this._point=H.subtract(h.getPixelOrigin()),this._radius=isNaN(Q)?0:H.x-h.project([G,r-Q]).x,this._radiusY=H.y-N.y}else{var lt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(lt).x}this._updateBounds()}});function ew(r,s,h){return new gl(r,s,h)}var Nn=ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){v(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,h=null,m=Lo,w,S,N=0,F=this._parts.length;N<F;N++)for(var H=this._parts[N],G=1,Q=H.length;G<Q;G++){w=H[G-1],S=H[G];var lt=m(r,w,S,!0);lt<s&&(s=lt,h=m(r,w,S))}return h&&(h.distance=Math.sqrt(s)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=ot(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new nt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return He(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],h=He(r),m=0,w=r.length;m<w;m++)h?(s[m]=ot(r[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(r[m]);return s},_project:function(){var r=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new q(r,r);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,h){var m=r[0]instanceof tt,w=r.length,S,N;if(m){for(N=[],S=0;S<w;S++)N[S]=this._map.latLngToLayerPoint(r[S]),h.extend(N[S]);s.push(N)}else for(S=0;S<w;S++)this._projectLatlngs(r[S],s,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,h,m,w,S,N,F,H;for(h=0,w=0,S=this._rings.length;h<S;h++)for(H=this._rings[h],m=0,N=H.length;m<N-1;m++)F=$p(H[m],H[m+1],r,m,!0),F&&(s[w]=s[w]||[],s[w].push(F[0]),(F[1]!==H[m+1]||m===N-2)&&(s[w].push(F[1]),w++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,h=0,m=r.length;h<m;h++)r[h]=Ip(r[h],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var h,m,w,S,N,F,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,S=this._parts.length;h<S;h++)for(F=this._parts[h],m=0,N=F.length,w=N-1;m<N;w=m++)if(!(!s&&m===0)&&Op(r,F[w],F[m])<=H)return!0;return!1}});function nw(r,s){return new Nn(r,s)}Nn._flat=Bp;var yr=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Nn.prototype._convertLatLngs.call(this,r),h=s.length;return h>=2&&s[0]instanceof tt&&s[0].equals(s[h-1])&&s.pop(),s},_setLatLngs:function(r){Nn.prototype._setLatLngs.call(this,r),He(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return He(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,h=new q(s,s);if(r=new V(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,w=this._rings.length,S;m<w;m++)S=Np(this._rings[m],r,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,h,m,w,S,N,F,H,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(S=0,H=this._parts.length;S<H;S++)for(h=this._parts[S],N=0,G=h.length,F=G-1;N<G;F=N++)m=h[N],w=h[F],m.y>r.y!=w.y>r.y&&r.x<(w.x-m.x)*(r.y-m.y)/(w.y-m.y)+m.x&&(s=!s);return s||Nn.prototype._containsPoint.call(this,r,!0)}});function iw(r,s){return new yr(r,s)}var zn=Cn.extend({initialize:function(r,s){v(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=T(r)?r:r.features,h,m,w;if(s){for(h=0,m=s.length;h<m;h++)w=s[h],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var S=this.options;if(S.filter&&!S.filter(r))return this;var N=ss(r,S);return N?(N.feature=ls(r),N.defaultOptions=N.options,this.resetStyle(N),S.onEachFeature&&S.onEachFeature(r,N),this.addLayer(N)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function ss(r,s){var h=r.type==="Feature"?r.geometry:r,m=h?h.coordinates:null,w=[],S=s&&s.pointToLayer,N=s&&s.coordsToLatLng||vl,F,H,G,Q;if(!m&&!h)return null;switch(h.type){case"Point":return F=N(m),qp(S,r,F,s);case"MultiPoint":for(G=0,Q=m.length;G<Q;G++)F=N(m[G]),w.push(qp(S,r,F,s));return new Cn(w);case"LineString":case"MultiLineString":return H=us(m,h.type==="LineString"?0:1,N),new Nn(H,s);case"Polygon":case"MultiPolygon":return H=us(m,h.type==="Polygon"?1:2,N),new yr(H,s);case"GeometryCollection":for(G=0,Q=h.geometries.length;G<Q;G++){var lt=ss({geometry:h.geometries[G],type:"Feature",properties:r.properties},s);lt&&w.push(lt)}return new Cn(w);case"FeatureCollection":for(G=0,Q=h.features.length;G<Q;G++){var gt=ss(h.features[G],s);gt&&w.push(gt)}return new Cn(w);default:throw new Error("Invalid GeoJSON object.")}}function qp(r,s,h,m){return r?r(s,h):new os(h,m&&m.markersInheritOptions&&m)}function vl(r){return new tt(r[1],r[0],r[2])}function us(r,s,h){for(var m=[],w=0,S=r.length,N;w<S;w++)N=s?us(r[w],s-1,h):(h||vl)(r[w]),m.push(N);return m}function yl(r,s){return r=ot(r),r.alt!==void 0?[p(r.lng,s),p(r.lat,s),p(r.alt,s)]:[p(r.lng,s),p(r.lat,s)]}function fs(r,s,h,m){for(var w=[],S=0,N=r.length;S<N;S++)w.push(s?fs(r[S],He(r[S])?0:s-1,h,m):yl(r[S],m));return!s&&h&&w.length>0&&w.push(w[0].slice()),w}function br(r,s){return r.feature?o({},r.feature,{geometry:s}):ls(s)}function ls(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var bl={toGeoJSON:function(r){return br(this,{type:"Point",coordinates:yl(this.getLatLng(),r)})}};os.include(bl),gl.include(bl),as.include(bl),Nn.include({toGeoJSON:function(r){var s=!He(this._latlngs),h=fs(this._latlngs,s?1:0,!1,r);return br(this,{type:(s?"Multi":"")+"LineString",coordinates:h})}}),yr.include({toGeoJSON:function(r){var s=!He(this._latlngs),h=s&&!He(this._latlngs[0]),m=fs(this._latlngs,h?2:s?1:0,!0,r);return s||(m=[m]),br(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),gr.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(h){s.push(h.toGeoJSON(r).geometry.coordinates)}),br(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var h=s==="GeometryCollection",m=[];return this.eachLayer(function(w){if(w.toGeoJSON){var S=w.toGeoJSON(r);if(h)m.push(S.geometry);else{var N=ls(S);N.type==="FeatureCollection"?m.push.apply(m,N.features):m.push(N)}}}),h?br(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Hp(r,s){return new zn(r,s)}var rw=Hp,cs=on.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,h){this._url=r,this._bounds=K(s),v(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_r(this._image),this},bringToBack:function(){return this._map&&mr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=K(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:Tt("img");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Si(this._image,h,s)},_reset:function(){var r=this._image,s=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=s.getSize();Ut(r,s.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ow=function(r,s,h){return new cs(r,s,h)},Up=cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:Tt("video");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),r){for(var h=s.getElementsByTagName("source"),m=[],w=0;w<h.length;w++)m.push(h[w].src);this._url=h.length>0?m:[s.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var N=Tt("source");N.src=this._url[S],s.appendChild(N)}}});function aw(r,s,h){return new Up(r,s,h)}var Wp=cs.extend({_initImage:function(){var r=this._image=this._url;mt(r,"leaflet-image-layer"),this._zoomAnimated&&mt(r,"leaflet-zoom-animated"),this.options.className&&mt(r,this.options.className),r.onselectstart=_,r.onmousemove=_}});function sw(r,s,h){return new Wp(r,s,h)}var mn=on.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof tt||T(r))?(this._latlng=ot(r),v(this,s)):(v(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&qe(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(qe(this._container,0),this._removeTimeout=setTimeout(u($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ot(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_r(this._container),this},bringToBack:function(){return this._map&&mr(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Cn){s=null;var h=this._source._layers;for(var m in h)if(h[m]._map){s=h[m];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=U(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ut(this._container,r.add(h)):s=s.add(r).add(h);var m=this._containerBottom=-s.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(r,s,h,m){var w=s;return w instanceof r||(w=new r(m).setContent(s)),h&&w.setLatLng(h),w}}),on.include({_initOverlay:function(r,s,h,m){var w=h;return w instanceof r?(v(w,m),w._source=this):(w=s&&!m?s:new r(m,this),w.setContent(h)),w}});var hs=mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,mn.prototype.openOn.call(this,r)},onAdd:function(r){mn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ti||this._source.on("preclick",ki))},onRemove:function(r){mn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ti||this._source.off("preclick",ki))},getEvents:function(){var r=mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=Tt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Tt("div",r+"-content-wrapper",s);if(this._contentNode=Tt("div",r+"-content",h),ko(s),fl(this._contentNode),pt(s,"contextmenu",ki),this._tipContainer=Tt("div",r+"-tip-container",s),this._tip=Tt("div",r+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Tt("a",r+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',pt(m,"click",function(w){ae(w),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),s.width=h+1+"px",s.whiteSpace="",s.height="";var m=r.offsetHeight,w=this.options.maxHeight,S="leaflet-popup-scrolled";w&&m>w?(s.height=w+"px",mt(r,S)):Ht(r,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();Ut(this._container,s.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(To(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+s,m=this._containerWidth,w=new q(this._containerLeft,-h-this._containerBottom);w._add(Ei(this._container));var S=r.layerPointToContainerPoint(w),N=U(this.options.autoPanPadding),F=U(this.options.autoPanPaddingTopLeft||N),H=U(this.options.autoPanPaddingBottomRight||N),G=r.getSize(),Q=0,lt=0;S.x+m+H.x>G.x&&(Q=S.x+m-G.x+H.x),S.x-Q-F.x<0&&(Q=S.x-F.x),S.y+h+H.y>G.y&&(lt=S.y+h-G.y+H.y),S.y-lt-F.y<0&&(lt=S.y-F.y),(Q||lt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Q,lt]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),uw=function(r,s){return new hs(r,s)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(r,s,h){return this._initOverlay(hs,r,s,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),on.include({bindPopup:function(r,s){return this._popup=this._initOverlay(hs,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Cn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Ai(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ds=mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){mn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){mn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=mn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Tt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,h,m=this._map,w=this._container,S=m.latLngToContainerPoint(m.getCenter()),N=m.layerPointToContainerPoint(r),F=this.options.direction,H=w.offsetWidth,G=w.offsetHeight,Q=U(this.options.offset),lt=this._getAnchor();F==="top"?(s=H/2,h=G):F==="bottom"?(s=H/2,h=0):F==="center"?(s=H/2,h=G/2):F==="right"?(s=0,h=G/2):F==="left"?(s=H,h=G/2):N.x<S.x?(F="right",s=0,h=G/2):(F="left",s=H+(Q.x+lt.x)*2,h=G/2),r=r.subtract(U(s,h,!0)).add(Q).add(lt),Ht(w,"leaflet-tooltip-right"),Ht(w,"leaflet-tooltip-left"),Ht(w,"leaflet-tooltip-top"),Ht(w,"leaflet-tooltip-bottom"),mt(w,"leaflet-tooltip-"+F),Ut(w,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&qe(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fw=function(r,s){return new ds(r,s)};xt.include({openTooltip:function(r,s,h){return this._initOverlay(ds,r,s,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),on.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ds,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[s](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Cn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(pt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),pt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,h,m;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),m=this._map.containerPointToLayerPoint(h),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Yp=vr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Qa(s),s.appendChild(h.html)):s.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=U(h.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function lw(r){return new Yp(r)}vr.Default=Co;var No=on.extend({options:{tileSize:256,opacity:1,updateWhenIdle:rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){v(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),$t(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof q?r:new q(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,h=-r(-1/0,1/0),m=0,w=s.length,S;m<w;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(h=r(h,+S));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rt.ielt9){qe(this._container,this.options.opacity);var r=+new Date,s=!1,h=!1;for(var m in this._tiles){var w=this._tiles[m];if(!(!w.current||!w.loaded)){var S=Math.min(1,(r-w.loaded)/200);qe(w.el,S),S<1?s=!0:(w.active?h=!0:this._onOpaqueTile(w),w.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),s&&(W(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=s-Math.abs(r-h),this._onUpdateLevel(h)):($t(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[r],w=this._map;return m||(m=this._levels[r]={},m.el=Tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=w.project(w.unproject(w.getPixelOrigin()),r).round(),m.zoom=r,this._setZoomTransform(m,w.getCenter(),w.getZoom()),_(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var r,s,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)$t(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,h,m){var w=Math.floor(r/2),S=Math.floor(s/2),N=h-1,F=new q(+w,+S);F.z=+N;var H=this._tileCoordsToKey(F),G=this._tiles[H];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),N>m?this._retainParent(w,S,N,m):!1)},_retainChildren:function(r,s,h,m){for(var w=2*r;w<2*r+2;w++)for(var S=2*s;S<2*s+2;S++){var N=new q(w,S);N.z=h+1;var F=this._tileCoordsToKey(N),H=this._tiles[F];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);h+1<m&&this._retainChildren(w,S,h+1,m)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,h,m){var w=Math.round(s);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var S=this.options.updateWhenZooming&&w!==this._tileZoom;(!m||S)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,s)},_setZoomTransform:function(r,s,h){var m=this._map.getZoomScale(h,r.zoom),w=r.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,h)).round();rt.any3d?Si(r.el,w,m):Ut(r.el,w)},_resetGrid:function(){var r=this._map,s=r.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],m).x/h.x),Math.ceil(r.project([0,s.wrapLng[1]],m).x/h.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],m).y/h.x),Math.ceil(r.project([s.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,h=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(h,this._tileZoom),w=s.project(r,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new V(w.subtract(S),w.add(S))},_update:function(r){var s=this._map;if(s){var h=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(r),w=this._pxBoundsToTileRange(m),S=w.getCenter(),N=[],F=this.options.keepBuffer,H=new V(w.getBottomLeft().subtract([F,-F]),w.getTopRight().add([F,-F]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var Q=this._tiles[G].coords;(Q.z!==this._tileZoom||!H.contains(new q(Q.x,Q.y)))&&(this._tiles[G].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var lt=w.min.y;lt<=w.max.y;lt++)for(var gt=w.min.x;gt<=w.max.x;gt++){var pe=new q(gt,lt);if(pe.z=this._tileZoom,!!this._isValidTile(pe)){var Qt=this._tiles[this._tileCoordsToKey(pe)];Qt?Qt.current=!0:N.push(pe)}}if(N.sort(function(ke,xr){return ke.distanceTo(S)-xr.distanceTo(S)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ue=document.createDocumentFragment();for(gt=0;gt<N.length;gt++)this._addTile(N[gt],Ue);this._level.el.appendChild(Ue)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var h=this._globalTileRange;if(!s.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!s.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(r);return K(this.options.bounds).overlaps(m)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,h=this.getTileSize(),m=r.scaleBy(h),w=m.add(h),S=s.unproject(m,r.z),N=s.unproject(w,r.z);return[S,N]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),h=new nt(s[0],s[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),h=new q(+s[0],+s[1]);return h.z=+s[2],h},_removeTile:function(r){var s=this._tiles[r];s&&($t(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){mt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=_,r.onmousemove=_,rt.ielt9&&this.options.opacity<1&&qe(r,this.options.opacity)},_addTile:function(r,s){var h=this._getTilePos(r),m=this._tileCoordsToKey(r),w=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(w),this.createTile.length<2&&z(u(this._tileReady,this,r,null,w)),Ut(w,h),this._tiles[m]={el:w,coords:r,current:!0},s.appendChild(w),this.fire("tileloadstart",{tile:w,coords:r})},_tileReady:function(r,s,h){s&&this.fire("tileerror",{error:s,tile:h,coords:r});var m=this._tileCoordsToKey(r);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(qe(h.el,0),W(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),s||(mt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rt.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new q(this._wrapX?d(r.x,this._wrapX):r.x,this._wrapY?d(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new V(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function cw(r){return new No(r)}var wr=No.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=v(this,s),s.detectRetina&&rt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var h=document.createElement("img");return pt(h,"load",u(this._tileOnLoad,this,s,h)),pt(h,"error",u(this._tileOnError,this,s,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var s={r:rt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=h),s["-y"]=h}return P(this._url,o(s,this.options))},_tileOnLoad:function(r,s){rt.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,h){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),r(h,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(r=s-r),r+m},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=_,s.onerror=_,!s.complete)){s.src=k;var h=this._tiles[r].coords;$t(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:h})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",k),No.prototype._removeTile.call(this,r)},_tileReady:function(r,s,h){if(!(!this._map||h&&h.getAttribute("src")===k))return No.prototype._tileReady.call(this,r,s,h)}});function Gp(r,s){return new wr(r,s)}var Vp=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var h=o({},this.defaultWmsParams);for(var m in s)m in this.options||(h[m]=s[m]);s=v(this,s);var w=s.detectRetina&&rt.retina?2:1,S=this.getTileSize();h.width=S.x*w,h.height=S.y*w,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,wr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),h=this._crs,m=X(h.project(s[0]),h.project(s[1])),w=m.min,S=m.max,N=(this._wmsVersion>=1.3&&this._crs===Zp?[w.y,w.x,S.y,S.x]:[w.x,w.y,S.x,S.y]).join(","),F=wr.prototype.getTileUrl.call(this,r);return F+b(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function hw(r,s){return new Vp(r,s)}wr.WMS=Vp,Gp.wms=hw;var In=on.extend({options:{padding:.1},initialize:function(r){v(this,r),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var h=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,s),S=m.multiplyBy(-h).add(w).subtract(this._map._getNewPixelOrigin(r,s));rt.any3d?Si(this._container,S,h):Ut(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),h=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new V(h,h.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jp=In.extend({options:{tolerance:0},getEvents:function(){var r=In.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){In.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");pt(r,"mousemove",this._onMouseMove,this),pt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,$t(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){In.prototype._update.call(this);var r=this._bounds,s=this._container,h=r.getSize(),m=rt.retina?2:1;Ut(s,r.min),s.width=m*h.x,s.height=m*h.y,s.style.width=h.x+"px",s.style.height=h.y+"px",rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){In.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[l(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,h=s.next,m=s.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete r._order,delete this._layers[l(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),h=[],m,w;for(w=0;w<s.length;w++){if(m=Number(s[w]),isNaN(m))return;h.push(m)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var h=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)r=m.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var h,m,w,S,N=r._parts,F=N.length,H=this._ctx;if(F){for(H.beginPath(),h=0;h<F;h++){for(m=0,w=N[h].length;m<w;m++)S=N[h][m],H[m?"lineTo":"moveTo"](S.x,S.y);s&&H.closePath()}this._fillStroke(H,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,h=this._ctx,m=Math.max(Math.round(r._radius),1),w=(Math.max(Math.round(r._radiusY),1)||m)/m;w!==1&&(h.save(),h.scale(1,w)),h.beginPath(),h.arc(s.x,s.y/w,m,0,Math.PI*2,!1),w!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,s){var h=s.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),h,m,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var h,m,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(s)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(r),m&&(mt(this._container,"leaflet-interactive"),this._fireEvent([m],r,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,h){this._map._fireDOMEvent(s,h||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var h=s.next,m=s.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var h=s.next,m=s.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Xp(r){return rt.canvas?new jp(r):null}var zo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dw={_initContainer:function(){this._container=Tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(In.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=zo("shape");mt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=zo("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;$t(s),r.removeInteractiveTarget(s),delete this._layers[l(r)]},_updateStyle:function(r){var s=r._stroke,h=r._fill,m=r.options,w=r._container;w.stroked=!!m.stroke,w.filled=!!m.fill,m.stroke?(s||(s=r._stroke=zo("stroke")),w.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=T(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(w.removeChild(s),r._stroke=null),m.fill?(h||(h=r._fill=zo("fill")),w.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(w.removeChild(h),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),h=Math.round(r._radius),m=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){_r(r._container)},_bringToBack:function(r){mr(r._container)}},ps=rt.vml?zo:Kt,Io=In.extend({_initContainer:function(){this._container=ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){In.prototype._update.call(this);var r=this._bounds,s=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,h.setAttribute("width",s.x),h.setAttribute("height",s.y)),Ut(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=ps("path");r.options.className&&mt(s,r.options.className),r.options.interactive&&mt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){$t(r._path),r.removeInteractiveTarget(r._path),delete this._layers[l(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,h=r.options;s&&(h.stroke?(s.setAttribute("stroke",h.color),s.setAttribute("stroke-opacity",h.opacity),s.setAttribute("stroke-width",h.weight),s.setAttribute("stroke-linecap",h.lineCap),s.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?s.setAttribute("stroke-dasharray",h.dashArray):s.removeAttribute("stroke-dasharray"),h.dashOffset?s.setAttribute("stroke-dashoffset",h.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),h.fill?(s.setAttribute("fill",h.fillColor||h.color),s.setAttribute("fill-opacity",h.fillOpacity),s.setAttribute("fill-rule",h.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Jt(r._parts,s))},_updateCircle:function(r){var s=r._point,h=Math.max(Math.round(r._radius),1),m=Math.max(Math.round(r._radiusY),1)||h,w="a"+h+","+m+" 0 1,0 ",S=r._empty()?"M0 0":"M"+(s.x-h)+","+s.y+w+h*2+",0 "+w+-h*2+",0 ";this._setPath(r,S)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){_r(r._path)},_bringToBack:function(r){mr(r._path)}});rt.vml&&Io.include(dw);function Kp(r){return rt.svg||rt.vml?new Io(r):null}xt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Xp(r)||Kp(r)}});var Jp=yr.extend({initialize:function(r,s){yr.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=K(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function pw(r,s){return new Jp(r,s)}Io.create=ps,Io.pointsToPath=Jt,zn.geometryToLayer=ss,zn.coordsToLatLng=vl,zn.coordsToLatLngs=us,zn.latLngToCoords=yl,zn.latLngsToCoords=fs,zn.getFeature=br,zn.asFeature=ls,xt.mergeOptions({boxZoom:!0});var Qp=_n.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Po(),el(),this._startPoint=this._map.mouseEventToContainerPoint(r),pt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Tt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new V(this._point,this._startPoint),h=s.getSize();Ut(this._box,s.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&($t(this._box),Ht(this._container,"leaflet-crosshair")),So(),nl(),Ot(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new nt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Qp),xt.mergeOptions({doubleClickZoom:!0});var t0=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,h=s.getZoom(),m=s.options.zoomDelta,w=r.originalEvent.shiftKey?h-m:h+m;s.options.doubleClickZoom==="center"?s.setZoom(w):s.setZoomAround(r.containerPoint,w)}});xt.addInitHook("addHandler","doubleClickZoom",t0),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var e0=_n.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Qn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=K(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,w=(m-s+h)%r+s-h,S=(m+s+h)%r-s-h,N=Math.abs(w+h)<Math.abs(S+h)?w:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(r){var s=this._map,h=s.options,m=!h.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),m)s.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,N=h.easeLinearity,F=w.multiplyBy(N/S),H=F.distanceTo([0,0]),G=Math.min(h.inertiaMaxSpeed,H),Q=F.multiplyBy(G/H),lt=G/(h.inertiaDeceleration*N),gt=Q.multiplyBy(-lt/2).round();!gt.x&&!gt.y?s.fire("moveend"):(gt=s._limitOffset(gt,s.options.maxBounds),z(function(){s.panBy(gt,{duration:lt,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",e0),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var n0=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),pt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,h=r.scrollTop||s.scrollTop,m=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},h=this.keyCodes,m,w;for(m=0,w=h.left.length;m<w;m++)s[h.left[m]]=[-1*r,0];for(m=0,w=h.right.length;m<w;m++)s[h.right[m]]=[r,0];for(m=0,w=h.down.length;m<w;m++)s[h.down[m]]=[0,r];for(m=0,w=h.up.length;m<w;m++)s[h.up[m]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},h=this.keyCodes,m,w;for(m=0,w=h.zoomIn.length;m<w;m++)s[h.zoomIn[m]]=r;for(m=0,w=h.zoomOut.length;m<w;m++)s[h.zoomOut[m]]=-r},_addHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,h=this._map,m;if(s in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[s],r.shiftKey&&(m=U(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(U(m),h.options.maxBounds)),h.options.worldCopyJump){var w=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(w)}else h.panBy(m)}else if(s in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ai(r)}}});xt.addInitHook("addHandler","keyboard",n0),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var i0=_n.extend({addHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Ep(r),h=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),m),Ai(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=h?Math.ceil(w/h)*h:w,N=r._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,N&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+N):r.setZoomAround(this._lastMousePos,s+N))}});xt.addInitHook("addHandler","scrollWheelZoom",i0);var _w=600;xt.mergeOptions({tapHold:rt.touchNative&&rt.safari&&rt.mobile,tapTolerance:15});var r0=_n.extend({addHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new q(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(pt(document,"touchend",ae),pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),_w),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ot(document,"touchend",ae),Ot(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new q(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});h._simulated=!0,s.target.dispatchEvent(h)}});xt.addInitHook("addHandler","tapHold",r0),xt.mergeOptions({touchZoom:rt.touch,bounceAtZoomLimits:!0});var o0=_n.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var h=s.mouseEventToContainerPoint(r.touches[0]),m=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),ae(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,h=s.mouseEventToContainerPoint(r.touches[0]),m=s.mouseEventToContainerPoint(r.touches[1]),w=h.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(w,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&w<1||this._zoom>s.getMaxZoom()&&w>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(w===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var N=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(N,this,!0),ae(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",o0),xt.BoxZoom=Qp,xt.DoubleClickZoom=t0,xt.Drag=e0,xt.Keyboard=n0,xt.ScrollWheelZoom=i0,xt.TapHold=r0,xt.TouchZoom=o0,n.Bounds=V,n.Browser=rt,n.CRS=ht,n.Canvas=jp,n.Circle=gl,n.CircleMarker=as,n.Class=E,n.Control=rn,n.DivIcon=Yp,n.DivOverlay=mn,n.DomEvent=zb,n.DomUtil=Cb,n.Draggable=Qn,n.Evented=Z,n.FeatureGroup=Cn,n.GeoJSON=zn,n.GridLayer=No,n.Handler=_n,n.Icon=vr,n.ImageOverlay=cs,n.LatLng=tt,n.LatLngBounds=nt,n.Layer=on,n.LayerGroup=gr,n.LineUtil=Yb,n.Map=xt,n.Marker=os,n.Mixin=Zb,n.Path=ti,n.Point=q,n.PolyUtil=Fb,n.Polygon=yr,n.Polyline=Nn,n.Popup=hs,n.PosAnimation=kp,n.Projection=Gb,n.Rectangle=Jp,n.Renderer=In,n.SVG=Io,n.SVGOverlay=Wp,n.TileLayer=wr,n.Tooltip=ds,n.Transformation=dt,n.Util=D,n.VideoOverlay=Up,n.bind=u,n.bounds=X,n.canvas=Xp,n.circle=ew,n.circleMarker=tw,n.control=Ao,n.divIcon=lw,n.extend=o,n.featureGroup=Kb,n.geoJSON=Hp,n.geoJson=rw,n.gridLayer=cw,n.icon=Jb,n.imageOverlay=ow,n.latLng=ot,n.latLngBounds=K,n.layerGroup=Xb,n.map=Ib,n.marker=Qb,n.point=U,n.polygon=iw,n.polyline=nw,n.popup=uw,n.rectangle=pw,n.setOptions=v,n.stamp=l,n.svg=Kp,n.svgOverlay=sw,n.tileLayer=Gp,n.tooltip=fw,n.transformation=j,n.version=i,n.videoOverlay=aw;var mw=window.L;n.noConflict=function(){return window.L=mw,this},window.L=n})}(sa,sa.exports)),sa.exports}var qL=FL();const fc=DL(qL);var HL=tn('<p class="text-xs mt-4 text-justify"><!></p>'),UL=tn('<div class="fixed inset-0 z-[9999] flex items-center justify-center bg-black/75 p-4 w-screen h-screen"><div class="relative max-w-5xl max-h-full w-full"><button class="absolute top-2 right-2 text-white text-3xl font-bold hover:text-gray-300" aria-label="close">X</button> <img class="w-full h-auto max-h-[80vh] object-contain mx-auto rounded shadow-lg"/> <p class="text-white text-center mt-4 text-sm"><!></p></div></div>'),WL=tn("<button><img/> <!></button> <!>",1);function an(t,e){Ra(e,!1);let n=bs(e,"src",8,""),i=bs(e,"alt",8,""),o=bs(e,"caption",8,""),a=bs(e,"captionShow",8,!0),u=Lh(!1);yx(()=>Yt(u),()=>{Yt(u)?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}),bx();var f=WL(),l=zh(f),c=Lt(l),d=Mt(c,2);{var _=y=>{var v=HL(),b=Lt(v);w0(b,o),Qe(y,v)};bc(d,y=>{a()&&y(_)})}var p=Mt(l,2);{var g=y=>{var v=UL(),b=Lt(v),x=Lt(b),P=Mt(x,2),T=Mt(P,2),M=Lt(T);w0(M,o),Gi(()=>{Vo(P,"src",n()),Vo(P,"alt",i())}),b0("click",x,()=>$e(u,!1)),Qe(y,v)};bc(p,y=>{Yt(u)&&y(g)})}Gi(()=>{Vo(c,"src",n()),Vo(c,"alt",i())}),b0("click",l,()=>$e(u,!0)),Qe(t,f),$a()}var YL=tn('<div class="border-2 p-2"><h3 class="text-lg font-bold"> </h3> <p> </p></div>'),GL=tn('<div class="border-2 p-2"><h3 class="text-lg font-bold">Risk Grades</h3> <p>Hover over each HOLC-designated area in the large map to learn more about the grades.</p></div>'),VL=tn(`<section id="scrolly-two" class="my-8 relative grid svelte-1ptztgj"><article class="w-full relative px-2 space-y-32 svelte-1ptztgj"><div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify left-[35vw] svelte-1ptztgj" data-step="1"><p>This is Oakland.</p> <p>Oakland sits just east of San Francisco, and is home for over 400,000 people.</p> <p>With a rich history dating almost two centuries, the city is known for its cultural vibrancy, art community, and political activism.</p> <p>Yet beneath its progressive reputation lies a legacy of inequality.</p></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify right-[35vw] svelte-1ptztgj" data-step="2"><p>The Home Owners' Loan Corporation (HOLC) was established in 1993 by President Franklin D. Roosevelt, under the New Deal. In 1937, they commissioned a report on the city of Oakland and the surrounding area.</p> <p>HOLC split Oakland into several neighborhoods and gave each of them a mortgage risk grade based on its neighborhoods and racial demographics.</p> <!> <!> <p>Areas with more people of color, especially Black people, resulted in a lower rating, which meant that residents would be denied loans and investments, decreasing their economic opportunities and access to homeownership, business equity, and other forms of household wealth.</p></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify left-[35vw] svelte-1ptztgj" data-step="3"><p>The 1937 map is overlaid on a modern map of Oakland and the surrounding Alameda county. Hover over each HOLC-designated area to find the 2020 census tract it falls into now.</p> <p>Below is a map of Oakland showing Black homeownership rates. Specifically: &quot;Percent of households living in owner-occupied housing. A housing unit is owner occupied if the owner or co-owner lives in the unit, even if it is mortgaged or not fully paid for.&quot;</p> <!> <!> <p>Notice how the darker areas of the map above tend to overlap with the green (A) and blue (B) parts of the HOLC map? It's not an exact match, because there are other factors that impact homeownership. It's still significant correlation, though.</p></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify right-[35vw] svelte-1ptztgj" data-step="4"><p>Now, let's look at social vulnerability, which &quot;measures the likelihood a community faces negative consequences from environmental, economic or health-related disasters, with a higher score reflecting greater risk.&quot;</p> <!> <!> <p>This time, the yellow (C) and red (D) areas overlap with the darker areas.</p> <p>Again, it might not just be redlining that caused this disparity. It may even be a different cause. However, we know that redlining and social vulnerability are linked, and by combining history knowledge with contemporary data, we're able to identify areas most in need of support.</p></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-left left-[35vw] svelte-1ptztgj" data-step="5"><p>Here's another visualization of social vulnerability.</p> <!> <p>And one showing life expectancy in relation to redlined areas.</p> <!> <p>Both charts show strong correlations.</p></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify right-[35vw] svelte-1ptztgj" data-step="6"><p>Studies have also proven strong links between redlining and public health issues. Nardone et al. found that, &quot;Historically redlined census tracts have significantly higher rates of emergency department visits due to asthma.&quot;</p> <!> <!></div> <div class="step relative z-1 w-96 p-4 flex flex-col gap-4 text-justify left-[35vw] svelte-1ptztgj" data-step="7"><p>How do we know the relationship between redlining and asthma is not purely coincidental? We can't say anything for sure, especially just with the data presented here. But here's another visualization that can give us a clue. &quot;This metric measures how many days nearby sensors recorded air quality levels over 50, the threshold at which sensitive groups can begin to be affected by pollutants. Air quality index (AQI) is determined by concentration of PM2.5 air particles.&quot;</p> <!> <!> <p>The air quality tends to be lower in the areas where there are higher rates of emergency department visits due to asthma. We know that bad air quality causes asthma, so what's causing the bad air quality?</p> <p>Look more closely at West Oakland. That's where the Industrial and Commercial areas were, as marked on the HOLC map. And because industrial activities release a lot of pollutants, the air quality tends to be poor.</p> <p>Notice how all the areas around the Industrial and Commercial areas are marked as yellow (C) and red (D)? Banks would refuse or be reluctant to give out loans to these areas' residents, making it harder for them to move out and into cleaner areas.</p></div> <div class="relative z-1 w-96 p-4 flex flex-col gap-4 text-justify left-[35vw] h-screen" data-step="8"></div></article> <figure class="sticky top-0 h-screen w-full overflow-hidden z-0 m-0 svelte-1ptztgj"><div id="map" class="relative w-full h-full"><svg id="overlay" class="absolute top-0 left-0 z-[1000]"></svg></div></figure></section> <div id="tooltip" class="absolute bg-white text-black p-1 text-sm hidden"></div>`,1);function jL(t,e){Ra(e,!1);const n=ru("scrollama"),i=ru("d3");let o,a;kg(async()=>{o=fc.map("map",{zoomControl:!1}).setView([37.81,-122.23],10),fc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(o),o.scrollWheelZoom.disable(),o.dragging.disable(),a=await(await fetch("/oakland/data/2020-tract-crosswalk.geojson")).json(),o.on("moveend",u);const Y=n();function U(){Y.resize()}function V(nt){const K=i.select("#overlay");c=nt.index,nt.index===0?K.selectAll("*").remove():nt.index===1?(K.selectAll("*").remove(),o.flyTo([37.81,-122.27],12,{animate:!0,duration:.8,easeLinearity:.25})):nt.index===2?(K.selectAll("*").remove(),o.flyTo([37.83,-122.21],12.8,{animate:!0,duration:.8,easeLinearity:.25})):nt.index===3?(K.selectAll("*").remove(),o.flyTo([37.78,-122.24],13,{animate:!0,duration:.8,easeLinearity:.25})):nt.index===4?(K.selectAll("*").remove(),o.flyTo([37.81,-122.23],11.7,{animate:!0,duration:.8,easeLinearity:.25})):nt.index===5?(K.selectAll("*").remove(),o.flyTo([37.81,-122.27],12,{animate:!0,duration:.8,easeLinearity:.25})):nt.index===6&&(K.selectAll("*").remove(),o.flyTo([37.79,-122.23],13,{animate:!0,duration:.8,easeLinearity:.25}))}function X(){U(),Y.setup({step:"#scrolly-two article .step",offset:.33,debug:!1}).onStepEnter(V)}X()});function u(){const Z=i.select("#overlay");Z.selectAll("*").remove(),Z.attr("width",o.getSize().x).attr("height",o.getSize().y);const q=Z.append("g"),Y=i.geoTransform({point(X,nt){const K=o.latLngToLayerPoint(new fc.LatLng(nt,X));this.stream.point(K.x,K.y)}}),U=i.geoPath().projection(Y),V=i.select("#tooltip");q.selectAll("path").data(a.features).enter().append("path").attr("class","area").attr("d",U).attr("stroke","#000").attr("fill",X=>X.properties.fill||"red").attr("fill-opacity",.5).style("pointer-events","all").style("cursor","pointer").on("mouseover",function(X,nt){c===1?(i.selectAll("path.area").filter(K=>i.select(this).attr("fill")===K.properties.fill).attr("stroke-width",1.5).attr("fill-opacity",.6),i.selectAll("path.area").filter(K=>i.select(this).attr("fill")!=K.properties.fill).attr("fill-opacity",.2),$e(l,i.select(this).attr("fill"))):V.style("display","block").text(`Census Tract: #${nt.properties.GEOID.slice(-6)}`),i.select(this).attr("fill-opacity",.8)}).on("mousemove",function(X){V.style("left",X.pageX+10+"px").style("top",X.pageY-28+"px")}).on("mouseout",function(){V.style("display","none"),i.selectAll("path.area").attr("stroke-width",1),i.selectAll("path.area").attr("fill-opacity",.5),$e(l,null)})}const f={"#76a865":{title:'A ("Best")',description:"Typically affluent, white neighborhoods with new or well-maintained housing."},"#7cb5bd":{title:'B ("Still Desirable")',description:"Generally considered stable and were often inhabited by middle-class residents."},"#ffff00":{title:'C ("Definitely Declining")',description:"Characterized by older housing, and mostly inhabited by racial minorities."},"#d9838d":{title:'D ("Hazardous")',description:"Deemed high-risk areas for investment, residents were predominantly people of color."},"#000000":{title:'"Industrial and Commercial"',description:"Not a grade, but was marked on the HOLC map in gray."}};let l=Lh(null),c=0;Rh();var d=VL(),_=zh(d),p=Lt(_),g=Mt(Lt(p),2),y=Mt(Lt(g),4);an(y,{src:"images/holc-oakland.jpg",alt:"holc map",caption:`<span class="font-bold">Thomas Bros.; Home Owners' Loan Corporation (1937).</span> Note: click on images to enlarge them.`});var v=Mt(y,2);{var b=Z=>{var q=YL(),Y=Lt(q),U=Lt(Y),V=Mt(Y,2),X=Lt(V);Gi(()=>{x0(q,`border-color: ${Yt(l)??""}`),x0(Y,`color: ${Yt(l)??""}`),Hi(U,f[Yt(l)].title),Hi(X,f[Yt(l)].description)}),Qe(Z,q)},x=Z=>{var q=GL();Qe(Z,q)};bc(v,Z=>{f[Yt(l)]?Z(b):Z(x,!1)})}var P=Mt(g,2),T=Mt(Lt(P),4);an(T,{src:"images/homeownership-map.png",alt:"homeownership map",caption:'Screenshot sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">American Community Survey (2023).',captionShow:!1});var M=Mt(T,2);an(M,{src:"images/homeownership-scale.png",alt:"homeownership scale",caption:'Screenshots sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">American Community Survey (2023).</span>'});var k=Mt(P,2),A=Mt(Lt(k),2);an(A,{src:"images/socialvulnerability-map.png",alt:"social vulnerability map",caption:'Screenshot sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">Center for Disease Control (2022).',captionShow:!1});var O=Mt(A,2);an(O,{src:"images/socialvulnerability-scale.png",alt:"social vulnerability scale",caption:'Screenshots sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">Center for Disease Control (2022).</span>'});var B=Mt(k,2),R=Mt(Lt(B),2);an(R,{src:"images/ncrc-socialvulnerability.jpg",alt:"social vulnerability map",caption:"National Community Reinvestment Coalition (2020).</span>"});var $=Mt(R,4);an($,{src:"images/ncrc-lifeexpectancy.jpg",alt:"life expectancy map",caption:"National Community Reinvestment Coalition (2020).</span>"});var z=Mt(B,2),W=Mt(Lt(z),2);an(W,{src:"images/asthma-heatmap.jpg",alt:"asthma heatmap",caption:'<span class="font-bold">Associations between historical residential redlining and current age-adjusted rates of emergency department visits due to asthma across eight cities in California: an ecological study.</span> Nardone, Anthony et al. The Lancet Planetary Health, Volume 4, Issue 1, e24 - e31. (2020).',captionShow:!1});var D=Mt(W,2);an(D,{src:"images/asthma-boxplot.jpg",alt:"asthma boxplot",caption:'<span class="font-bold">Associations between historical residential redlining and current age-adjusted rates of emergency department visits due to asthma across eight cities in California: an ecological study.</span> Nardone, Anthony et al. The Lancet Planetary Health, Volume 4, Issue 1, e24 - e31. (2020).'});var E=Mt(z,2),I=Mt(Lt(E),2);an(I,{src:"images/airquality-map.png",alt:"air quality map",caption:'Screenshot sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">Environmental Protection Agency (2024), PurpleAir (2024).',captionShow:!1});var C=Mt(I,2);an(C,{src:"images/airquality-scale.png",alt:"air quality scale",caption:'Screenshots sourced from: <span class="font-bold">Black Wealth Data Center.</span> Data sourced from: <span class="font-bold">Environmental Protection Agency (2024), PurpleAir (2024).</span>'}),Qe(t,d),$a()}var XL=tn('<div class="w-screen h-screen flex flex-col items-center justify-center p-4 gap-3"><h2 class="text-4xl font-extrabold text-red-600">What next?</h2> <p class="mb-3">Fixing racial inequity can seem like a daunting task. But we can tackle it by starting small.</p> <div class="flex flex-col items-center justify-center gap-6"><div class="w-2/3 p-6 rounded-lg border-red-600 border-4 border-double"><h3 class="text-2xl mb-2 underline underline-offset-8">Individuals</h3> <p>Start by educating yourself. What discriminatory policies historically existed in your area? Look into data and trends about demographics today, collected by organizations like <a href="https://blackwealthdata.org/" target="_blank" class="underline text-red-400 underline-offset-4">Black Wealth Data Center</a>. What multitude of factors created the disparities you see around you? This could include redlining, as well as communities replaced by newer development and freeways. Help build awareness of these issues in your community. Then, look towards helping marginalized groups build wealth. Support black businesses! Finally, reach out to your local government officials and ask them to take large-scale actions.</p></div> <div class="w-2/3 p-6 rounded-lg border-red-600 border-4 border-double"><h3 class="text-2xl mb-2 underline underline-offset-8">Local Governments</h3> <p>Housing and businesses are the best ways to generate household wealth. The city can implement programs that provide accessible and affordable housing, or grants to help small businesses.</p></div></div> <p class="mt-6 text-lg">With specific, targeted, and data-informed actions, we can rectify centuries of discrimination and marginalization and build a better future.</p></div>');function KL(t){var e=XL();Qe(t,e)}var JL=tn("<main><!> <!> <!> <!> <!> <!></main>");function QL(t,e){Ra(e,!1),h0("scrollama",o3),h0("d3",LL),Rh();var n=JL(),i=Lt(n);NL(i,{title:"Oakland Unscrolled",subtitle:"Mapping Racial Inequity"});var o=Mt(i,2);BL(o,{});var a=Mt(o,2);vh(a,{text:"Discriminatory policies existed all over the country, including right here at home. Though they no longer exist on paper, they continue to impact access to wealth for families and communities. One practice is particularly visible in the Bay Area: ",span:"redlining",suffix:"."});var u=Mt(a,2);jL(u,{});var f=Mt(u,2);vh(f,{text:"Redlining not only hindered Black people from building household wealth, but also made it difficult for them to leave unsafe areas. And it all happened, and is continuing to happen, ",span:"next door",suffix:" to me."});var l=Mt(f,2);KL(l),Qe(t,n),$a()}Ix(QL,{target:document.getElementById("app")});
